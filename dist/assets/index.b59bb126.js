const xi=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}};xi();var Tt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function yi(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}function Ya(t,a,o,r,i,s){return{tag:t,key:a,attrs:o,children:r,text:i,dom:s,domSize:void 0,state:void 0,events:void 0,instance:void 0}}Ya.normalize=function(t){return Array.isArray(t)?Ya("[",void 0,void 0,Ya.normalizeChildren(t),void 0,void 0):t==null||typeof t=="boolean"?null:typeof t=="object"?t:Ya("#",void 0,void 0,String(t),void 0,void 0)};Ya.normalizeChildren=function(t){var a=[];if(t.length){for(var o=t[0]!=null&&t[0].key!=null,r=1;r<t.length;r++)if((t[r]!=null&&t[r].key!=null)!==o)throw new TypeError(o&&(t[r]!=null||typeof t[r]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var r=0;r<t.length;r++)a[r]=Ya.normalize(t[r])}return a};var Sa=Ya,wi=Sa,jr=function(){var t=arguments[this],a=this+1,o;if(t==null?t={}:(typeof t!="object"||t.tag!=null||Array.isArray(t))&&(t={},a=this),arguments.length===a+1)o=arguments[a],Array.isArray(o)||(o=[o]);else for(o=[];a<arguments.length;)o.push(arguments[a++]);return wi("",t.key,t,o)},No={}.hasOwnProperty,_i=Sa,Pi=jr,ro=No,Mi=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,Ur={};function fr(t){for(var a in t)if(ro.call(t,a))return!1;return!0}function Ei(t){for(var a,o="div",r=[],i={};a=Mi.exec(t);){var s=a[1],c=a[2];if(s===""&&c!=="")o=c;else if(s==="#")i.id=c;else if(s===".")r.push(c);else if(a[3][0]==="["){var p=a[6];p&&(p=p.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),a[4]==="class"?r.push(p):i[a[4]]=p===""?p:p||!0}}return r.length>0&&(i.className=r.join(" ")),Ur[t]={tag:o,attrs:i}}function Di(t,a){var o=a.attrs,r=ro.call(o,"class"),i=r?o.class:o.className;if(a.tag=t.tag,a.attrs={},!fr(t.attrs)&&!fr(o)){var s={};for(var c in o)ro.call(o,c)&&(s[c]=o[c]);o=s}for(var c in t.attrs)ro.call(t.attrs,c)&&c!=="className"&&!ro.call(o,c)&&(o[c]=t.attrs[c]);(i!=null||t.attrs.className!=null)&&(o.className=i!=null?t.attrs.className!=null?String(t.attrs.className)+" "+String(i):i:t.attrs.className!=null?t.attrs.className:null),r&&(o.class=null);for(var c in o)if(ro.call(o,c)&&c!=="key"){a.attrs=o;break}return a}function Ti(t){if(t==null||typeof t!="string"&&typeof t!="function"&&typeof t.view!="function")throw Error("The selector must be either a string or a component.");var a=Pi.apply(1,arguments);return typeof t=="string"&&(a.children=_i.normalizeChildren(a.children),t!=="[")?Di(Ur[t]||Ei(t),a):(a.tag=t,a)}var Br=Ti,Ai=Sa,ki=function(t){return t==null&&(t=""),Ai("<",void 0,void 0,t,void 0,void 0)},Si=Sa,Ci=jr,Ii=function(){var t=Ci.apply(0,arguments);return t.tag="[",t.children=Si.normalizeChildren(t.children),t},nr=Br;nr.trust=ki;nr.fragment=Ii;var Ni=nr,xo={exports:{}},Ct=function(t){if(!(this instanceof Ct))throw new Error("Promise must be called with 'new'.");if(typeof t!="function")throw new TypeError("executor must be a function.");var a=this,o=[],r=[],i=f(o,!0),s=f(r,!1),c=a._instance={resolvers:o,rejectors:r},p=typeof setImmediate=="function"?setImmediate:setTimeout;function f(S,k){return function v(M){var D;try{if(k&&M!=null&&(typeof M=="object"||typeof M=="function")&&typeof(D=M.then)=="function"){if(M===a)throw new TypeError("Promise can't be resolved with itself.");u(D.bind(M))}else p(function(){!k&&S.length===0&&console.error("Possible unhandled promise rejection:",M);for(var h=0;h<S.length;h++)S[h](M);o.length=0,r.length=0,c.state=k,c.retry=function(){v(M)}})}catch(h){s(h)}}}function u(S){var k=0;function v(D){return function(h){k++>0||D(h)}}var M=v(s);try{S(v(i),M)}catch(D){M(D)}}u(t)};Ct.prototype.then=function(t,a){var o=this,r=o._instance;function i(f,u,S,k){u.push(function(v){if(typeof f!="function")S(v);else try{s(f(v))}catch(M){c&&c(M)}}),typeof r.retry=="function"&&k===r.state&&r.retry()}var s,c,p=new Ct(function(f,u){s=f,c=u});return i(t,r.resolvers,s,!0),i(a,r.rejectors,c,!1),p};Ct.prototype.catch=function(t){return this.then(null,t)};Ct.prototype.finally=function(t){return this.then(function(a){return Ct.resolve(t()).then(function(){return a})},function(a){return Ct.resolve(t()).then(function(){return Ct.reject(a)})})};Ct.resolve=function(t){return t instanceof Ct?t:new Ct(function(a){a(t)})};Ct.reject=function(t){return new Ct(function(a,o){o(t)})};Ct.all=function(t){return new Ct(function(a,o){var r=t.length,i=0,s=[];if(t.length===0)a([]);else for(var c=0;c<t.length;c++)(function(p){function f(u){i++,s[p]=u,i===r&&a(s)}t[p]!=null&&(typeof t[p]=="object"||typeof t[p]=="function")&&typeof t[p].then=="function"?t[p].then(f,o):f(t[p])})(c)})};Ct.race=function(t){return new Ct(function(a,o){for(var r=0;r<t.length;r++)t[r].then(a,o)})};var Vr=Ct,lo=Vr;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=lo:window.Promise.prototype.finally||(window.Promise.prototype.finally=lo.prototype.finally),xo.exports=window.Promise):typeof Tt!="undefined"?(typeof Tt.Promise=="undefined"?Tt.Promise=lo:Tt.Promise.prototype.finally||(Tt.Promise.prototype.finally=lo.prototype.finally),xo.exports=Tt.Promise):xo.exports=lo;var Jo=Sa,Ri=function(t){var a=t&&t.document,o,r={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(d){return d.attrs&&d.attrs.xmlns||r[d.tag]}function s(d,n){if(d.state!==n)throw new Error("'vnode.state' must not be modified.")}function c(d){var n=d.state;try{return this.apply(n,arguments)}finally{s(d,n)}}function p(){try{return a.activeElement}catch{return null}}function f(d,n,l,A,F,ee,Te){for(var Oe=l;Oe<A;Oe++){var ge=n[Oe];ge!=null&&u(d,ge,F,Te,ee)}}function u(d,n,l,A,F){var ee=n.tag;if(typeof ee=="string")switch(n.state={},n.attrs!=null&&Ho(n.attrs,n,l),ee){case"#":S(d,n,F);break;case"<":v(d,n,A,F);break;case"[":M(d,n,l,A,F);break;default:D(d,n,l,A,F)}else T(d,n,l,A,F)}function S(d,n,l){n.dom=a.createTextNode(n.children),le(d,n.dom,l)}var k={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function v(d,n,l,A){var F=n.children.match(/^\s*?<(\w+)/im)||[],ee=a.createElement(k[F[1]]||"div");l==="http://www.w3.org/2000/svg"?(ee.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+n.children+"</svg>",ee=ee.firstChild):ee.innerHTML=n.children,n.dom=ee.firstChild,n.domSize=ee.childNodes.length,n.instance=[];for(var Te=a.createDocumentFragment(),Oe;Oe=ee.firstChild;)n.instance.push(Oe),Te.appendChild(Oe);le(d,Te,A)}function M(d,n,l,A,F){var ee=a.createDocumentFragment();if(n.children!=null){var Te=n.children;f(ee,Te,0,Te.length,l,null,A)}n.dom=ee.firstChild,n.domSize=ee.childNodes.length,le(d,ee,F)}function D(d,n,l,A,F){var ee=n.tag,Te=n.attrs,Oe=Te&&Te.is;A=i(n)||A;var ge=A?Oe?a.createElementNS(A,ee,{is:Oe}):a.createElementNS(A,ee):Oe?a.createElement(ee,{is:Oe}):a.createElement(ee);if(n.dom=ge,Te!=null&&P(n,Te,A),le(d,ge,F),!Ae(n)&&n.children!=null){var Ke=n.children;f(ge,Ke,0,Ke.length,l,null,A),n.tag==="select"&&Te!=null&&B(n,Te)}}function h(d,n){var l;if(typeof d.tag.view=="function"){if(d.state=Object.create(d.tag),l=d.state.view,l.$$reentrantLock$$!=null)return;l.$$reentrantLock$$=!0}else{if(d.state=void 0,l=d.tag,l.$$reentrantLock$$!=null)return;l.$$reentrantLock$$=!0,d.state=d.tag.prototype!=null&&typeof d.tag.prototype.view=="function"?new d.tag(d):d.tag(d)}if(Ho(d.state,d,n),d.attrs!=null&&Ho(d.attrs,d,n),d.instance=Jo.normalize(c.call(d.state.view,d)),d.instance===d)throw Error("A view cannot return the vnode it received as argument");l.$$reentrantLock$$=null}function T(d,n,l,A,F){h(n,l),n.instance!=null?(u(d,n.instance,l,A,F),n.dom=n.instance.dom,n.domSize=n.dom!=null?n.instance.domSize:0):n.domSize=0}function oe(d,n,l,A,F,ee){if(!(n===l||n==null&&l==null))if(n==null||n.length===0)f(d,l,0,l.length,A,F,ee);else if(l==null||l.length===0)He(d,n,0,n.length);else{var Te=n[0]!=null&&n[0].key!=null,Oe=l[0]!=null&&l[0].key!=null,ge=0,Ke=0;if(!Te)for(;Ke<n.length&&n[Ke]==null;)Ke++;if(!Oe)for(;ge<l.length&&l[ge]==null;)ge++;if(Te!==Oe)He(d,n,Ke,n.length),f(d,l,ge,l.length,A,F,ee);else if(Oe){for(var Ut=n.length-1,At=l.length-1,_o,Bt,bt,Yt,dt,jo;Ut>=Ke&&At>=ge&&(Yt=n[Ut],dt=l[At],Yt.key===dt.key);)Yt!==dt&&g(d,Yt,dt,A,F,ee),dt.dom!=null&&(F=dt.dom),Ut--,At--;for(;Ut>=Ke&&At>=ge&&(Bt=n[Ke],bt=l[ge],Bt.key===bt.key);)Ke++,ge++,Bt!==bt&&g(d,Bt,bt,A,O(n,Ke,F),ee);for(;Ut>=Ke&&At>=ge&&!(ge===At||Bt.key!==dt.key||Yt.key!==bt.key);)jo=O(n,Ke,F),W(d,Yt,jo),Yt!==bt&&g(d,Yt,bt,A,jo,ee),++ge<=--At&&W(d,Bt,F),Bt!==dt&&g(d,Bt,dt,A,F,ee),dt.dom!=null&&(F=dt.dom),Ke++,Ut--,Yt=n[Ut],dt=l[At],Bt=n[Ke],bt=l[ge];for(;Ut>=Ke&&At>=ge&&Yt.key===dt.key;)Yt!==dt&&g(d,Yt,dt,A,F,ee),dt.dom!=null&&(F=dt.dom),Ut--,At--,Yt=n[Ut],dt=l[At];if(ge>At)He(d,n,Ke,Ut+1);else if(Ke>Ut)f(d,l,ge,At+1,A,F,ee);else{var vi=F,pr=At-ge+1,so=new Array(pr),Uo=0,ft=0,Bo=2147483647,Vo=0,_o,qo;for(ft=0;ft<pr;ft++)so[ft]=-1;for(ft=At;ft>=ge;ft--){_o==null&&(_o=se(n,Ke,Ut+1)),dt=l[ft];var Qa=_o[dt.key];Qa!=null&&(Bo=Qa<Bo?Qa:-1,so[ft-ge]=Qa,Yt=n[Qa],n[Qa]=null,Yt!==dt&&g(d,Yt,dt,A,F,ee),dt.dom!=null&&(F=dt.dom),Vo++)}if(F=vi,Vo!==Ut-Ke+1&&He(d,n,Ke,Ut+1),Vo===0)f(d,l,ge,At+1,A,F,ee);else if(Bo===-1)for(qo=y(so),Uo=qo.length-1,ft=At;ft>=ge;ft--)bt=l[ft],so[ft-ge]===-1?u(d,bt,A,ee,F):qo[Uo]===ft-ge?Uo--:W(d,bt,F),bt.dom!=null&&(F=l[ft].dom);else for(ft=At;ft>=ge;ft--)bt=l[ft],so[ft-ge]===-1&&u(d,bt,A,ee,F),bt.dom!=null&&(F=l[ft].dom)}}else{var Yo=n.length<l.length?n.length:l.length;for(ge=ge<Ke?ge:Ke;ge<Yo;ge++)Bt=n[ge],bt=l[ge],!(Bt===bt||Bt==null&&bt==null)&&(Bt==null?u(d,bt,A,ee,O(n,ge+1,F)):bt==null?j(d,Bt):g(d,Bt,bt,A,O(n,ge+1,F),ee));n.length>Yo&&He(d,n,ge,n.length),l.length>Yo&&f(d,l,ge,l.length,A,F,ee)}}}function g(d,n,l,A,F,ee){var Te=n.tag,Oe=l.tag;if(Te===Oe){if(l.state=n.state,l.events=n.events,gi(l,n))return;if(typeof Te=="string")switch(l.attrs!=null&&$o(l.attrs,l,A),Te){case"#":b(n,l);break;case"<":x(d,n,l,ee,F);break;case"[":R(d,n,l,A,F,ee);break;default:L(n,l,A,ee)}else te(d,n,l,A,F,ee)}else j(d,n),u(d,l,A,ee,F)}function b(d,n){d.children.toString()!==n.children.toString()&&(d.dom.nodeValue=n.children),n.dom=d.dom}function x(d,n,l,A,F){n.children!==l.children?(Y(d,n),v(d,l,A,F)):(l.dom=n.dom,l.domSize=n.domSize,l.instance=n.instance)}function R(d,n,l,A,F,ee){oe(d,n.children,l.children,A,F,ee);var Te=0,Oe=l.children;if(l.dom=null,Oe!=null){for(var ge=0;ge<Oe.length;ge++){var Ke=Oe[ge];Ke!=null&&Ke.dom!=null&&(l.dom==null&&(l.dom=Ke.dom),Te+=Ke.domSize||1)}Te!==1&&(l.domSize=Te)}}function L(d,n,l,A){var F=n.dom=d.dom;A=i(n)||A,n.tag==="textarea"&&n.attrs==null&&(n.attrs={}),Xt(n,d.attrs,n.attrs,A),Ae(n)||oe(F,d.children,n.children,l,null,A)}function te(d,n,l,A,F,ee){if(l.instance=Jo.normalize(c.call(l.state.view,l)),l.instance===l)throw Error("A view cannot return the vnode it received as argument");$o(l.state,l,A),l.attrs!=null&&$o(l.attrs,l,A),l.instance!=null?(n.instance==null?u(d,l.instance,A,ee,F):g(d,n.instance,l.instance,A,F,ee),l.dom=l.instance.dom,l.domSize=l.instance.domSize):n.instance!=null?(j(d,n.instance),l.dom=void 0,l.domSize=0):(l.dom=n.dom,l.domSize=n.domSize)}function se(d,n,l){for(var A=Object.create(null);n<l;n++){var F=d[n];if(F!=null){var ee=F.key;ee!=null&&(A[ee]=n)}}return A}var re=[];function y(d){for(var n=[0],l=0,A=0,F=0,ee=re.length=d.length,F=0;F<ee;F++)re[F]=d[F];for(var F=0;F<ee;++F)if(d[F]!==-1){var Te=n[n.length-1];if(d[Te]<d[F]){re[F]=Te,n.push(F);continue}for(l=0,A=n.length-1;l<A;){var Oe=(l>>>1)+(A>>>1)+(l&A&1);d[n[Oe]]<d[F]?l=Oe+1:A=Oe}d[F]<d[n[l]]&&(l>0&&(re[F]=n[l-1]),n[l]=F)}for(l=n.length,A=n[l-1];l-- >0;)n[l]=A,A=re[A];return re.length=0,n}function O(d,n,l){for(;n<d.length;n++)if(d[n]!=null&&d[n].dom!=null)return d[n].dom;return l}function W(d,n,l){var A=a.createDocumentFragment();q(d,A,n),le(d,A,l)}function q(d,n,l){for(;l.dom!=null&&l.dom.parentNode===d;){if(typeof l.tag!="string"){if(l=l.instance,l!=null)continue}else if(l.tag==="<")for(var A=0;A<l.instance.length;A++)n.appendChild(l.instance[A]);else if(l.tag!=="[")n.appendChild(l.dom);else if(l.children.length===1){if(l=l.children[0],l!=null)continue}else for(var A=0;A<l.children.length;A++){var F=l.children[A];F!=null&&q(d,n,F)}break}}function le(d,n,l){l!=null?d.insertBefore(n,l):d.appendChild(n)}function Ae(d){if(d.attrs==null||d.attrs.contenteditable==null&&d.attrs.contentEditable==null)return!1;var n=d.children;if(n!=null&&n.length===1&&n[0].tag==="<"){var l=n[0].children;d.dom.innerHTML!==l&&(d.dom.innerHTML=l)}else if(n!=null&&n.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function He(d,n,l,A){for(var F=l;F<A;F++){var ee=n[F];ee!=null&&j(d,ee)}}function j(d,n){var l=0,A=n.state,F,ee;if(typeof n.tag!="string"&&typeof n.state.onbeforeremove=="function"){var Te=c.call(n.state.onbeforeremove,n);Te!=null&&typeof Te.then=="function"&&(l=1,F=Te)}if(n.attrs&&typeof n.attrs.onbeforeremove=="function"){var Te=c.call(n.attrs.onbeforeremove,n);Te!=null&&typeof Te.then=="function"&&(l|=2,ee=Te)}if(s(n,A),!l)fe(n),ae(d,n);else{if(F!=null){var Oe=function(){l&1&&(l&=2,l||ge())};F.then(Oe,Oe)}if(ee!=null){var Oe=function(){l&2&&(l&=1,l||ge())};ee.then(Oe,Oe)}}function ge(){s(n,A),fe(n),ae(d,n)}}function Y(d,n){for(var l=0;l<n.instance.length;l++)d.removeChild(n.instance[l])}function ae(d,n){for(;n.dom!=null&&n.dom.parentNode===d;){if(typeof n.tag!="string"){if(n=n.instance,n!=null)continue}else if(n.tag==="<")Y(d,n);else{if(n.tag!=="["&&(d.removeChild(n.dom),!Array.isArray(n.children)))break;if(n.children.length===1){if(n=n.children[0],n!=null)continue}else for(var l=0;l<n.children.length;l++){var A=n.children[l];A!=null&&ae(d,A)}}break}}function fe(d){if(typeof d.tag!="string"&&typeof d.state.onremove=="function"&&c.call(d.state.onremove,d),d.attrs&&typeof d.attrs.onremove=="function"&&c.call(d.attrs.onremove,d),typeof d.tag!="string")d.instance!=null&&fe(d.instance);else{var n=d.children;if(Array.isArray(n))for(var l=0;l<n.length;l++){var A=n[l];A!=null&&fe(A)}}}function P(d,n,l){d.tag==="input"&&n.type!=null&&d.dom.setAttribute("type",n.type);var A=n!=null&&d.tag==="input"&&n.type==="file";for(var F in n)H(d,F,null,n[F],l,A)}function H(d,n,l,A,F,ee){if(!(n==="key"||n==="is"||A==null||Ta(n)||l===A&&!qt(d,n)&&typeof A!="object"||n==="type"&&d.tag==="input")){if(n[0]==="o"&&n[1]==="n")return mr(d,n,A);if(n.slice(0,6)==="xlink:")d.dom.setAttributeNS("http://www.w3.org/1999/xlink",n.slice(6),A);else if(n==="style")ur(d.dom,l,A);else if(fa(d,n,F)){if(n==="value"){if((d.tag==="input"||d.tag==="textarea")&&d.dom.value===""+A&&(ee||d.dom===p())||d.tag==="select"&&l!==null&&d.dom.value===""+A||d.tag==="option"&&l!==null&&d.dom.value===""+A)return;if(ee&&""+A!=""){console.error("`value` is read-only on file inputs!");return}}d.dom[n]=A}else typeof A=="boolean"?A?d.dom.setAttribute(n,""):d.dom.removeAttribute(n):d.dom.setAttribute(n==="className"?"class":n,A)}}function U(d,n,l,A){if(!(n==="key"||n==="is"||l==null||Ta(n)))if(n[0]==="o"&&n[1]==="n")mr(d,n,void 0);else if(n==="style")ur(d.dom,l,null);else if(fa(d,n,A)&&n!=="className"&&n!=="title"&&!(n==="value"&&(d.tag==="option"||d.tag==="select"&&d.dom.selectedIndex===-1&&d.dom===p()))&&!(d.tag==="input"&&n==="type"))d.dom[n]=null;else{var F=n.indexOf(":");F!==-1&&(n=n.slice(F+1)),l!==!1&&d.dom.removeAttribute(n==="className"?"class":n)}}function B(d,n){if("value"in n)if(n.value===null)d.dom.selectedIndex!==-1&&(d.dom.value=null);else{var l=""+n.value;(d.dom.value!==l||d.dom.selectedIndex===-1)&&(d.dom.value=l)}"selectedIndex"in n&&H(d,"selectedIndex",null,n.selectedIndex,void 0)}function Xt(d,n,l,A){if(n&&n===l&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major"),l!=null){d.tag==="input"&&l.type!=null&&d.dom.setAttribute("type",l.type);var F=d.tag==="input"&&l.type==="file";for(var ee in l)H(d,ee,n&&n[ee],l[ee],A,F)}var Te;if(n!=null)for(var ee in n)(Te=n[ee])!=null&&(l==null||l[ee]==null)&&U(d,ee,Te,A)}function qt(d,n){return n==="value"||n==="checked"||n==="selectedIndex"||n==="selected"&&d.dom===p()||d.tag==="option"&&d.dom.parentNode===a.activeElement}function Ta(d){return d==="oninit"||d==="oncreate"||d==="onupdate"||d==="onremove"||d==="onbeforeremove"||d==="onbeforeupdate"}function fa(d,n,l){return l===void 0&&(d.tag.indexOf("-")>-1||d.attrs!=null&&d.attrs.is||n!=="href"&&n!=="list"&&n!=="form"&&n!=="width"&&n!=="height")&&n in d.dom}var bi=/[A-Z]/g;function hi(d){return"-"+d.toLowerCase()}function Fo(d){return d[0]==="-"&&d[1]==="-"?d:d==="cssFloat"?"float":d.replace(bi,hi)}function ur(d,n,l){if(n!==l)if(l==null)d.style.cssText="";else if(typeof l!="object")d.style.cssText=l;else if(n==null||typeof n!="object"){d.style.cssText="";for(var A in l){var F=l[A];F!=null&&d.style.setProperty(Fo(A),String(F))}}else{for(var A in l){var F=l[A];F!=null&&(F=String(F))!==String(n[A])&&d.style.setProperty(Fo(A),F)}for(var A in n)n[A]!=null&&l[A]==null&&d.style.removeProperty(Fo(A))}}function Oo(){this._=o}Oo.prototype=Object.create(null),Oo.prototype.handleEvent=function(d){var n=this["on"+d.type],l;typeof n=="function"?l=n.call(d.currentTarget,d):typeof n.handleEvent=="function"&&n.handleEvent(d),this._&&d.redraw!==!1&&(0,this._)(),l===!1&&(d.preventDefault(),d.stopPropagation())};function mr(d,n,l){if(d.events!=null){if(d.events._=o,d.events[n]===l)return;l!=null&&(typeof l=="function"||typeof l=="object")?(d.events[n]==null&&d.dom.addEventListener(n.slice(2),d.events,!1),d.events[n]=l):(d.events[n]!=null&&d.dom.removeEventListener(n.slice(2),d.events,!1),d.events[n]=void 0)}else l!=null&&(typeof l=="function"||typeof l=="object")&&(d.events=new Oo,d.dom.addEventListener(n.slice(2),d.events,!1),d.events[n]=l)}function Ho(d,n,l){typeof d.oninit=="function"&&c.call(d.oninit,n),typeof d.oncreate=="function"&&l.push(c.bind(d.oncreate,n))}function $o(d,n,l){typeof d.onupdate=="function"&&l.push(c.bind(d.onupdate,n))}function gi(d,n){do{if(d.attrs!=null&&typeof d.attrs.onbeforeupdate=="function"){var l=c.call(d.attrs.onbeforeupdate,d,n);if(l!==void 0&&!l)break}if(typeof d.tag!="string"&&typeof d.state.onbeforeupdate=="function"){var l=c.call(d.state.onbeforeupdate,d,n);if(l!==void 0&&!l)break}return!1}while(!1);return d.dom=n.dom,d.domSize=n.domSize,d.instance=n.instance,d.attrs=n.attrs,d.children=n.children,d.text=n.text,!0}var no;return function(d,n,l){if(!d)throw new TypeError("DOM element being rendered to does not exist.");if(no!=null&&d.contains(no))throw new TypeError("Node is currently being rendered to and thus is locked.");var A=o,F=no,ee=[],Te=p(),Oe=d.namespaceURI;no=d,o=typeof l=="function"?l:void 0;try{d.vnodes==null&&(d.textContent=""),n=Jo.normalizeChildren(Array.isArray(n)?n:[n]),oe(d,d.vnodes,n,ee,null,Oe==="http://www.w3.org/1999/xhtml"?void 0:Oe),d.vnodes=n,Te!=null&&p()!==Te&&typeof Te.focus=="function"&&Te.focus();for(var ge=0;ge<ee.length;ge++)ee[ge]()}finally{o=A,no=F}}},qr=Ri(typeof window!="undefined"?window:null),br=Sa,Li=function(t,a,o){var r=[],i=!1,s=-1;function c(){for(s=0;s<r.length;s+=2)try{t(r[s],br(r[s+1]),p)}catch(u){o.error(u)}s=-1}function p(){i||(i=!0,a(function(){i=!1,c()}))}p.sync=c;function f(u,S){if(S!=null&&S.view==null&&typeof S!="function")throw new TypeError("m.mount expects a component, not a vnode.");var k=r.indexOf(u);k>=0&&(r.splice(k,2),k<=s&&(s-=2),t(u,[])),S!=null&&(r.push(u,S),t(u,br(S),p))}return{mount:f,redraw:p}},Fi=qr,sr=Li(Fi,typeof requestAnimationFrame!="undefined"?requestAnimationFrame:null,typeof console!="undefined"?console:null),Jr=function(t){if(Object.prototype.toString.call(t)!=="[object Object]")return"";var a=[];for(var o in t)r(o,t[o]);return a.join("&");function r(i,s){if(Array.isArray(s))for(var c=0;c<s.length;c++)r(i+"["+c+"]",s[c]);else if(Object.prototype.toString.call(s)==="[object Object]")for(var c in s)r(i+"["+c+"]",s[c]);else a.push(encodeURIComponent(i)+(s!=null&&s!==""?"="+encodeURIComponent(s):""))}},Oi=No,zr=Object.assign||function(t,a){for(var o in a)Oi.call(a,o)&&(t[o]=a[o])},Hi=Jr,$i=zr,dr=function(t,a){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(a==null)return t;var o=t.indexOf("?"),r=t.indexOf("#"),i=r<0?t.length:r,s=o<0?i:o,c=t.slice(0,s),p={};$i(p,a);var f=c.replace(/:([^\/\.-]+)(\.{3})?/g,function(h,T,oe){return delete p[T],a[T]==null?h:oe?a[T]:encodeURIComponent(String(a[T]))}),u=f.indexOf("?"),S=f.indexOf("#"),k=S<0?f.length:S,v=u<0?k:u,M=f.slice(0,v);o>=0&&(M+=t.slice(o,i)),u>=0&&(M+=(o<0?"?":"&")+f.slice(u,k));var D=Hi(p);return D&&(M+=(o<0&&u<0?"?":"&")+D),r>=0&&(M+=t.slice(r)),S>=0&&(M+=(r<0?"":"&")+f.slice(S)),M},Yi=dr,hr=No,ji=function(t,a,o){var r=0;function i(p){return new a(p)}i.prototype=a.prototype,i.__proto__=a;function s(p){return function(f,u){typeof f!="string"?(u=f,f=f.url):u==null&&(u={});var S=new a(function(D,h){p(Yi(f,u.params),u,function(T){if(typeof u.type=="function")if(Array.isArray(T))for(var oe=0;oe<T.length;oe++)T[oe]=new u.type(T[oe]);else T=new u.type(T);D(T)},h)});if(u.background===!0)return S;var k=0;function v(){--k===0&&typeof o=="function"&&o()}return M(S);function M(D){var h=D.then;return D.constructor=i,D.then=function(){k++;var T=h.apply(D,arguments);return T.then(v,function(oe){if(v(),k===0)throw oe}),M(T)},D}}}function c(p,f){for(var u in p.headers)if(hr.call(p.headers,u)&&u.toLowerCase()===f)return!0;return!1}return{request:s(function(p,f,u,S){var k=f.method!=null?f.method.toUpperCase():"GET",v=f.body,M=(f.serialize==null||f.serialize===JSON.serialize)&&!(v instanceof t.FormData||v instanceof t.URLSearchParams),D=f.responseType||(typeof f.extract=="function"?"":"json"),h=new t.XMLHttpRequest,T=!1,oe=!1,g=h,b,x=h.abort;h.abort=function(){T=!0,x.call(this)},h.open(k,p,f.async!==!1,typeof f.user=="string"?f.user:void 0,typeof f.password=="string"?f.password:void 0),M&&v!=null&&!c(f,"content-type")&&h.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof f.deserialize!="function"&&!c(f,"accept")&&h.setRequestHeader("Accept","application/json, text/*"),f.withCredentials&&(h.withCredentials=f.withCredentials),f.timeout&&(h.timeout=f.timeout),h.responseType=D;for(var R in f.headers)hr.call(f.headers,R)&&h.setRequestHeader(R,f.headers[R]);h.onreadystatechange=function(L){if(!T&&L.target.readyState===4)try{var te=L.target.status>=200&&L.target.status<300||L.target.status===304||/^file:\/\//i.test(p),se=L.target.response,re;if(D==="json"){if(!L.target.responseType&&typeof f.extract!="function")try{se=JSON.parse(L.target.responseText)}catch{se=null}}else(!D||D==="text")&&se==null&&(se=L.target.responseText);if(typeof f.extract=="function"?(se=f.extract(L.target,f),te=!0):typeof f.deserialize=="function"&&(se=f.deserialize(se)),te)u(se);else{var y=function(){try{re=L.target.responseText}catch{re=se}var O=new Error(re);O.code=L.target.status,O.response=se,S(O)};h.status===0?setTimeout(function(){oe||y()}):y()}}catch(O){S(O)}},h.ontimeout=function(L){oe=!0;var te=new Error("Request timed out");te.code=L.target.status,S(te)},typeof f.config=="function"&&(h=f.config(h,f,p)||h,h!==g&&(b=h.abort,h.abort=function(){T=!0,b.call(this)})),v==null?h.send():typeof f.serialize=="function"?h.send(f.serialize(v)):v instanceof t.FormData||v instanceof t.URLSearchParams?h.send(v):h.send(JSON.stringify(v))}),jsonp:s(function(p,f,u,S){var k=f.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+r++,v=t.document.createElement("script");t[k]=function(M){delete t[k],v.parentNode.removeChild(v),u(M)},v.onerror=function(){delete t[k],v.parentNode.removeChild(v),S(new Error("JSONP request failed"))},v.src=p+(p.indexOf("?")<0?"?":"&")+encodeURIComponent(f.callbackKey||"callback")+"="+encodeURIComponent(k),t.document.documentElement.appendChild(v)})}},Ui=xo.exports,Bi=sr,Vi=ji(typeof window!="undefined"?window:null,Ui,Bi.redraw);function gr(t){try{return decodeURIComponent(t)}catch{return t}}var Gr=function(t){if(t===""||t==null)return{};t.charAt(0)==="?"&&(t=t.slice(1));for(var a=t.split("&"),o={},r={},i=0;i<a.length;i++){var s=a[i].split("="),c=gr(s[0]),p=s.length===2?gr(s[1]):"";p==="true"?p=!0:p==="false"&&(p=!1);var f=c.split(/\]\[?|\[/),u=r;c.indexOf("[")>-1&&f.pop();for(var S=0;S<f.length;S++){var k=f[S],v=f[S+1],M=v==""||!isNaN(parseInt(v,10));if(k===""){var c=f.slice(0,S).join();o[c]==null&&(o[c]=Array.isArray(u)?u.length:0),k=o[c]++}else if(k==="__proto__")break;if(S===f.length-1)u[k]=p;else{var D=Object.getOwnPropertyDescriptor(u,k);D!=null&&(D=D.value),D==null&&(u[k]=D=M?[]:{}),u=D}}}return r},qi=Gr,lr=function(t){var a=t.indexOf("?"),o=t.indexOf("#"),r=o<0?t.length:o,i=a<0?r:a,s=t.slice(0,i).replace(/\/{2,}/g,"/");return s?(s[0]!=="/"&&(s="/"+s),s.length>1&&s[s.length-1]==="/"&&(s=s.slice(0,-1))):s="/",{path:s,params:a<0?{}:qi(t.slice(a+1,r))}},Ji=lr,zi=function(t){var a=Ji(t),o=Object.keys(a.params),r=[],i=new RegExp("^"+a.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(s,c,p){return c==null?"\\"+s:(r.push({k:c,r:p==="..."}),p==="..."?"(.*)":p==="."?"([^/]+)\\.":"([^/]+)"+(p||""))})+"$");return function(s){for(var c=0;c<o.length;c++)if(a.params[o[c]]!==s.params[o[c]])return!1;if(!r.length)return i.test(s.path);var p=i.exec(s.path);if(p==null)return!1;for(var c=0;c<r.length;c++)s.params[r[c].k]=r[c].r?p[c+1]:decodeURIComponent(p[c+1]);return!0}},vr=No,xr=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$"),Xr=function(t,a){var o={};if(a!=null)for(var r in t)vr.call(t,r)&&!xr.test(r)&&a.indexOf(r)<0&&(o[r]=t[r]);else for(var r in t)vr.call(t,r)&&!xr.test(r)&&(o[r]=t[r]);return o},Gi=Sa,Xi=Br,Ki=xo.exports,yr=dr,wr=lr,Wi=zi,Zi=zr,Qi=Xr,zo={};function en(t){try{return decodeURIComponent(t)}catch{return t}}var tn=function(t,a){var o=t==null?null:typeof t.setImmediate=="function"?t.setImmediate:t.setTimeout,r=Ki.resolve(),i=!1,s=!1,c=0,p,f,u=zo,S,k,v,M,D={onbeforeupdate:function(){return c=c?2:1,!(!c||zo===u)},onremove:function(){t.removeEventListener("popstate",oe,!1),t.removeEventListener("hashchange",T,!1)},view:function(){if(!(!c||zo===u)){var x=[Gi(S,k.key,k)];return u&&(x=u.render(x[0])),x}}},h=b.SKIP={};function T(){i=!1;var x=t.location.hash;b.prefix[0]!=="#"&&(x=t.location.search+x,b.prefix[0]!=="?"&&(x=t.location.pathname+x,x[0]!=="/"&&(x="/"+x)));var R=x.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,en).slice(b.prefix.length),L=wr(R);Zi(L.params,t.history.state);function te(re){console.error(re),g(f,null,{replace:!0})}se(0);function se(re){for(;re<p.length;re++)if(p[re].check(L)){var y=p[re].component,O=p[re].route,W=y,q=M=function(le){if(q===M){if(le===h)return se(re+1);S=le!=null&&(typeof le.view=="function"||typeof le=="function")?le:"div",k=L.params,v=R,M=null,u=y.render?y:null,c===2?a.redraw():(c=2,a.redraw.sync())}};y.view||typeof y=="function"?(y={},q(W)):y.onmatch?r.then(function(){return y.onmatch(L.params,R,O)}).then(q,R===f?null:te):q("div");return}if(R===f)throw new Error("Could not resolve default route "+f+".");g(f,null,{replace:!0})}}function oe(){i||(i=!0,o(T))}function g(x,R,L){if(x=yr(x,R),s){oe();var te=L?L.state:null,se=L?L.title:null;L&&L.replace?t.history.replaceState(te,se,b.prefix+x):t.history.pushState(te,se,b.prefix+x)}else t.location.href=b.prefix+x}function b(x,R,L){if(!x)throw new TypeError("DOM element being rendered to does not exist.");if(p=Object.keys(L).map(function(se){if(se[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(se))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:se,component:L[se],check:Wi(se)}}),f=R,R!=null){var te=wr(R);if(!p.some(function(se){return se.check(te)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof t.history.pushState=="function"?t.addEventListener("popstate",oe,!1):b.prefix[0]==="#"&&t.addEventListener("hashchange",T,!1),s=!0,a.mount(x,D),T()}return b.set=function(x,R,L){M!=null&&(L=L||{},L.replace=!0),M=null,g(x,R,L)},b.get=function(){return v},b.prefix="#!",b.Link={view:function(x){var R=Xi(x.attrs.selector||"a",Qi(x.attrs,["options","params","selector","onclick"]),x.children),L,te,se;return(R.attrs.disabled=Boolean(R.attrs.disabled))?(R.attrs.href=null,R.attrs["aria-disabled"]="true"):(L=x.attrs.options,te=x.attrs.onclick,se=yr(R.attrs.href,x.attrs.params),R.attrs.href=b.prefix+se,R.attrs.onclick=function(re){var y;typeof te=="function"?y=te.call(re.currentTarget,re):te==null||typeof te!="object"||typeof te.handleEvent=="function"&&te.handleEvent(re),y!==!1&&!re.defaultPrevented&&(re.button===0||re.which===0||re.which===1)&&(!re.currentTarget.target||re.currentTarget.target==="_self")&&!re.ctrlKey&&!re.metaKey&&!re.shiftKey&&!re.altKey&&(re.preventDefault(),re.redraw=!1,b.set(se,null,L))}),R}},b.param=function(x){return k&&x!=null?k[x]:k},b},an=sr,on=tn(typeof window!="undefined"?window:null,an),Ro=Ni,Kr=Vi,Wr=sr,It=function(){return Ro.apply(this,arguments)};It.m=Ro;It.trust=Ro.trust;It.fragment=Ro.fragment;It.Fragment="[";It.mount=Wr.mount;It.route=on;It.render=qr;It.redraw=Wr.redraw;It.request=Kr.request;It.jsonp=Kr.jsonp;It.parseQueryString=Gr;It.buildQueryString=Jr;It.parsePathname=lr;It.buildPathname=dr;It.vnode=Sa;It.PromisePolyfill=Vr;It.censor=Xr;var e=It;const rn={httpError:"Error en petici\xF3n HTTP. [HTTP ERROR] Comun\xEDcate son soporte."};var Zr={exports:{}};(function(t,a){(function(o,r){t.exports=r()})(Tt,function(){return(()=>{var o={d:(M,D)=>{for(var h in D)o.o(D,h)&&!o.o(M,h)&&Object.defineProperty(M,h,{enumerable:!0,get:D[h]})},o:(M,D)=>Object.prototype.hasOwnProperty.call(M,D)},r={};o.d(r,{default:()=>v});const i=(...M)=>{},s=M=>M!==null&&M.constructor.name==="Object";let c;const p=()=>{if(c!==void 0)return c;c=!0;try{localStorage||(c=!1)}catch{c=!1}return k(),c},f=String.fromCharCode(0),u=(M,D,h=!0)=>h?[...JSON.stringify(M)].map(T=>String.fromCharCode(T.charCodeAt(0)+D)).join(""):JSON.parse([...M].map(T=>String.fromCharCode(T.charCodeAt(0)-D)).join("")),S={ttl:null,encrypt:!1,encrypter:u,decrypter:(M,D)=>u(M,D,!1),secret:75},k=(M=!1)=>{if(!p())return!1;Object.keys(localStorage).forEach(D=>{const h=localStorage.getItem(D);if(!h)return;let T;try{T=JSON.parse(h)}catch{return}s(T)&&f in T&&(Date.now()>T.ttl||M)&&localStorage.removeItem(D)})},v={config:S,set:(M,D,h={})=>{if(!p())return!1;const T=Object.assign(Object.assign(Object.assign({},S),h),{encrypt:h.encrypt!==!1&&(h.encrypt||S.encrypt),ttl:h.ttl===null?null:h.ttl||S.ttl});try{const oe=T.ttl&&!isNaN(T.ttl)&&T.ttl>0;let g=oe?{[f]:D,ttl:Date.now()+1e3*T.ttl}:D;T.encrypt&&(oe?g[f]=(T.encrypter||i)(g[f],T.secret):g=(T.encrypter||i)(g,T.secret)),localStorage.setItem(M,JSON.stringify(g))}catch{return!1}},get:(M,D={})=>{if(!p())return null;const h=localStorage.getItem(M);if(!h)return null;const T=Object.assign(Object.assign(Object.assign({},S),D),{encrypt:D.encrypt!==!1&&(D.encrypt||S.encrypt),ttl:D.ttl===null?null:D.ttl||S.ttl});let oe=JSON.parse(h);const g=s(oe)&&f in oe;if(T.decrypt||T.encrypt)try{g?oe[f]=(T.decrypter||i)(oe[f],T.secret):oe=(T.decrypter||i)(oe,T.secret)}catch{}return g?Date.now()>oe.ttl?(localStorage.removeItem(M),null):oe[f]:oe},flush:k,clear:()=>{if(!p())return!1;localStorage.clear()},remove:M=>{if(!p())return!1;localStorage.removeItem(M)}};return r.default})()})})(Zr);var ba=Zr.exports,Qr={exports:{}},Da={exports:{}};(function(t,a){(function(o,r){t.exports=r()})(Tt,function(){var o=o||function(r,i){var s;if(typeof window!="undefined"&&window.crypto&&(s=window.crypto),typeof self!="undefined"&&self.crypto&&(s=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window!="undefined"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Tt!="undefined"&&Tt.crypto&&(s=Tt.crypto),!s&&typeof yi=="function")try{s=require("crypto")}catch{}var c=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||function(){function g(){}return function(b){var x;return g.prototype=b,x=new g,g.prototype=null,x}}(),f={},u=f.lib={},S=u.Base=function(){return{extend:function(g){var b=p(this);return g&&b.mixIn(g),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var b in g)g.hasOwnProperty(b)&&(this[b]=g[b]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),k=u.WordArray=S.extend({init:function(g,b){g=this.words=g||[],b!=i?this.sigBytes=b:this.sigBytes=g.length*4},toString:function(g){return(g||M).stringify(this)},concat:function(g){var b=this.words,x=g.words,R=this.sigBytes,L=g.sigBytes;if(this.clamp(),R%4)for(var te=0;te<L;te++){var se=x[te>>>2]>>>24-te%4*8&255;b[R+te>>>2]|=se<<24-(R+te)%4*8}else for(var re=0;re<L;re+=4)b[R+re>>>2]=x[re>>>2];return this.sigBytes+=L,this},clamp:function(){var g=this.words,b=this.sigBytes;g[b>>>2]&=4294967295<<32-b%4*8,g.length=r.ceil(b/4)},clone:function(){var g=S.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var b=[],x=0;x<g;x+=4)b.push(c());return new k.init(b,g)}}),v=f.enc={},M=v.Hex={stringify:function(g){for(var b=g.words,x=g.sigBytes,R=[],L=0;L<x;L++){var te=b[L>>>2]>>>24-L%4*8&255;R.push((te>>>4).toString(16)),R.push((te&15).toString(16))}return R.join("")},parse:function(g){for(var b=g.length,x=[],R=0;R<b;R+=2)x[R>>>3]|=parseInt(g.substr(R,2),16)<<24-R%8*4;return new k.init(x,b/2)}},D=v.Latin1={stringify:function(g){for(var b=g.words,x=g.sigBytes,R=[],L=0;L<x;L++){var te=b[L>>>2]>>>24-L%4*8&255;R.push(String.fromCharCode(te))}return R.join("")},parse:function(g){for(var b=g.length,x=[],R=0;R<b;R++)x[R>>>2]|=(g.charCodeAt(R)&255)<<24-R%4*8;return new k.init(x,b)}},h=v.Utf8={stringify:function(g){try{return decodeURIComponent(escape(D.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return D.parse(unescape(encodeURIComponent(g)))}},T=u.BufferedBlockAlgorithm=S.extend({reset:function(){this._data=new k.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=h.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var b,x=this._data,R=x.words,L=x.sigBytes,te=this.blockSize,se=te*4,re=L/se;g?re=r.ceil(re):re=r.max((re|0)-this._minBufferSize,0);var y=re*te,O=r.min(y*4,L);if(y){for(var W=0;W<y;W+=te)this._doProcessBlock(R,W);b=R.splice(0,y),x.sigBytes-=O}return new k.init(b,O)},clone:function(){var g=S.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});u.Hasher=T.extend({cfg:S.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(g){return function(b,x){return new g.init(x).finalize(b)}},_createHmacHelper:function(g){return function(b,x){return new oe.HMAC.init(g,x).finalize(b)}}});var oe=f.algo={};return f}(Math);return o})})(Da);(function(t,a){(function(o,r){t.exports=r(Da.exports)})(Tt,function(o){return o.enc.Utf8})})(Qr);var nn=Qr.exports,ei={exports:{}},ti={exports:{}};(function(t,a){(function(o,r){t.exports=r(Da.exports)})(Tt,function(o){return function(){var r=o,i=r.lib,s=i.WordArray,c=r.enc;c.Base64={stringify:function(f){var u=f.words,S=f.sigBytes,k=this._map;f.clamp();for(var v=[],M=0;M<S;M+=3)for(var D=u[M>>>2]>>>24-M%4*8&255,h=u[M+1>>>2]>>>24-(M+1)%4*8&255,T=u[M+2>>>2]>>>24-(M+2)%4*8&255,oe=D<<16|h<<8|T,g=0;g<4&&M+g*.75<S;g++)v.push(k.charAt(oe>>>6*(3-g)&63));var b=k.charAt(64);if(b)for(;v.length%4;)v.push(b);return v.join("")},parse:function(f){var u=f.length,S=this._map,k=this._reverseMap;if(!k){k=this._reverseMap=[];for(var v=0;v<S.length;v++)k[S.charCodeAt(v)]=v}var M=S.charAt(64);if(M){var D=f.indexOf(M);D!==-1&&(u=D)}return p(f,u,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function p(f,u,S){for(var k=[],v=0,M=0;M<u;M++)if(M%4){var D=S[f.charCodeAt(M-1)]<<M%4*2,h=S[f.charCodeAt(M)]>>>6-M%4*2,T=D|h;k[v>>>2]|=T<<24-v%4*8,v++}return s.create(k,v)}}(),o.enc.Base64})})(ti);var ai={exports:{}};(function(t,a){(function(o,r){t.exports=r(Da.exports)})(Tt,function(o){return function(r){var i=o,s=i.lib,c=s.WordArray,p=s.Hasher,f=i.algo,u=[];(function(){for(var h=0;h<64;h++)u[h]=r.abs(r.sin(h+1))*4294967296|0})();var S=f.MD5=p.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,T){for(var oe=0;oe<16;oe++){var g=T+oe,b=h[g];h[g]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var x=this._hash.words,R=h[T+0],L=h[T+1],te=h[T+2],se=h[T+3],re=h[T+4],y=h[T+5],O=h[T+6],W=h[T+7],q=h[T+8],le=h[T+9],Ae=h[T+10],He=h[T+11],j=h[T+12],Y=h[T+13],ae=h[T+14],fe=h[T+15],P=x[0],H=x[1],U=x[2],B=x[3];P=k(P,H,U,B,R,7,u[0]),B=k(B,P,H,U,L,12,u[1]),U=k(U,B,P,H,te,17,u[2]),H=k(H,U,B,P,se,22,u[3]),P=k(P,H,U,B,re,7,u[4]),B=k(B,P,H,U,y,12,u[5]),U=k(U,B,P,H,O,17,u[6]),H=k(H,U,B,P,W,22,u[7]),P=k(P,H,U,B,q,7,u[8]),B=k(B,P,H,U,le,12,u[9]),U=k(U,B,P,H,Ae,17,u[10]),H=k(H,U,B,P,He,22,u[11]),P=k(P,H,U,B,j,7,u[12]),B=k(B,P,H,U,Y,12,u[13]),U=k(U,B,P,H,ae,17,u[14]),H=k(H,U,B,P,fe,22,u[15]),P=v(P,H,U,B,L,5,u[16]),B=v(B,P,H,U,O,9,u[17]),U=v(U,B,P,H,He,14,u[18]),H=v(H,U,B,P,R,20,u[19]),P=v(P,H,U,B,y,5,u[20]),B=v(B,P,H,U,Ae,9,u[21]),U=v(U,B,P,H,fe,14,u[22]),H=v(H,U,B,P,re,20,u[23]),P=v(P,H,U,B,le,5,u[24]),B=v(B,P,H,U,ae,9,u[25]),U=v(U,B,P,H,se,14,u[26]),H=v(H,U,B,P,q,20,u[27]),P=v(P,H,U,B,Y,5,u[28]),B=v(B,P,H,U,te,9,u[29]),U=v(U,B,P,H,W,14,u[30]),H=v(H,U,B,P,j,20,u[31]),P=M(P,H,U,B,y,4,u[32]),B=M(B,P,H,U,q,11,u[33]),U=M(U,B,P,H,He,16,u[34]),H=M(H,U,B,P,ae,23,u[35]),P=M(P,H,U,B,L,4,u[36]),B=M(B,P,H,U,re,11,u[37]),U=M(U,B,P,H,W,16,u[38]),H=M(H,U,B,P,Ae,23,u[39]),P=M(P,H,U,B,Y,4,u[40]),B=M(B,P,H,U,R,11,u[41]),U=M(U,B,P,H,se,16,u[42]),H=M(H,U,B,P,O,23,u[43]),P=M(P,H,U,B,le,4,u[44]),B=M(B,P,H,U,j,11,u[45]),U=M(U,B,P,H,fe,16,u[46]),H=M(H,U,B,P,te,23,u[47]),P=D(P,H,U,B,R,6,u[48]),B=D(B,P,H,U,W,10,u[49]),U=D(U,B,P,H,ae,15,u[50]),H=D(H,U,B,P,y,21,u[51]),P=D(P,H,U,B,j,6,u[52]),B=D(B,P,H,U,se,10,u[53]),U=D(U,B,P,H,Ae,15,u[54]),H=D(H,U,B,P,L,21,u[55]),P=D(P,H,U,B,q,6,u[56]),B=D(B,P,H,U,fe,10,u[57]),U=D(U,B,P,H,O,15,u[58]),H=D(H,U,B,P,Y,21,u[59]),P=D(P,H,U,B,re,6,u[60]),B=D(B,P,H,U,He,10,u[61]),U=D(U,B,P,H,te,15,u[62]),H=D(H,U,B,P,le,21,u[63]),x[0]=x[0]+P|0,x[1]=x[1]+H|0,x[2]=x[2]+U|0,x[3]=x[3]+B|0},_doFinalize:function(){var h=this._data,T=h.words,oe=this._nDataBytes*8,g=h.sigBytes*8;T[g>>>5]|=128<<24-g%32;var b=r.floor(oe/4294967296),x=oe;T[(g+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,T[(g+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,h.sigBytes=(T.length+1)*4,this._process();for(var R=this._hash,L=R.words,te=0;te<4;te++){var se=L[te];L[te]=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360}return R},clone:function(){var h=p.clone.call(this);return h._hash=this._hash.clone(),h}});function k(h,T,oe,g,b,x,R){var L=h+(T&oe|~T&g)+b+R;return(L<<x|L>>>32-x)+T}function v(h,T,oe,g,b,x,R){var L=h+(T&g|oe&~g)+b+R;return(L<<x|L>>>32-x)+T}function M(h,T,oe,g,b,x,R){var L=h+(T^oe^g)+b+R;return(L<<x|L>>>32-x)+T}function D(h,T,oe,g,b,x,R){var L=h+(oe^(T|~g))+b+R;return(L<<x|L>>>32-x)+T}i.MD5=p._createHelper(S),i.HmacMD5=p._createHmacHelper(S)}(Math),o.MD5})})(ai);var cr={exports:{}},oi={exports:{}};(function(t,a){(function(o,r){t.exports=r(Da.exports)})(Tt,function(o){return function(){var r=o,i=r.lib,s=i.WordArray,c=i.Hasher,p=r.algo,f=[],u=p.SHA1=c.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,k){for(var v=this._hash.words,M=v[0],D=v[1],h=v[2],T=v[3],oe=v[4],g=0;g<80;g++){if(g<16)f[g]=S[k+g]|0;else{var b=f[g-3]^f[g-8]^f[g-14]^f[g-16];f[g]=b<<1|b>>>31}var x=(M<<5|M>>>27)+oe+f[g];g<20?x+=(D&h|~D&T)+1518500249:g<40?x+=(D^h^T)+1859775393:g<60?x+=(D&h|D&T|h&T)-1894007588:x+=(D^h^T)-899497514,oe=T,T=h,h=D<<30|D>>>2,D=M,M=x}v[0]=v[0]+M|0,v[1]=v[1]+D|0,v[2]=v[2]+h|0,v[3]=v[3]+T|0,v[4]=v[4]+oe|0},_doFinalize:function(){var S=this._data,k=S.words,v=this._nDataBytes*8,M=S.sigBytes*8;return k[M>>>5]|=128<<24-M%32,k[(M+64>>>9<<4)+14]=Math.floor(v/4294967296),k[(M+64>>>9<<4)+15]=v,S.sigBytes=k.length*4,this._process(),this._hash},clone:function(){var S=c.clone.call(this);return S._hash=this._hash.clone(),S}});r.SHA1=c._createHelper(u),r.HmacSHA1=c._createHmacHelper(u)}(),o.SHA1})})(oi);var ri={exports:{}};(function(t,a){(function(o,r){t.exports=r(Da.exports)})(Tt,function(o){(function(){var r=o,i=r.lib,s=i.Base,c=r.enc,p=c.Utf8,f=r.algo;f.HMAC=s.extend({init:function(u,S){u=this._hasher=new u.init,typeof S=="string"&&(S=p.parse(S));var k=u.blockSize,v=k*4;S.sigBytes>v&&(S=u.finalize(S)),S.clamp();for(var M=this._oKey=S.clone(),D=this._iKey=S.clone(),h=M.words,T=D.words,oe=0;oe<k;oe++)h[oe]^=1549556828,T[oe]^=909522486;M.sigBytes=D.sigBytes=v,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var S=this._hasher,k=S.finalize(u);S.reset();var v=S.finalize(this._oKey.clone().concat(k));return v}})})()})})(ri);(function(t,a){(function(o,r,i){t.exports=r(Da.exports,oi.exports,ri.exports)})(Tt,function(o){return function(){var r=o,i=r.lib,s=i.Base,c=i.WordArray,p=r.algo,f=p.MD5,u=p.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:f,iterations:1}),init:function(S){this.cfg=this.cfg.extend(S)},compute:function(S,k){for(var v,M=this.cfg,D=M.hasher.create(),h=c.create(),T=h.words,oe=M.keySize,g=M.iterations;T.length<oe;){v&&D.update(v),v=D.update(S).finalize(k),D.reset();for(var b=1;b<g;b++)v=D.finalize(v),D.reset();h.concat(v)}return h.sigBytes=oe*4,h}});r.EvpKDF=function(S,k,v){return u.create(v).compute(S,k)}}(),o.EvpKDF})})(cr);var ii={exports:{}};(function(t,a){(function(o,r,i){t.exports=r(Da.exports,cr.exports)})(Tt,function(o){o.lib.Cipher||function(r){var i=o,s=i.lib,c=s.Base,p=s.WordArray,f=s.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var S=u.Base64,k=i.algo,v=k.EvpKDF,M=s.Cipher=f.extend({cfg:c.extend(),createEncryptor:function(y,O){return this.create(this._ENC_XFORM_MODE,y,O)},createDecryptor:function(y,O){return this.create(this._DEC_XFORM_MODE,y,O)},init:function(y,O,W){this.cfg=this.cfg.extend(W),this._xformMode=y,this._key=O,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(y){return this._append(y),this._process()},finalize:function(y){y&&this._append(y);var O=this._doFinalize();return O},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function y(O){return typeof O=="string"?re:L}return function(O){return{encrypt:function(W,q,le){return y(q).encrypt(O,W,q,le)},decrypt:function(W,q,le){return y(q).decrypt(O,W,q,le)}}}}()});s.StreamCipher=M.extend({_doFinalize:function(){var y=this._process(!0);return y},blockSize:1});var D=i.mode={},h=s.BlockCipherMode=c.extend({createEncryptor:function(y,O){return this.Encryptor.create(y,O)},createDecryptor:function(y,O){return this.Decryptor.create(y,O)},init:function(y,O){this._cipher=y,this._iv=O}}),T=D.CBC=function(){var y=h.extend();y.Encryptor=y.extend({processBlock:function(W,q){var le=this._cipher,Ae=le.blockSize;O.call(this,W,q,Ae),le.encryptBlock(W,q),this._prevBlock=W.slice(q,q+Ae)}}),y.Decryptor=y.extend({processBlock:function(W,q){var le=this._cipher,Ae=le.blockSize,He=W.slice(q,q+Ae);le.decryptBlock(W,q),O.call(this,W,q,Ae),this._prevBlock=He}});function O(W,q,le){var Ae,He=this._iv;He?(Ae=He,this._iv=r):Ae=this._prevBlock;for(var j=0;j<le;j++)W[q+j]^=Ae[j]}return y}(),oe=i.pad={},g=oe.Pkcs7={pad:function(y,O){for(var W=O*4,q=W-y.sigBytes%W,le=q<<24|q<<16|q<<8|q,Ae=[],He=0;He<q;He+=4)Ae.push(le);var j=p.create(Ae,q);y.concat(j)},unpad:function(y){var O=y.words[y.sigBytes-1>>>2]&255;y.sigBytes-=O}};s.BlockCipher=M.extend({cfg:M.cfg.extend({mode:T,padding:g}),reset:function(){var y;M.reset.call(this);var O=this.cfg,W=O.iv,q=O.mode;this._xformMode==this._ENC_XFORM_MODE?y=q.createEncryptor:(y=q.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==y?this._mode.init(this,W&&W.words):(this._mode=y.call(q,this,W&&W.words),this._mode.__creator=y)},_doProcessBlock:function(y,O){this._mode.processBlock(y,O)},_doFinalize:function(){var y,O=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(O.pad(this._data,this.blockSize),y=this._process(!0)):(y=this._process(!0),O.unpad(y)),y},blockSize:128/32});var b=s.CipherParams=c.extend({init:function(y){this.mixIn(y)},toString:function(y){return(y||this.formatter).stringify(this)}}),x=i.format={},R=x.OpenSSL={stringify:function(y){var O,W=y.ciphertext,q=y.salt;return q?O=p.create([1398893684,1701076831]).concat(q).concat(W):O=W,O.toString(S)},parse:function(y){var O,W=S.parse(y),q=W.words;return q[0]==1398893684&&q[1]==1701076831&&(O=p.create(q.slice(2,4)),q.splice(0,4),W.sigBytes-=16),b.create({ciphertext:W,salt:O})}},L=s.SerializableCipher=c.extend({cfg:c.extend({format:R}),encrypt:function(y,O,W,q){q=this.cfg.extend(q);var le=y.createEncryptor(W,q),Ae=le.finalize(O),He=le.cfg;return b.create({ciphertext:Ae,key:W,iv:He.iv,algorithm:y,mode:He.mode,padding:He.padding,blockSize:y.blockSize,formatter:q.format})},decrypt:function(y,O,W,q){q=this.cfg.extend(q),O=this._parse(O,q.format);var le=y.createDecryptor(W,q).finalize(O.ciphertext);return le},_parse:function(y,O){return typeof y=="string"?O.parse(y,this):y}}),te=i.kdf={},se=te.OpenSSL={execute:function(y,O,W,q){q||(q=p.random(64/8));var le=v.create({keySize:O+W}).compute(y,q),Ae=p.create(le.words.slice(O),W*4);return le.sigBytes=O*4,b.create({key:le,iv:Ae,salt:q})}},re=s.PasswordBasedCipher=L.extend({cfg:L.cfg.extend({kdf:se}),encrypt:function(y,O,W,q){q=this.cfg.extend(q);var le=q.kdf.execute(W,y.keySize,y.ivSize);q.iv=le.iv;var Ae=L.encrypt.call(this,y,O,le.key,q);return Ae.mixIn(le),Ae},decrypt:function(y,O,W,q){q=this.cfg.extend(q),O=this._parse(O,q.format);var le=q.kdf.execute(W,y.keySize,y.ivSize,O.salt);q.iv=le.iv;var Ae=L.decrypt.call(this,y,O,le.key,q);return Ae}})}()})})(ii);(function(t,a){(function(o,r,i){t.exports=r(Da.exports,ti.exports,ai.exports,cr.exports,ii.exports)})(Tt,function(o){return function(){var r=o,i=r.lib,s=i.BlockCipher,c=r.algo,p=[],f=[],u=[],S=[],k=[],v=[],M=[],D=[],h=[],T=[];(function(){for(var b=[],x=0;x<256;x++)x<128?b[x]=x<<1:b[x]=x<<1^283;for(var R=0,L=0,x=0;x<256;x++){var te=L^L<<1^L<<2^L<<3^L<<4;te=te>>>8^te&255^99,p[R]=te,f[te]=R;var se=b[R],re=b[se],y=b[re],O=b[te]*257^te*16843008;u[R]=O<<24|O>>>8,S[R]=O<<16|O>>>16,k[R]=O<<8|O>>>24,v[R]=O;var O=y*16843009^re*65537^se*257^R*16843008;M[te]=O<<24|O>>>8,D[te]=O<<16|O>>>16,h[te]=O<<8|O>>>24,T[te]=O,R?(R=se^b[b[b[y^se]]],L^=b[b[L]]):R=L=1}})();var oe=[0,1,2,4,8,16,32,64,128,27,54],g=c.AES=s.extend({_doReset:function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,R=x.words,L=x.sigBytes/4,te=this._nRounds=L+6,se=(te+1)*4,re=this._keySchedule=[],y=0;y<se;y++)y<L?re[y]=R[y]:(b=re[y-1],y%L?L>6&&y%L==4&&(b=p[b>>>24]<<24|p[b>>>16&255]<<16|p[b>>>8&255]<<8|p[b&255]):(b=b<<8|b>>>24,b=p[b>>>24]<<24|p[b>>>16&255]<<16|p[b>>>8&255]<<8|p[b&255],b^=oe[y/L|0]<<24),re[y]=re[y-L]^b);for(var O=this._invKeySchedule=[],W=0;W<se;W++){var y=se-W;if(W%4)var b=re[y];else var b=re[y-4];W<4||y<=4?O[W]=b:O[W]=M[p[b>>>24]]^D[p[b>>>16&255]]^h[p[b>>>8&255]]^T[p[b&255]]}}},encryptBlock:function(b,x){this._doCryptBlock(b,x,this._keySchedule,u,S,k,v,p)},decryptBlock:function(b,x){var R=b[x+1];b[x+1]=b[x+3],b[x+3]=R,this._doCryptBlock(b,x,this._invKeySchedule,M,D,h,T,f);var R=b[x+1];b[x+1]=b[x+3],b[x+3]=R},_doCryptBlock:function(b,x,R,L,te,se,re,y){for(var O=this._nRounds,W=b[x]^R[0],q=b[x+1]^R[1],le=b[x+2]^R[2],Ae=b[x+3]^R[3],He=4,j=1;j<O;j++){var Y=L[W>>>24]^te[q>>>16&255]^se[le>>>8&255]^re[Ae&255]^R[He++],ae=L[q>>>24]^te[le>>>16&255]^se[Ae>>>8&255]^re[W&255]^R[He++],fe=L[le>>>24]^te[Ae>>>16&255]^se[W>>>8&255]^re[q&255]^R[He++],P=L[Ae>>>24]^te[W>>>16&255]^se[q>>>8&255]^re[le&255]^R[He++];W=Y,q=ae,le=fe,Ae=P}var Y=(y[W>>>24]<<24|y[q>>>16&255]<<16|y[le>>>8&255]<<8|y[Ae&255])^R[He++],ae=(y[q>>>24]<<24|y[le>>>16&255]<<16|y[Ae>>>8&255]<<8|y[W&255])^R[He++],fe=(y[le>>>24]<<24|y[Ae>>>16&255]<<16|y[W>>>8&255]<<8|y[q&255])^R[He++],P=(y[Ae>>>24]<<24|y[W>>>16&255]<<16|y[q>>>8&255]<<8|y[le&255])^R[He++];b[x]=Y,b[x+1]=ae,b[x+2]=fe,b[x+3]=P},keySize:256/32});r.AES=s._createHelper(g)}(),o.AES})})(ei);var _r=ei.exports;const Qe={oninit:()=>{ba.config.encrypt=!0,ba.config.secret="v4.Metrovirtual",ba.config.encrypter=(t,a)=>_r.encrypt(JSON.stringify(t),a).toString(),ba.config.decrypter=(t,a)=>{try{return JSON.parse(_r.decrypt(t,a).toString(nn))}catch{return t}}},setDataNotificaciones:t=>(Qe.oninit(),ba.set("updatesNotificaciones",t)),getDataNotificaciones:()=>(Qe.oninit(),ba.get("updatesNotificaciones")),setData:t=>(Qe.oninit(),ba.set("updates",t)),setDataUser:t=>(Qe.oninit(),ba.set("dataUser",t)),getData:t=>(Qe.oninit(),ba.get("updates")),getDataUser:t=>(Qe.oninit(),ba.get("dataUser"))},Z={user:[],rol:null,labelRol:null,modulesAccess:[],username:"",password:"",messageError:"",statusHide:" d-none",statusError:"warning",imputDisabled:!1,setUsername:t=>{Z.username=t},setPassword:t=>{Z.password=t},canSubmit:()=>Z.username!==""&&Z.password!=="",setError:t=>{Z.statusHide="",Z.statusError="danger",Z.messageError=t},setSuccess:t=>{Z.statusHide="",Z.statusError="success",Z.messageError=t},setProcess:()=>{Z.statusHide="",Z.statusError="warning",Z.messageError="Procesando..."},login:()=>(Z.imputDisabled=!0,Z.setProcess(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/auth",body:{user:Z.username,pass:Z.password}}).then(function(t){t.status?(window.localStorage.accessToken=t.jwt,Z.user=t.data.user,Z.rol=t.data.rol,Z.user.rol=Z.rol,Z.modulesAccess=t.data.modulesAccess,Qe.setDataUser({user:Z.user,modulesAccess:Z.modulesAccess}),Z.setSuccess("\xA1Bienvenido!"),setTimeout(function(){Z.imputDisabled=!1,Z.statusHide="d-none",Z.statusError="warning",Z.messageError="",Z.username="",Z.password="",e.route.set("/inicio")},900)):(Z.imputDisabled=!1,Z.statusHide="d-none",Z.statusError="warning",Z.messageError="",Z.setError(t.message))}).catch(function(t){Z.imputDisabled=!1,Z.statusHide="d-none",Z.statusError="warning",Z.messageError="",Z.username="",Z.password="",Z.setError(rn.httpError)})),isLogin:()=>!!(window.localStorage.getItem("accessToken")!==void 0&&window.localStorage.getItem("accessToken"))},ni={view:()=>[e("div.text-center.mg-t-300",e(".spinner-grow.text-dark[role='status']",e("span.sr-only","Cargando...")))]},N={title:"MetroPlus v1.0.0",oninit:()=>{document.title="Cargando..."},oncreate:()=>{document.title="Bienvenido | "+N.title},isShow:(t="",a=0)=>{let o=Qe.getDataUser();if(Z.user=o.user,Z.rol=o.user.rol,Z.modulesAccess=o.modulesAccess,a!==0){let r=0;return Z.modulesAccess[t].map(function(i,s,c){i.idModulo==a&&r++}),r!=0}return!0},isAuth:(t="",a=0)=>{let o=Qe.getDataUser();if(!Z.isLogin()||o==null)return e.route.set("/auth");if(Z.user=o.user,Z.rol=o.user.rol,Z.modulesAccess=o.modulesAccess,a!==0){let r=0;Z.modulesAccess[t].map(function(i,s,c){i.idModulo==a&&r++}),r==0&&e.route.set("/inicio")}},view:()=>[e(ni),setTimeout(function(){N.isAuth(),e.route.set("/inicio")},300)]},sn={oncreate:t=>{},view:t=>{window.location.href="http://172.16.253.18/report-executor/mvreport?name=USR_VALIDACION_EMERGENCIA&cdMultiEmpresa=1&V_ATENCION="+t.attrs.idAtencion}},dn={oncreate:()=>(window.localStorage.removeItem("accessToken"),m.route.set("/auth")),view:()=>{}},ln={view:()=>[e("header.navbar.navbar-header.navbar-header-fixed",[e("div.navbar-brand",e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")]))])]},cn={view:()=>[e("div.content.content-fixed.content-auth",e("div.container",e("div.media.align-items-stretch.justify-content-center.ht-100p.pos-relative",[e("div.mg-t-55.pd-50.media-body.align-items-center.d-none.d-lg-flex",[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2 "},e("i",{class:"fas fa-first-aid tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-pills tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-file-prescription tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-microscope  tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-procedures   tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-h-square tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-user-md tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-heartbeat      tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-notes-medical      tx-30 tx-white"})),e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin mg-r-2"},e("i",{class:"fas fa-hospital tx-30 tx-white"}))]),e("div.sign-wrapper.mg-lg-l-50.mg-xl-l-60",e("div.wd-100p",[e("h3.tx-color-01.mg-b-5.mg-t-20","Entrar"),e("p.tx-color-03.tx-16.mg-b-40","\xA1Bienvenido! Por favor, inicie sesi\xF3n para continuar."),e(".tx-semibold.alert.alert-solid.alert-"+Z.statusError+"."+Z.statusHide+"[role='alert']",Z.messageError),e("div.form-group",[e("label","Usuario:"),e("input.form-control[type='text'][placeholder='mpaez']",{oninput:function(t){Z.setUsername(t.target.value)},value:Z.username})]),e("div.form-group",[e("div.d-flex.justify-content-between.mg-b-5",[e("label.mg-b-0-f","Contrase\xF1a:")]),e("input.form-control[type='password'][placeholder='Contrase\xF1a']",{oninput:function(t){Z.setPassword(t.target.value)},value:Z.password})]),e("button.btn.btn-brand-02.btn-block "+Z.buttonDisabled,{disabled:!Z.canSubmit(),onclick:Z.login},"Entrar"),e("div.text-center.tx-gray-500.mg-t-20","MetroPlus Beta v1.0.0"),e("div.text-center.tx-gray-500","Created by Hospital Metropolitano"),e("div.ht-80")]))])))]},un={oninit:()=>{if(Z.isLogin())return e.route.set("/inicio")},oncreate:()=>{document.title="Entrar | "+N.title,mn()},view:()=>[e(ln),e(cn)]};function mn(){document.onkeypress=function(t){t||(t=window.event);var a=t.keyCode||t.which;a=="13"&&Z.canSubmit()&&$("button").click()}}function pn(t){if(Array.isArray(t)){for(var a=0,o=new Array(t.length);a<t.length;a++)o[a]=t[a];return o}}var fn=pn;function bn(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}var hn=bn;function gn(){throw new TypeError("Invalid attempt to spread non-iterable instance")}var vn=gn;function xn(t){return fn(t)||hn(t)||vn()}var yn=xn;function wn(t,a){return a={exports:{}},t(a,a.exports),a.exports}var _n=wn(function(t){var a=function(o){var r=Object.prototype,i=r.hasOwnProperty,s,c=typeof Symbol=="function"?Symbol:{},p=c.iterator||"@@iterator",f=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function S(j,Y,ae,fe){var P=Y&&Y.prototype instanceof oe?Y:oe,H=Object.create(P.prototype),U=new le(fe||[]);return H._invoke=y(j,ae,U),H}o.wrap=S;function k(j,Y,ae){try{return{type:"normal",arg:j.call(Y,ae)}}catch(fe){return{type:"throw",arg:fe}}}var v="suspendedStart",M="suspendedYield",D="executing",h="completed",T={};function oe(){}function g(){}function b(){}var x={};x[p]=function(){return this};var R=Object.getPrototypeOf,L=R&&R(R(Ae([])));L&&L!==r&&i.call(L,p)&&(x=L);var te=b.prototype=oe.prototype=Object.create(x);g.prototype=te.constructor=b,b.constructor=g,b[u]=g.displayName="GeneratorFunction";function se(j){["next","throw","return"].forEach(function(Y){j[Y]=function(ae){return this._invoke(Y,ae)}})}o.isGeneratorFunction=function(j){var Y=typeof j=="function"&&j.constructor;return Y?Y===g||(Y.displayName||Y.name)==="GeneratorFunction":!1},o.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,b):(j.__proto__=b,u in j||(j[u]="GeneratorFunction")),j.prototype=Object.create(te),j},o.awrap=function(j){return{__await:j}};function re(j){function Y(P,H,U,B){var Xt=k(j[P],j,H);if(Xt.type==="throw")B(Xt.arg);else{var qt=Xt.arg,Ta=qt.value;return Ta&&typeof Ta=="object"&&i.call(Ta,"__await")?Promise.resolve(Ta.__await).then(function(fa){Y("next",fa,U,B)},function(fa){Y("throw",fa,U,B)}):Promise.resolve(Ta).then(function(fa){qt.value=fa,U(qt)},function(fa){return Y("throw",fa,U,B)})}}var ae;function fe(P,H){function U(){return new Promise(function(B,Xt){Y(P,H,B,Xt)})}return ae=ae?ae.then(U,U):U()}this._invoke=fe}se(re.prototype),re.prototype[f]=function(){return this},o.AsyncIterator=re,o.async=function(j,Y,ae,fe){var P=new re(S(j,Y,ae,fe));return o.isGeneratorFunction(Y)?P:P.next().then(function(H){return H.done?H.value:P.next()})};function y(j,Y,ae){var fe=v;return function(H,U){if(fe===D)throw new Error("Generator is already running");if(fe===h){if(H==="throw")throw U;return He()}for(ae.method=H,ae.arg=U;;){var B=ae.delegate;if(B){var Xt=O(B,ae);if(Xt){if(Xt===T)continue;return Xt}}if(ae.method==="next")ae.sent=ae._sent=ae.arg;else if(ae.method==="throw"){if(fe===v)throw fe=h,ae.arg;ae.dispatchException(ae.arg)}else ae.method==="return"&&ae.abrupt("return",ae.arg);fe=D;var qt=k(j,Y,ae);if(qt.type==="normal"){if(fe=ae.done?h:M,qt.arg===T)continue;return{value:qt.arg,done:ae.done}}else qt.type==="throw"&&(fe=h,ae.method="throw",ae.arg=qt.arg)}}}function O(j,Y){var ae=j.iterator[Y.method];if(ae===s){if(Y.delegate=null,Y.method==="throw"){if(j.iterator.return&&(Y.method="return",Y.arg=s,O(j,Y),Y.method==="throw"))return T;Y.method="throw",Y.arg=new TypeError("The iterator does not provide a 'throw' method")}return T}var fe=k(ae,j.iterator,Y.arg);if(fe.type==="throw")return Y.method="throw",Y.arg=fe.arg,Y.delegate=null,T;var P=fe.arg;if(!P)return Y.method="throw",Y.arg=new TypeError("iterator result is not an object"),Y.delegate=null,T;if(P.done)Y[j.resultName]=P.value,Y.next=j.nextLoc,Y.method!=="return"&&(Y.method="next",Y.arg=s);else return P;return Y.delegate=null,T}se(te),te[u]="Generator",te[p]=function(){return this},te.toString=function(){return"[object Generator]"};function W(j){var Y={tryLoc:j[0]};1 in j&&(Y.catchLoc=j[1]),2 in j&&(Y.finallyLoc=j[2],Y.afterLoc=j[3]),this.tryEntries.push(Y)}function q(j){var Y=j.completion||{};Y.type="normal",delete Y.arg,j.completion=Y}function le(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(W,this),this.reset(!0)}o.keys=function(j){var Y=[];for(var ae in j)Y.push(ae);return Y.reverse(),function fe(){for(;Y.length;){var P=Y.pop();if(P in j)return fe.value=P,fe.done=!1,fe}return fe.done=!0,fe}};function Ae(j){if(j){var Y=j[p];if(Y)return Y.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var ae=-1,fe=function P(){for(;++ae<j.length;)if(i.call(j,ae))return P.value=j[ae],P.done=!1,P;return P.value=s,P.done=!0,P};return fe.next=fe}}return{next:He}}o.values=Ae;function He(){return{value:s,done:!0}}return le.prototype={constructor:le,reset:function(j){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(q),!j)for(var Y in this)Y.charAt(0)==="t"&&i.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=s)},stop:function(){this.done=!0;var j=this.tryEntries[0],Y=j.completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(j){if(this.done)throw j;var Y=this;function ae(Xt,qt){return H.type="throw",H.arg=j,Y.next=Xt,qt&&(Y.method="next",Y.arg=s),!!qt}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var P=this.tryEntries[fe],H=P.completion;if(P.tryLoc==="root")return ae("end");if(P.tryLoc<=this.prev){var U=i.call(P,"catchLoc"),B=i.call(P,"finallyLoc");if(U&&B){if(this.prev<P.catchLoc)return ae(P.catchLoc,!0);if(this.prev<P.finallyLoc)return ae(P.finallyLoc)}else if(U){if(this.prev<P.catchLoc)return ae(P.catchLoc,!0)}else if(B){if(this.prev<P.finallyLoc)return ae(P.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(j,Y){for(var ae=this.tryEntries.length-1;ae>=0;--ae){var fe=this.tryEntries[ae];if(fe.tryLoc<=this.prev&&i.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var P=fe;break}}P&&(j==="break"||j==="continue")&&P.tryLoc<=Y&&Y<=P.finallyLoc&&(P=null);var H=P?P.completion:{};return H.type=j,H.arg=Y,P?(this.method="next",this.next=P.finallyLoc,T):this.complete(H)},complete:function(j,Y){if(j.type==="throw")throw j.arg;return j.type==="break"||j.type==="continue"?this.next=j.arg:j.type==="return"?(this.rval=this.arg=j.arg,this.method="return",this.next="end"):j.type==="normal"&&Y&&(this.next=Y),T},finish:function(j){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var ae=this.tryEntries[Y];if(ae.finallyLoc===j)return this.complete(ae.completion,ae.afterLoc),q(ae),T}},catch:function(j){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var ae=this.tryEntries[Y];if(ae.tryLoc===j){var fe=ae.completion;if(fe.type==="throw"){var P=fe.arg;q(ae)}return P}}throw new Error("illegal catch attempt")},delegateYield:function(j,Y,ae){return this.delegate={iterator:Ae(j),resultName:Y,nextLoc:ae},this.method==="next"&&(this.arg=s),T}},o}(t.exports);try{regeneratorRuntime=a}catch{Function("r","regeneratorRuntime = r")(a)}}),he=_n;function Pr(t,a,o,r,i,s,c){try{var p=t[s](c),f=p.value}catch(u){o(u);return}p.done?a(f):Promise.resolve(f).then(r,i)}function Pn(t){return function(){var a=this,o=arguments;return new Promise(function(r,i){var s=t.apply(a,o);function c(f){Pr(s,r,i,c,p,"next",f)}function p(f){Pr(s,r,i,c,p,"throw",f)}c(void 0)})}}var We=Pn;function Mn(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var si=Mn;function Mr(t,a){for(var o=0;o<a.length;o++){var r=a[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function En(t,a,o){return a&&Mr(t.prototype,a),o&&Mr(t,o),t}var di=En;function Dn(t,a,o){return a in t?Object.defineProperty(t,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[a]=o,t}var Tn=Dn;function An(t){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{},r=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(o).filter(function(i){return Object.getOwnPropertyDescriptor(o,i).enumerable}))),r.forEach(function(i){Tn(t,i,o[i])})}return t}var kn=An;function _a(t){var a=t.method,o=t.path,r=t.body,i=r===void 0?null:r,s=t.headers,c=s===void 0?{}:s,p=t.credentials,f=p===void 0?"same-origin":p,u={method:a,headers:c,credentials:f};return i!==null&&(u.body=JSON.stringify(i),u.headers=kn({"Content-Type":"application/json"},c)),fetch(o,u).then(function(){var S=We(he.mark(function k(v){return he.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(v.ok){D.next=3;break}return D.next=3,Sn(v);case 3:return D.prev=3,D.next=6,v.json();case 6:return D.abrupt("return",D.sent);case 9:return D.prev=9,D.t0=D.catch(3),D.abrupt("return",null);case 12:case"end":return D.stop()}},k,null,[[3,9]])}));return function(k){return S.apply(this,arguments)}}())}function Sn(t){return Qo.apply(this,arguments)}function Qo(){return Qo=We(he.mark(function t(a){var o,r,i,s,c,p;return he.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,a.json();case 3:r=u.sent,i=r.error,s=i===void 0?"Unknown error":i,c=r.description,p=c===void 0?"No description":c,o="Unexpected status code ".concat(a.status,": ").concat(s,", ").concat(p),u.next=14;break;case 11:u.prev=11,u.t0=u.catch(0),o="Unexpected status code ".concat(a.status,": Cannot parse error response");case 14:throw new Error(o);case 15:case"end":return u.stop()}},t,null,[[0,11]])})),Qo.apply(this,arguments)}var Cn=function(){function t(a){si(this,t),this._instanceId=a,this._dbConn=null}return di(t,[{key:"connect",value:function(){var o=this;return new Promise(function(r,i){var s=indexedDB.open(o._dbName);s.onsuccess=function(c){var p=c.target.result;o._dbConn=p,o._readState().then(function(f){return f===null?o.clear():Promise.resolve()}).then(r)},s.onupgradeneeded=function(c){var p=c.target.result;p.createObjectStore("beams",{keyPath:"instance_id"})},s.onerror=function(c){var p=new Error("Database error: ".concat(c.target.error));i(p)}})}},{key:"clear",value:function(){return this._writeState({instance_id:this._instanceId,device_id:null,token:null,user_id:null})}},{key:"_readState",value:function(){var o=this;if(!this.isConnected)throw new Error("Cannot read value: DeviceStateStore not connected to IndexedDB");return new Promise(function(r,i){var s=o._dbConn.transaction("beams").objectStore("beams").get(o._instanceId);s.onsuccess=function(c){var p=c.target.result;p||r(null),r(p)},s.onerror=function(c){i(c.target.error)}})}},{key:"_readProperty",value:function(){var a=We(he.mark(function r(i){var s;return he.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this._readState();case 2:if(s=p.sent,s!==null){p.next=5;break}return p.abrupt("return",null);case 5:return p.abrupt("return",s[i]||null);case 6:case"end":return p.stop()}},r,this)}));function o(r){return a.apply(this,arguments)}return o}()},{key:"_writeState",value:function(o){var r=this;if(!this.isConnected)throw new Error("Cannot write value: DeviceStateStore not connected to IndexedDB");return new Promise(function(i,s){var c=r._dbConn.transaction("beams","readwrite").objectStore("beams").put(o);c.onsuccess=function(p){i()},c.onerror=function(p){s(p.target.error)}})}},{key:"_writeProperty",value:function(){var a=We(he.mark(function r(i,s){var c;return he.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._readState();case 2:return c=f.sent,c[i]=s,f.next=6,this._writeState(c);case 6:case"end":return f.stop()}},r,this)}));function o(r,i){return a.apply(this,arguments)}return o}()},{key:"getToken",value:function(){return this._readProperty("token")}},{key:"setToken",value:function(o){return this._writeProperty("token",o)}},{key:"getDeviceId",value:function(){return this._readProperty("device_id")}},{key:"setDeviceId",value:function(o){return this._writeProperty("device_id",o)}},{key:"getUserId",value:function(){return this._readProperty("user_id")}},{key:"setUserId",value:function(o){return this._writeProperty("user_id",o)}},{key:"getLastSeenSdkVersion",value:function(){return this._readProperty("last_seen_sdk_version")}},{key:"setLastSeenSdkVersion",value:function(o){return this._writeProperty("last_seen_sdk_version",o)}},{key:"getLastSeenUserAgent",value:function(){return this._readProperty("last_seen_user_agent")}},{key:"setLastSeenUserAgent",value:function(o){return this._writeProperty("last_seen_user_agent",o)}},{key:"_dbName",get:function(){return"beams-".concat(this._instanceId)}},{key:"isConnected",get:function(){return this._dbConn!==null}}]),t}(),io="1.1.0",In=new RegExp("^(_|\\-|=|@|,|\\.|;|[A-Z]|[a-z]|[0-9])*$"),Er=164,Dr=5e3,Tr="/service-worker.js?pusherBeamsWebSDKVersion=".concat(io),Po=Object.freeze({PERMISSION_PROMPT_REQUIRED:"PERMISSION_PROMPT_REQUIRED",PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS",PERMISSION_GRANTED_REGISTERED_WITH_BEAMS:"PERMISSION_GRANTED_REGISTERED_WITH_BEAMS",PERMISSION_DENIED:"PERMISSION_DENIED"}),er=function(){function t(a){if(si(this,t),!a)throw new Error("Config object required");var o=a.instanceId,r=a.endpointOverride,i=r===void 0?null:r,s=a.serviceWorkerRegistration,c=s===void 0?null:s;if(o===void 0)throw new Error("Instance ID is required");if(typeof o!="string")throw new Error("Instance ID must be a string");if(o.length===0)throw new Error("Instance ID cannot be empty");if(!("indexedDB"in window))throw new Error("Pusher Beams does not support this browser version (IndexedDB not supported)");if(!window.isSecureContext)throw new Error("Pusher Beams relies on Service Workers, which only work in secure contexts. Check that your page is being served from localhost/over HTTPS");if(!("serviceWorker"in navigator))throw new Error("Pusher Beams does not support this browser version (Service Workers not supported)");if(!("PushManager"in window))throw new Error("Pusher Beams does not support this browser version (Web Push not supported)");if(c){var p=c.scope,f=window.location.href,u=f.startsWith(p);if(!u)throw new Error("Could not initialize Pusher web push: current page not in serviceWorkerRegistration scope (".concat(p,")"))}this.instanceId=o,this._deviceId=null,this._token=null,this._userId=null,this._serviceWorkerRegistration=c,this._deviceStateStore=new Cn(o),this._endpoint=i,this._ready=this._init()}return di(t,[{key:"_init",value:function(){var a=We(he.mark(function r(){return he.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(this._deviceId===null){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,this._deviceStateStore.connect();case 4:if(!this._serviceWorkerRegistration){s.next=9;break}return s.next=7,window.navigator.serviceWorker.ready;case 7:s.next=12;break;case 9:return s.next=11,Nn();case 11:this._serviceWorkerRegistration=s.sent;case 12:return s.next=14,this._detectSubscriptionChange();case 14:return s.next=16,this._deviceStateStore.getDeviceId();case 16:return this._deviceId=s.sent,s.next=19,this._deviceStateStore.getToken();case 19:return this._token=s.sent,s.next=22,this._deviceStateStore.getUserId();case 22:this._userId=s.sent;case 23:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_resolveSDKState",value:function(){var a=We(he.mark(function r(){return he.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._ready;case 2:return s.next=4,this._detectSubscriptionChange();case 4:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_detectSubscriptionChange",value:function(){var a=We(he.mark(function r(){var i,s,c;return he.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._deviceStateStore.getToken();case 2:return i=f.sent,f.next=5,Rn(this._serviceWorkerRegistration);case 5:if(s=f.sent,c=i!==s,!c){f.next=13;break}return f.next=10,this._deviceStateStore.clear();case 10:this._deviceId=null,this._token=null,this._userId=null;case 13:case"end":return f.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"getDeviceId",value:function(){var a=We(he.mark(function r(){var i=this;return he.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._resolveSDKState();case 2:return c.abrupt("return",this._ready.then(function(){return i._deviceId}));case 3:case"end":return c.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"getToken",value:function(){var a=We(he.mark(function r(){var i=this;return he.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._resolveSDKState();case 2:return c.abrupt("return",this._ready.then(function(){return i._token}));case 3:case"end":return c.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"getUserId",value:function(){var a=We(he.mark(function r(){var i=this;return he.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._resolveSDKState();case 2:return c.abrupt("return",this._ready.then(function(){return i._userId}));case 3:case"end":return c.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_throwIfNotStarted",value:function(o){if(!this._deviceId)throw new Error("".concat(o,". SDK not registered with Beams. Did you call .start?"))}},{key:"start",value:function(){var a=We(he.mark(function r(){var i,s,c,p;return he.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this._resolveSDKState();case 2:if(Mo()){u.next=4;break}return u.abrupt("return",this);case 4:if(this._deviceId===null){u.next=6;break}return u.abrupt("return",this);case 6:return u.next=8,this._getPublicKey();case 8:return i=u.sent,s=i.vapidPublicKey,u.next=12,this._getPushToken(s);case 12:return c=u.sent,u.next=15,this._registerDevice(c);case 15:return p=u.sent,u.next=18,this._deviceStateStore.setToken(c);case 18:return u.next=20,this._deviceStateStore.setDeviceId(p);case 20:return u.next=22,this._deviceStateStore.setLastSeenSdkVersion(io);case 22:return u.next=24,this._deviceStateStore.setLastSeenUserAgent(window.navigator.userAgent);case 24:return this._token=c,this._deviceId=p,u.abrupt("return",this);case 27:case"end":return u.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"getRegistrationState",value:function(){var a=We(he.mark(function r(){return he.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._resolveSDKState();case 2:if(Notification.permission!=="denied"){s.next=4;break}return s.abrupt("return",Po.PERMISSION_DENIED);case 4:if(!(Notification.permission==="granted"&&this._deviceId!==null)){s.next=6;break}return s.abrupt("return",Po.PERMISSION_GRANTED_REGISTERED_WITH_BEAMS);case 6:if(!(Notification.permission==="granted"&&this._deviceId===null)){s.next=8;break}return s.abrupt("return",Po.PERMISSION_GRANTED_NOT_REGISTERED_WITH_BEAMS);case 8:return s.abrupt("return",Po.PERMISSION_PROMPT_REQUIRED);case 9:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"addDeviceInterest",value:function(){var a=We(he.mark(function r(i){var s,c;return he.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not add Device Interest"),Go(i),s="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(i)),c={method:"POST",path:s},f.next=8,_a(c);case 8:case"end":return f.stop()}},r,this)}));function o(r){return a.apply(this,arguments)}return o}()},{key:"removeDeviceInterest",value:function(){var a=We(he.mark(function r(i){var s,c;return he.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not remove Device Interest"),Go(i),s="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests/").concat(encodeURIComponent(i)),c={method:"DELETE",path:s},f.next=8,_a(c);case 8:case"end":return f.stop()}},r,this)}));function o(r){return a.apply(this,arguments)}return o}()},{key:"getDeviceInterests",value:function(){var a=We(he.mark(function r(){var i,s;return he.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not get Device Interests"),i="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),s={method:"GET",path:i},p.next=7,_a(s);case 7:if(p.t0=p.sent.interests,p.t0){p.next=10;break}p.t0=[];case 10:return p.abrupt("return",p.t0);case 11:case"end":return p.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"setDeviceInterests",value:function(){var a=We(he.mark(function r(i){var s,c,p,f,u,S,k,v,M;return he.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this._resolveSDKState();case 2:if(this._throwIfNotStarted("Could not set Device Interests"),i!=null){h.next=5;break}throw new Error("interests argument is required");case 5:if(Array.isArray(i)){h.next=7;break}throw new Error("interests argument must be an array");case 7:if(!(i.length>Dr)){h.next=9;break}throw new Error("Number of interests (".concat(i.length,") exceeds maximum of ").concat(Dr));case 9:for(s=!0,c=!1,p=void 0,h.prev=12,f=i[Symbol.iterator]();!(s=(u=f.next()).done);s=!0)S=u.value,Go(S);h.next=20;break;case 16:h.prev=16,h.t0=h.catch(12),c=!0,p=h.t0;case 20:h.prev=20,h.prev=21,!s&&f.return!=null&&f.return();case 23:if(h.prev=23,!c){h.next=26;break}throw p;case 26:return h.finish(23);case 27:return h.finish(20);case 28:return k=Array.from(new Set(i)),v="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/interests"),M={method:"PUT",path:v,body:{interests:k}},h.next=33,_a(M);case 33:case"end":return h.stop()}},r,this,[[12,16,20,28],[21,,23,27]])}));function o(r){return a.apply(this,arguments)}return o}()},{key:"clearDeviceInterests",value:function(){var a=We(he.mark(function r(){return he.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._resolveSDKState();case 2:return this._throwIfNotStarted("Could not clear Device Interests"),s.next=5,this.setDeviceInterests([]);case 5:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"setUserId",value:function(){var a=We(he.mark(function r(i,s){var c,p,f,u,S;return he.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,this._resolveSDKState();case 2:if(Mo()){v.next=4;break}return v.abrupt("return");case 4:if(this._deviceId!==null){v.next=7;break}return c=new Error(".start must be called before .setUserId"),v.abrupt("return",Promise.reject(c));case 7:if(typeof i=="string"){v.next=9;break}throw new Error("User ID must be a string (was ".concat(i,")"));case 9:if(i!==""){v.next=11;break}throw new Error("User ID cannot be the empty string");case 11:if(!(this._userId!==null&&this._userId!==i)){v.next=13;break}throw new Error("Changing the `userId` is not allowed.");case 13:return p="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/user"),v.next=16,s.fetchToken(i);case 16:return f=v.sent,u=f.token,S={method:"PUT",path:p,headers:{Authorization:"Bearer ".concat(u)}},v.next=21,_a(S);case 21:return this._userId=i,v.abrupt("return",this._deviceStateStore.setUserId(i));case 23:case"end":return v.stop()}},r,this)}));function o(r,i){return a.apply(this,arguments)}return o}()},{key:"stop",value:function(){var a=We(he.mark(function r(){return he.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this._resolveSDKState();case 2:if(Mo()){s.next=4;break}return s.abrupt("return");case 4:if(this._deviceId!==null){s.next=6;break}return s.abrupt("return");case 6:return s.next=8,this._deleteDevice();case 8:return s.next=10,this._deviceStateStore.clear();case 10:this._clearPushToken().catch(function(){}),this._deviceId=null,this._token=null,this._userId=null;case 14:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"clearAllState",value:function(){var a=We(he.mark(function r(){return he.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(Mo()){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,this.stop();case 4:return s.next=6,this.start();case 6:case"end":return s.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_getPublicKey",value:function(){var a=We(he.mark(function r(){var i,s;return he.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return i="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/web-vapid-public-key"),s={method:"GET",path:i},p.abrupt("return",_a(s));case 3:case"end":return p.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_getPushToken",value:function(){var a=We(he.mark(function r(i){var s;return he.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,this._clearPushToken();case 3:return p.next=5,this._serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fn(i)});case 5:return s=p.sent,p.abrupt("return",btoa(JSON.stringify(s)));case 9:return p.prev=9,p.t0=p.catch(0),p.abrupt("return",Promise.reject(p.t0));case 12:case"end":return p.stop()}},r,this,[[0,9]])}));function o(r){return a.apply(this,arguments)}return o}()},{key:"_clearPushToken",value:function(){var a=We(he.mark(function r(){return he.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",navigator.serviceWorker.ready.then(function(c){return c.pushManager.getSubscription()}).then(function(c){c&&c.unsubscribe()}));case 1:case"end":return s.stop()}},r)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_registerDevice",value:function(){var a=We(he.mark(function r(i){var s,c,p,f;return he.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return s="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web"),c={token:i,metadata:{sdkVersion:io}},p={method:"POST",path:s,body:c},S.next=5,_a(p);case 5:return f=S.sent,S.abrupt("return",f.id);case 7:case"end":return S.stop()}},r,this)}));function o(r){return a.apply(this,arguments)}return o}()},{key:"_deleteDevice",value:function(){var a=We(he.mark(function r(){var i,s;return he.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return i="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(encodeURIComponent(this._deviceId)),s={method:"DELETE",path:i},p.next=4,_a(s);case 4:case"end":return p.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_updateDeviceMetadata",value:function(){var a=We(he.mark(function r(){var i,s,c,p,f,u;return he.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return i=window.navigator.userAgent,k.next=3,this._deviceStateStore.getLastSeenUserAgent();case 3:return s=k.sent,k.next=6,this._deviceStateStore.getLastSeenSdkVersion();case 6:if(c=k.sent,!(i===s&&io===c)){k.next=9;break}return k.abrupt("return");case 9:return p="".concat(this._baseURL,"/device_api/v1/instances/").concat(encodeURIComponent(this.instanceId),"/devices/web/").concat(this._deviceId,"/metadata"),f={sdkVersion:io},u={method:"PUT",path:p,body:f},k.next=14,_a(u);case 14:return k.next=16,this._deviceStateStore.setLastSeenSdkVersion(io);case 16:return k.next=18,this._deviceStateStore.setLastSeenUserAgent(i);case 18:case"end":return k.stop()}},r,this)}));function o(){return a.apply(this,arguments)}return o}()},{key:"_baseURL",get:function(){return this._endpoint!==null?this._endpoint:"https://".concat(this.instanceId,".pushnotifications.pusher.com")}}]),t}(),Go=function(a){if(a==null)throw new Error("Interest name is required");if(typeof a!="string")throw new Error("Interest ".concat(a," is not a string"));if(!In.test(a))throw new Error('interest "'.concat(a,'" contains a forbidden character. ')+"Allowed characters are: ASCII upper/lower-case letters, numbers or one of _-=@,.;");if(a.length>Er)throw new Error("Interest is longer than the maximum of ".concat(Er," chars"))};function Nn(){return tr.apply(this,arguments)}function tr(){return tr=We(he.mark(function t(){var a,o;return he.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(Tr);case 2:if(a=i.sent,o=a.status,o===200){i.next=6;break}throw new Error("Cannot start SDK, service worker missing: No file found at /service-worker.js");case 6:return window.navigator.serviceWorker.register(Tr,{updateViaCache:"none"}),i.abrupt("return",window.navigator.serviceWorker.ready);case 8:case"end":return i.stop()}},t)})),tr.apply(this,arguments)}function Rn(t){return t.pushManager.getSubscription().then(function(a){return a?Ln(a):null})}function Ln(t){return btoa(JSON.stringify(t))}function Fn(t){var a="=".repeat((4-t.length%4)%4),o=(t+a).replace(/-/g,"+").replace(/_/g,"/"),r=window.atob(o);return Uint8Array.from(yn(r).map(function(i){return i.charCodeAt(0)}))}function Mo(){var t=window.navigator,a=t.vendor,o=window.chrome!==null&&typeof window.chrome!="undefined",r=t.userAgent.indexOf("OPR")>-1,i=t.userAgent.indexOf("Edg")>-1,s=t.userAgent.indexOf("Firefox")>-1,c=o&&a==="Google Inc."&&!i&&!r,p=c||r||s||i;return p||console.warn("Pusher Web Push Notifications supports Chrome, Firefox, Edge and Opera."),p}const va={store:[],notificaciones:[],registraCanal:()=>{va.push({id:_data.id,data:null})},despacharMensajes:()=>{va.notificaciones.length!==0&&va.notificaciones.map(function(t,a){yt.setNot(),console.log(t),va.sendPush({title:"Nueva NOTIFICACION",message:"Es"})})},sendPush:t=>{if(Notification){Notification.permission!=="granted"&&Notification.requestPermission();var a="Metrovirtual: "+t.title,o={icon:"assets/favicon.ico",body:t.message},r=new Notification(a,o);r.onclick=()=>{},r.onclose={},setTimeout(function(){r.close()},3e4)}},nuevaNotificacion:(t={})=>{var a=va.notificaciones;va.notificaciones=[],a.push(t),setTimeout(function(){va.notificaciones=a,va.despacharMensajes()},1e3)},oninit:()=>{const t=new er({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});t.start().then(()=>t.addDeviceInterest("Metrovirtual")).then(()=>console.log("Successfully registered and subscribed!")).catch(console.error)},suscribirCanal:t=>{const a=new er({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});a.start().then(()=>a.addDeviceInterest(t)).then(()=>console.log("Successfully registered and subscribed! + "+t)).catch(console.error)},view:()=>{}},yt={num:0,message:" tenemos nueva informaci\xF3n disponible para ti. Click aqu\xED!.",timestamp:"",setNot:()=>{yt.num=yt.num+1},suscribirCanal:t=>va.suscribirCanal(t),view:()=>[e(va),e("div.dropdown.dropdown-notification",[e("a.dropdown-link.new-indicator[href=''][data-toggle='dropdown']",[e("i[data-feather='bell']"),e("span",{class:yt.num==0?"d-none":""},yt.num)]),e("div.dropdown-menu.dropdown-menu-right",{class:yt.num==0?"d-none":""},[e("div.dropdown-header","Notificaciones"),e("a.dropdown-item",{onclick:t=>{t.preventDefault(),e.route.set("/notificaciones")}},e("div.media",[e("div.media-body.mg-l-15",[e("p",[e("strong","Metrovirtual "),yt.message]),e("span",yt.timestamp)])])),e("div.dropdown-footer",e("a[href='/']","Ver Todo"))])])]},On={view:()=>{if(Z.rol==1)return"Administrador";if(Z.rol==2)return"Coordinador";if(Z.rol==3)return"Gestionador";if(Z.rol==4)return"Operador";if(Z.rol==4)return"Usuario"}},li={view:()=>[e("div.navbar-right",[e(yt),e("div.dropdown.dropdown-profile",[e("a.dropdown-link[href=''][data-toggle='dropdown'][data-display='static']",e("div.avatar.avatar-sm",e("i[data-feather='user']"))),e("div.dropdown-menu.dropdown-menu-right.tx-13",[e("div.tx-18.tx-semibold.mg-b-0",Z.user.user!==void 0?Z.user.user.toUpperCase():""),e("p.mg-b-25.tx-12.tx-color-03",[e(On)]),e(e.route.Link,{href:"/",class:"dropdown-item tx-16 "},[e("i[data-feather='user']")," Mi Perfil "]),e(e.route.Link,{href:"/",class:"dropdown-item tx-16 "},[e("i[data-feather='help-circle']")," Soporte CONCAS "]),e("div.dropdown-divider"),e(e.route.Link,{href:"/salir",class:"dropdown-item tx-16 "},[e("i[data-feather='log-out']"),"Salir"])])])])]},Hn={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[e("li.nav-item",e(e.route.Link,{href:"/inicio",class:"nav-link"},[e("i[data-feather='layout']")," Inicio "])),Object.keys(t.modulesAccess).map(function(a,o,r){if(t.modulesAccess[a].length!==0)return a=="terapia-respiratoria"?[e("li.nav-item."+(_.page===a?"active":""),e(e.route.Link,{href:"/terapia-respiratoria/pedidos",class:"nav-link"},[e("i[data-feather='layout']"),"Terapia Respiratoria"]))]:a=="bco-sangre"?[e("li.nav-item."+(_.page===a?"active":""),e(e.route.Link,{href:"/bco-sangre/pedidos",class:"nav-link"},[e("i[data-feather='layout']"),"Bco. de Sangre"]))]:a=="neurofisiologia"?[e("li.nav-item."+(_.page===a?"active":""),e(e.route.Link,{href:"/neurofisiologia/pedidos",class:"nav-link"},[e("i[data-feather='layout']"),"Neurofisiolog\xEDa"]))]:[e("li.nav-item."+(_.page===a?"active":""),e(e.route.Link,{href:"/"+a,class:"nav-link"},[e("i[data-feather='layout']"),a.charAt(0).toUpperCase()+a.slice(1)]))]})]}},_={page:"",setPage:t=>{_.page=t},oncreate:()=>{Ar()},onupdate:()=>{Ar()},view:()=>[e("header.navbar.navbar-header.navbar-header-fixed",[e("a.burger-menu[href=''][id='sidebarMenuOpen']",e("i[data-feather='arrow-left']")),e("div.navbar-brand",e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")])),e(".navbar-menu-wrapper[id='navbarMenu']",[e("div.navbar-menu-header",[e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")]),e("a[id='mainMenuClose'][href='']",e("i[data-feather='x']"))]),e("ul.nav.navbar-menu",[e("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),e("div.d-lg-none",[e(Hn)])])]),e(li)])]};function Ar(){feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0});function t(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}if(t(),$(window).resize(function(){t()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(a){a.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),window.matchMedia("(min-width: 992px)").matches){var o=$(a.target).closest(".navbar-menu .nav-item").length;o||$(".navbar-header .show").removeClass("show")}}),$("#mainMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(a){a.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(a){a.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(a){a.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length){const a=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0});$(".sidebar-nav .with-sub").on("click",function(o){o.preventDefault(),$(this).parent().toggleClass("show"),a.update()})}$("#mainMenuOpen").on("click touchstart",function(a){a.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),!$(a.target).closest(".burger-menu").length){var o=$(a.target).closest(".sidebar").length,r=$(a.target).closest(".navbar-menu-wrapper").length;!o&&!r&&($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show"))}})}const $n={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.laboratorio.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:de.page==a.idModulo?"active":""},[a.label])]})]}},de={page:"",setPage:t=>{de.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Laboratorio"),m("li.nav-item.show",[m(m.route.Link,{href:"/laboratorio",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Laboratorio "]),m("nav.nav",[m($n)])])]))])]},Yn={view:()=>[m("div.content.content-components",m("div.container",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Laboratorio")]),m("h1.df-title.mg-t-20.mg-b-10","Laboratorio:"),m("div.row.tx-14",[N.isShow("laboratorio",16)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/flebotomista")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-flask tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Flebotomista"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Flebotomista")])])])]:[],N.isShow("laboratorio",6)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/formularios")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-file-alt tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Formularios Epidemiol\xF3gicos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Formularios Epidemiol\xF3gicos")])])])]:[],N.isShow("laboratorio",15)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/notificaciones")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-bell tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Notificaciones de Laboratorio"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Laboratorio")])])])]:[],N.isShow("laboratorio",21)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/lisa/pedidos/ingresados")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-sitemap tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"LISA"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a LISA v1.0")])])])]:[],N.isShow("laboratorio",28)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/laboratorio/etiquetas")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-cog tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Configuraci\xF3n de Etiquetas"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Configuraci\xF3n de Etiquetas")])])])]:[]])]))]},jn={oninit:()=>{_.page="",de.page="",N.isAuth()},oncreate:()=>{document.title="Laboratorio | "+N.title},view:()=>[m(_,{oncreate:_.setPage("laboratorio")}),m(de),m(Yn)]},ho={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:()=>{_.page="",de.page="",ho.searchField="",ho.showBusquedas="",ho.pacientes=[],N.isAuth()},oncreate:()=>{document.title="Notificaciones de Laboratorio | "+N.title},view:()=>[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",e("div.container",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" LABORATORIO "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones de Laboratorio")]),e("h1.df-title.mg-t-20.mg-b-10",["Notificaciones de Laboratorio:"]),e("div.row.tx-14",[e("div.col-12.mg-b-10.wd-100p",e("div.row.mg-t-10",[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/laboratorio/notificaciones/filtros",{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-filter tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Filtros"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Filtros")])])]),e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/laboratorio/notificaciones/enviadas",{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-mail-bulk tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Notificaciones Enviadas"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones Enviadas")])])]),e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/laboratorio/notificaciones/pendientes",{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-hourglass tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Notificaciones Pendientes"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones Pendientes")])])]),e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/laboratorio/notificaciones/error",{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-exclamation-triangle tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Notificaciones con Error"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones con Error")])])])])),e("div.table-loader.col-12.wd-100p",{class:ho.showProcess},e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.col-12",{class:"d-none"},[e("label.nav-label.tx-semibold","B\xFAsquedas Recientes:"),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),e("div.section-nav",[])]},go={canal:"",oninit:t=>{t.attrs.canal!==void 0&&(go.canal=t.attrs.canal)},subscribirCanal:t=>{const a=new er({instanceId:"75c0a111-da02-4af0-b35b-66124bd7f2b5"});a.start().then(()=>a.addDeviceInterest(t)).then(()=>{alert("Proceso realizado con \xE9xito. Usuario (Dispositivo) subscrito al canal: "+t),console.log("Successfully registered and subscribed! + "+t)}).catch(console.error)},view:()=>{go.canal.length!==0&&go.subscribirCanal(go.canal)}},ht={data:[],fetch:()=>{ht.data=[];for(var t=0;t<vt.dataFiltros.length;t++)vt.dataFiltros[t].id==vt.idFiltro&&(ht.data=vt.dataFiltros[t])},view:()=>{if(vt.showBitacora.length!==0&&ht.data.length!==0)return[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{vt.showBitacora="",ht.data=[],e.route.set("/laboratorio/notificaciones/filtros",{})}}))),e("div.mg-b-30",e("i.tx-40.fas.fa-filter.")),e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-edit.mg-r-5")," Editar "),e("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),e("h5.tx-inverse.mg-b-10","Filtro: "+ht.data.nombre),ht.data.ene==0?[e("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[e("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],ht.data.x_servicio!==null?[e("h5.tx-inverse.mg-b-10","Por Servicio: "+ht.data.x_servicio)]:[],ht.data.x_origen!==null?[e("h5.tx-inverse.mg-b-10","Por Origen: "+ht.data.x_origen)]:[],ht.data.x_motivo!==null?[e("h5.tx-inverse.mg-b-10","Por Motivo: "+ht.data.x_motivo)]:[],ht.data.x_especialidad!==null?[e("h5.tx-inverse.mg-b-10","Por Especialidad: "+ht.data.x_especialidad)]:[],ht.data.x_medico!==null?[e("h5.tx-inverse.mg-b-10","Por M\xE9dico: "+ht.data.x_medico)]:[],ht.data.x_idprueba!==null?[e("h5.tx-inverse.mg-b-10","Por Id Prueba: "+ht.data.x_idprueba)]:[]])];if(vt.showBitacora.length!==0)return[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]}},vt={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=reglas"}).then(function(t){vt.dataFiltros=t.data,Un()}).catch(function(t){})},oninit:t=>{_.page="",de.page="",vt.dataPendientesAlta=[],vt.dataCamaTotales=[],vt.camasTotales=0,vt.pendienteAlta=0,N.isAuth("laboratorio",15)},oncreate:t=>{document.title="Reglas Filtros | "+N.title,vt.fetch()},view:t=>(t.attrs!==void 0&&t.attrs.idFiltro!==void 0?(vt.idFiltro=t.attrs.idFiltro,vt.showBitacora="d-none",ht.fetch(),console.log(ht.data)):(vt.idFiltro="",vt.showBitacora=""),[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Reglas Filtros:")]),e("h1.df-title.mg-t-20.mg-b-10","Reglas Filtros:"),e("div.row.animated.fadeInUp",{class:vt.showBitacora},[e("div.col-12",[e("p.mg-b-20.tx-right",[e("button.btn.btn-xs.btn-primary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-plus.mg-r-5")," Nueva Regla ")]),e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),e("div.mg-t-50.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20..mg-t-40",[e("table.table.table-sm.tx-12[id='table-filtroslab'][width='100%']")])])]),e(ht)]))])};function Un(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-filtroslab").DataTable({data:vt.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,columns:[{title:"N\xB0:"},{title:"REGLA:"},{title:"TIPO:"},{title:"FECHA:"},{title:"SERVICIO:"},{title:"ORIGEN:"},{title:"MOTIVO:"},{title:"ESPECIALIDAD:"},{title:"M\xC9DICO:"},{title:"ID PRUEBA:"},{title:"QR:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.nombreFiltro},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.eNe==0?" NO ENVIAR ":" ENVIAR "},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return moment.utc(moment()).format("DD-MM-YYYY")},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.xServicio},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.xOrigen},visible:!0,aTargets:[5]},{mRender:function(a,o,r){return r.xMotivo},visible:!0,aTargets:[6]},{mRender:function(a,o,r){return r.xMedico},visible:!0,aTargets:[7]},{mRender:function(a,o,r){return r.x_medico},visible:!0,aTargets:[8]},{mRender:function(a,o,r){return r.xIdPrueba},visible:!0,aTargets:[9]},{mRender:function(a,o,r){return r.xQR},visible:!0,aTargets:[10]}],fnRowCallback:function(a,o,r,i){$(a).attr("id",o.id),o.eNe==0?$(a).addClass("tx-danger"):$(a).addClass("tx-primary"),$(a).css("cursor","pointer"),$(a).addClass("verRegla")},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),$(".verRegla").click(function(o){o.preventDefault();var r=this;vt.showBitacora="d-none",e.route.set("/laboratorio/notificaciones/filtros/",{idFiltro:r.id})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}const Bn={oncreate:()=>{if(ie.loadNotificacionesEnviadasLab(),ie.searchField.length!==0){var t=$("#table-NotificacionesEnviadasLab").DataTable();t.search(ie.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","NotificacionesEnviadasLab de Laboratorio:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{ie.idFiltro==1&&(t.dom.innerHTML="NotificacionesEnviadasLab de Hoy"),ie.idFiltro==2&&(t.dom.innerHTML="NotificacionesEnviadasLab entre Fechas"),ie.idFiltro==3&&(t.dom.innerHTML="NotificacionesEnviadasLab de Emergencia"),ie.idFiltro==4&&(t.dom.innerHTML="NotificacionesEnviadasLab de C. Externa"),ie.idFiltro==5&&(t.dom.innerHTML="NotificacionesEnviadasLab de Hospitalizaci\xF3n")},onupdate:t=>{ie.idFiltro==1&&(t.dom.innerHTML="NotificacionesEnviadasLab de Hoy"),ie.idFiltro==2&&(t.dom.innerHTML="NotificacionesEnviadasLab entre Fechas"),ie.idFiltro==3&&(t.dom.innerHTML="NotificacionesEnviadasLab de Emergencia"),ie.idFiltro==4&&(t.dom.innerHTML="NotificacionesEnviadasLab de C. Externa"),ie.idFiltro==5&&(t.dom.innerHTML="NotificacionesEnviadasLab de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:ie.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=ie.idFiltro!==1?moment(moment(ie.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{ie.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),ie.loader=!0,ie.NotificacionesEnviadasLab=[],ie.fetchNotificacionesEnviadasLab(),e.route.set("/imagen/NotificacionesEnviadasLab?idFiltro="+ie.idFiltro+"&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=ie.idFiltro!==1?moment(moment(ie.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{ie.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),ie.loader=!0,ie.NotificacionesEnviadasLab=[],ie.fetchNotificacionesEnviadasLab(),e.route.set("/imagen/NotificacionesEnviadasLab?idFiltro="+ie.idFiltro+"&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=1"},["NotificacionesEnviadasLab de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=2&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta},["NotificacionesEnviadasLab entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=3&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta},["NotificacionesEnviadasLab de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=4&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta},["NotificacionesEnviadasLab de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/NotificacionesEnviadasLab/?idFiltro=5&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta},["NotificacionesEnviadasLab de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:ie.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){ie.searchField=t.target.value},value:ie.searchField}))]),e("table.table.table-sm.tx-11[id='table-NotificacionesEnviadasLab'][width='100%']")])])])},ie={notificaciones:[],NotificacionesEnviadasLab:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{de.page="",ie.NotificacionesEnviadasLab.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),ie.fechaDesde=moment().subtract(2,"days").format("DD-MM-YYYY"),ie.fechaHasta=moment().format("DD-MM-YYYY"),ie.loader=!0,ie.NotificacionesEnviadasLab=[],ie.fetchNotificacionesEnviadasLab())},oncreate:t=>{yt.suscribirCanal("MetroPlus-NotificacionesEnviadasLab")},loadNotificacionesEnviadasLab:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-NotificacionesEnviadasLab").DataTable({data:ie.NotificacionesEnviadasLab,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){ie.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0"),e.mount(o.anCells[5],{view:function(){return o._aData.SECTOR=="EMERGENCIA"?[e("div.d-inline.list-group-item.d-flex.pd-sm",[e("div.avatar.tx-center",e("i.fas.fa-file-alt.tx-30",{title:"Ver Pedido",style:{color:"#325a98",cursor:"pointer"},onclick:()=>{e.route.set("/imagen/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}})),e("div.pd-sm-l-10",[e("p.tx-medium.tx-13.mg-b-2","N\xB0 PRESCRIPCION MV: "+o._aData.CD_PRE_MED),e("p.tx-medium.tx-14.mg-b-2","PTE: "+o._aData.NM_PACIENTE),e("p.tx-medium.mg-b-2","Edad: "+o._aData.EDAD+" Peso: "+o._aData.PESO+"Kg. Altura: "+o._aData.ALTURA+"m."),e("small.tx-12.tx-light.mg-b-0","MEDICO: "+o._aData.MED_MV)]),e("div.mg-l-auto.text-right",[e("p.tx-medium.mg-b-2",o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("small.tx-12.tx-danger.mg-b-0",o._aData.SECTOR),e("p.tx-12.tx-danger.mg-b-0",o._aData.UBICACION)])])]:[e("div.d-inline.list-group-item.d-flex.pd-sm",[e("div.avatar.tx-center",e("i.fas.fa-file-alt.tx-30",{title:"Ver Pedido",style:{color:"#325a98",cursor:"pointer"},onclick:()=>{e.route.set("/imagen/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}})),e("div.pd-sm-l-10",[e("p.tx-medium.tx-13.mg-b-2","N\xB0 PRESCRIPCION MV: "+o._aData.CD_PRE_MED),e("p.tx-medium.tx-14.mg-b-2","PTE: "+o._aData.NM_PACIENTE),e("p.tx-medium.mg-b-2","Edad: "+o._aData.EDAD+" Peso: "+o._aData.PESO+"Kg. Altura: "+o._aData.ALTURA+"m."),e("small.tx-12.tx-light.mg-b-0","MEDICO: "+o._aData.MED_MV)]),e("div.mg-l-auto.text-right",[e("p.tx-medium.mg-b-2",o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("small.tx-12.tx-primary.mg-b-0",o._aData.SECTOR),e("p.tx-12.tx-primary.mg-b-0",o._aData.UBICACION)])])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchNotificacionesEnviadasLab:()=>{let t="";ie.idFiltro==1?t="&idFiltro="+ie.idFiltro:t="&idFiltro="+ie.idFiltro+"&fechaDesde="+ie.fechaDesde+"&fechaHasta="+ie.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=enviadas"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){ie.loader=!1,ie.NotificacionesEnviadasLab=a.data}).catch(function(a){setTimeout(function(){ie.fetchNotificacionesEnviadasLab()},2e3)})},reloadData:()=>{var t=$("#table-NotificacionesEnviadasLab").DataTable();t.clear(),t.rows.add(ie.NotificacionesEnviadasLab).draw()},view:t=>ie.loader?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:ie.error.length!==0?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!ie.loader&&ie.NotificacionesEnviadasLab.length!==0?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e(Bn)]))]:!ie.loader&&ie.NotificacionesEnviadasLab.length==0?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Enviadas")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Enviadas"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]};function Vn(){return{interval:null,seconds:100,isPaused:!1}}const ja={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(ja.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?ja.start(t):ja.stop(t),t.isPaused=!t.isPaused}};function qn(){const t=Vn();return ja.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){ja.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){ja.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){ja.stop(t)}}}const Jn={oncreate:()=>{if(K.loadFlebotomista(),K.searchField.length!==0){var t=$("#table-flebotomista").DataTable();t.search(K.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","LISA:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{K.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),K.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),K.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n"),K.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa")},onupdate:t=>{K.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),K.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),K.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n"),K.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa")}})),e("div.d-flex.tx-14",[e(".",{class:K.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=K.idFiltro!==1?moment(moment(K.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{K.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),K.loader=!0,K.pedidos=[],K.fetchPedidos(),e.route.set("/laboratorio/flebotomista?idFiltro="+K.idFiltro+"&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=K.idFiltro!==1?moment(moment(K.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{K.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),K.loader=!0,K.pedidos=[],K.fetchPedidos(),e.route.set("/laboratorio/flebotomista?idFiltro="+K.idFiltro+"&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=2&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=3&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta},["Pedidos de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/flebotomista/?idFiltro=4&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta},["Pedidos de C. Externa"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:K.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){K.searchField=t.target.value},value:K.searchField}))]),e("table.table.table-sm.tx-11[id='table-flebotomista'][width='100%']")])])])},K={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{de.page="",K.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),K.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),K.fechaHasta=moment().format("DD-MM-YYYY"),K.loader=!0,K.pedidos=[],K.fetchPedidos())},oncreate:t=>{yt.suscribirCanal("MetroPlus-LisaPedidos")},loadFlebotomista:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-flebotomista").DataTable({data:K.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N\xB0:"},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"M\xE9dico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td",{class:o.tipoPedido=="R"?"bg-primary":"bg-danger"},[o.tipoPedido=="R"?e("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):e("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),e("td",{style:{}},o.fechaPedido),e("td",{style:{}},e("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",o.codigoPedido)),e("td",{style:{}},[e(".d-inline.mg-r-5",{class:o.sector=="EMERGENCIA"?"tx-danger":"tx-primary"},o.sector),e("br"),o.paciente]),e("td",{style:{}},o.descPrestadorSolicitante),o.tipoOperacion=="I"?[e("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":o.muestrasProcesadas==0?"#ffc107":"#0d9448"}},o.muestrasProcesadas==0?"Muestras Pendientes":"Muestras Completo")]:[""],e("td.tx-center",{onclick:()=>{e.route.set("/laboratorio/flebotomista/pedido/",{numeroHistoriaClinica:o.numeroHistoriaClinica,numeroAtencion:o.at_mv,numeroPedido:o.codigoPedido,idTimeRecord:o.idTimeRecord,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]})},drawCallback:function(a){K.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";K.idFiltro==1?t="?type=ingresadasFlebotomia&idFiltro="+K.idFiltro:t="?type=ingresadasFlebotomia&idFiltro="+K.idFiltro+"&fechaDesde="+K.fechaDesde+"&fechaHasta="+K.fechaHasta,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){K.loader=!1,K.pedidos=a.data}).catch(function(a){setTimeout(function(){K.fetchPedidos()},2e3)})},reproesarMensajeXML:(t,a)=>{K.loader=!0,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+t+"&idTimeRecord="+a,extract:function(o){return{status:o.status,body:o.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(o){o.status==200?(alert("Preceso realizado con \xE9xito."),setTimeout(function(){window.location.reload()},300)):alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")}).catch(function(o){alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")})},reloadData:()=>{var t=$("#table-flebotomista").DataTable();t.clear(),t.rows.add(K.pedidos).draw()},view:t=>K.loader?[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:K.error.length!==0?[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!K.loader&&K.pedidos.length!==0?[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e(Jn)])),e("div.section-nav",[e("label.nav-label","Pedidos Ingresados"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",K.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(qn)))])]:!K.loader&&K.pedidos.length==0?[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]};function zn(){return{interval:null,seconds:100,isPaused:!1}}const Ua={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ua.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Ua.start(t):Ua.stop(t),t.isPaused=!t.isPaused}};function Gn(){const t=zn();return Ua.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Ua.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Ua.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ua.stop(t)}}}const Xn={oncreate:()=>{if(V.loadPedidosIngresados(),V.searchField.length!==0){var t=$("#table-pedidosIngresados").DataTable();t.search(V.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","LISA:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{V.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),V.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),V.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n "),V.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa ")},onupdate:t=>{V.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),V.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),V.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n "),V.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa ")}})),e("div.d-flex.tx-14",[e(".",{class:V.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=V.idFiltro!==1?moment(moment(V.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{V.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados(),e.route.set("/laboratorio/lisa/pedidos/ingresados?idFiltro="+V.idFiltro+"&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=V.idFiltro!==1?moment(moment(V.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{V.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados(),e.route.set("/laboratorio/lisa/pedidos/ingresados?idFiltro="+V.idFiltro+"&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5.tx-primary")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=2&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=3&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta},["Pedidos de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/laboratorio/lisa/pedidos/ingresados/?idFiltro=4&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta},["Pedidos de C. Externa"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:V.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){V.searchField=t.target.value},value:V.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidosIngresados'][width='100%']")])])])},V={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",pCancelados:0,pIngreados:0,pPendientes:0,pProcesados:0,oninit:t=>{de.page="",V.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),V.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),V.fechaHasta=moment().format("DD-MM-YYYY"),V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados())},oncreate:t=>{yt.suscribirCanal("MetroPlus-LisaPedidos")},loadPedidosIngresados:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidosIngresados").DataTable({data:V.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N\xB0:"},{title:"Fecha:"},{title:"SC:"},{title:"Paciente:"},{title:"M\xE9dico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td",{class:o.tipoPedido=="R"?"bg-primary":"bg-danger"},[o.tipoPedido=="R"?e("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","R"):e("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","U")]),e("td",{style:{}},o.fechaPedido),e("td",{style:{}},e("span.tx-semibold.tx-dark.tx-15.wd-100p.mg-b-1",o.codigoPedido)),e("td",{style:{}},[e(".d-inline.mg-r-5",{class:o.sector=="EMERGENCIA"?"tx-danger":"tx-primary"},o.sector),e("br"),o.paciente]),e("td",{style:{}},o.descPrestadorSolicitante),o.tipoOperacion=="I"?e("td.tx-white.tx-semibold.tx-center",{title:o.enviadoInfinity==0?" Retenido ":" Enviado ",style:{"background-color":o.enviadoInfinity==0?"#fd7e14":"#00cccc"}},o.enviadoInfinity==0?"Retenido":"Enviado"):e("td.tx-white.tx-semibold.bg-danger.tx-center",{title:o.enviadoInfinity==0?" Cancelado ":" Cancelado Enviado "},o.enviadoInfinity==0?"Cancelado":"Cancelado Enviado"),o.tipoOperacion=="I"?[e("td.tx-white.tx-semibold.tx-center",{title:"Status Toma de Muestras",style:{"background-color":o.muestrasProcesadas==0?"#ffc107":"#0d9448"}},o.muestrasProcesadas==0?"Muestras Pendientes":"Muestras Completo")]:[""],o.tipoOperacion=="E"||o.tipoOperacion=="A"?[e("td.tx-center",{onclick:()=>{confirm("Esta Ud. seguro de generar este env\xEDo.")==!0&&V.reproesarMensajeXML(Number(o.codigoPedido),o.idTimeRecord)},title:o.enviadoInfinity==0?" Enviar ":" Reenviar ",style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},e("i.fas.fa-file-upload.mg-r-5"),o.enviadoInfinity==0?" Enviar ":" Reenviar ")]:[""],e("td.tx-center",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}},[e(e.route.Link,{class:"tx-dark pd-2",href:"/laboratorio/lisa/pedido/",target:"_blank",params:{numeroHistoriaClinica:o.numeroHistoriaClinica,numeroAtencion:o.at_mv,numeroPedido:o.codigoPedido,idTimeRecord:o.idTimeRecord,track:"view"}},"Ver Pedido")])]})},drawCallback:function(a){V.loader=!1,V.pProcesados=0,V.pPendientes=0,V.pIngreados=0,V.pCancelados=0,a.aoData.map(function(o,r){o._aData.tipoOperacion=="I"&&(V.pIngreados++,o._aData.muestrasProcesadas==0&&V.pPendientes++,o._aData.muestrasProcesadas==1&&V.pProcesados++),(o._aData.tipoOperacion=="E"||o._aData.tipoOperacion=="A")&&V.pCancelados++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidosIngresados:()=>{let t="";V.idFiltro==1?t="?type=ingresadas&idFiltro="+V.idFiltro:t="?type=ingresadas&idFiltro="+V.idFiltro+"&fechaDesde="+V.fechaDesde+"&fechaHasta="+V.fechaHasta,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/listar"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){V.loader=!1,V.pedidos=a.data}).catch(function(a){setTimeout(function(){V.fetchPedidosIngresados()},2e3)})},reproesarMensajeXML:(t,a)=>{V.loader=!0,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+t+"&idTimeRecord="+a,extract:function(o){return{status:o.status,body:o.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(o){o.status==200?(alert("Preceso realizado con \xE9xito."),setTimeout(function(){window.location.reload()},300)):alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")}).catch(function(o){alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")})},reloadData:()=>{var t=$("#table-pedidosIngresados").DataTable();t.clear(),t.rows.add(V.pedidos).draw()},view:t=>V.loader?[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:V.error.length!==0?[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!V.loader&&V.pedidos.length!==0?[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e(Xn)])),e("div.section-nav",[e("label.nav-label","Pedidos Ingresados"),e("div.mg-t-10.bg-white",e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",V.pIngreados-V.pCancelados),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Cancelados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",V.pCancelados),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Pendientes:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",V.pPendientes),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Procesados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",V.pProcesados),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(Gn)))])]:!V.loader&&V.pedidos.length==0?[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},Be={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return et.num==0&&setTimeout(function(){et.num=et.data.length,et.parseFetch(),e.redraw.sync()},2e3),Be.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+et.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Be.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=et.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:et.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Be.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Be.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Be.edad||Be.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Be.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Be.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Be.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},et={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Be.secs.push(t.data[a])}),Be.secs.map(function(a,o,r){a.name=="nombres"&&(Be.nombres=a.answer),a.name=="apellidos_paciente"&&(Be.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Be.sexo=a.answer),a.name=="nhcl"&&(Be.nhcl=a.answer),a.name=="numero_admision"&&(Be.numero_admision=a.answer),a.name=="edad"&&(Be.edad=a.answer),a.name=="edad_paciente"&&(Be.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Be.identificacion=a.answer),a.name=="fecha_admision"&&(Be.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Be.ubicacion=a.answer),a.name=="fecha_alta"&&(Be.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Be.medico_tratante=a.answer)})),parseFetch:()=>(Be.secs=[],et.data.map(function(t,a,o){et.parseDoc(et.data[a])})),fetch:()=>{et.data=[],et.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+et.nhc+"&adm="+et.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(et.data=t,et.num=0,e.redraw()):et.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){et.fetch()},5e3)})},view:()=>et.error?[e(".alert.alert-danger[role='alert']",et.error)]:et.data.length!==0?[e(Be)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Kt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Kt.data=[],Kt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:ne.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Kt.data=t.data,et.adm=Kt.data[0].ADM,et.nhc=Kt.data[0].NHCL,et.fetch()):Kt.error=t.message}).catch(function(t){setTimeout(function(){Kt.fetch()},5e3)})},view:()=>Kt.error?[e(".alert.alert-danger[role='alert']",Kt.error)]:Kt.data.length!==0?[e(et)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},xt={data:null,medico:null,fetch:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/itemslab/"+ne.numeroPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){xt.data=t.examenes,xt.medico=t.medico}).catch(function(t){})},oninit:()=>{xt.fetch()},view:()=>ne.examenes!==0&&xt.data!==null?(ne.examenes.Exame.length==null&&(ne.examenes.Exame=[ne.examenes.Exame]),ne.examenes.Exame.map(function(t,a,o){return console.log(xt.data[t.codigoExame]),t.operacao=="E"?[e(".tx-14.tx-semibold.tx-danger.d-inline",a+1+": "+t.descExame+" - "+t.codigoExameFaturamento),xt.data[t.codigoExame]!==void 0&&xt.data[t.codigoExame].OBS_EXAMEN!==null?[e("br"),e(".d-inline.tx-danger","Observaciones:"),e("br"),e(".d-inline",xt.data[t.codigoExame].OBS_EXAMEN),e("br")]:e("br")]:[e(".tx-14.tx-semibold.d-inline",a+1+": "+t.descExame+" - "+t.codigoExameFaturamento),xt.data[t.codigoExame]!==void 0&&xt.data[t.codigoExame].OBS_EXAMEN!==null?[e("br"),e(".d-inline.tx-danger","Observaciones:"),e("br"),e(".d-inline",xt.data[t.codigoExame].OBS_EXAMEN),e("br")]:e("br")]})):[e("div.pd-10",[e("div.placeholder-paragraph",[e("div.line")])])]},Q={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],fetch:()=>{Q.error="",Q.data=[],Q.documento=[],e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:ne.numeroPedido,idTimeRecord:ne.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(ne.loader=!1,ne.data=t.data.pedido,ne.examenes=t.data.pedido.PedidoExameLab.listaExame,Q.documento=t.data,Q.data=t.data.dataTomaMuestra.examenesToma,Q.dataMuestras=t.data.dataRecepcion.examenesRecep,lt.impresora=ne.data.PedidoExameLab.atendimento.nomeMaquina,Kt.fetch(),oa.fetch()):ne.error=t.message}).catch(function(t){})}},E={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0},oa={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:()=>{moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-observaciones").DataTable({data:oa.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return o._aData.title=="Nuevo Mensaje"?e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)])):e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t},reloadObservaciones:()=>{var t=$("#table-observaciones").DataTable();t.clear(),t.rows.add(oa.data).draw()},fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+ne.numeroPedido}).then(function(t){oa.data=t.data,oa.loadObservaciones()}).catch(function(t){})},sendNotiLab:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+ne.numeroPedido,body:{message:oa.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(oa.observaciones="",oa.fetch(),alert("Observaci\xF3n registrada con \xE9xito."))}).catch(function(t){EditarPedido.error=t.message})}},Jt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,seleccionarTodos:t=>{Jt.checkedAll=t;var a=moment().format("DD-MM-YYYY HH:mm");return Q.data.map(function(o,r,i){t?(Q.data[r].STATUS_TOMA="1",Q.data[r].FECHA_TOMA=a,Q.data[r].customCheked=!0):(Q.data[r].STATUS_TOMA="",Q.data[r].FECHA_TOMA="",Q.data[r].customCheked=!1)})},validarUpdateMuestras:()=>{for(var t=0,a=0;a<Q.data.length;a++)Q.data[a].STATUS_TOMA.length!==0&&t++;if(t==0)throw alert("El regisro de Recepci\xF3n de (Muestra) e Insumos en necesario."),"El regisro de Recepci\xF3n de (Muestra) e Insumos en necesario.";var o=0;if(E.tuboLila!==0&&o++,E.tuboRojo!==0&&o++,E.tuboCeleste!==0&&o++,E.tuboNegro!==0&&o++,E.tuboVerde!==0&&o++,E.gsav!==0&&o++,E.hemocultivo!==0&&o++,E.qtb!==0&&o++,o===0)throw console.log(o),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:()=>{Q.documento.dataTomaMuestra.insumosToma=E,e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(Q.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){Q.documento=t.data,Q.data=t.data.dataTomaMuestra.examenesToma}).catch(function(t){})},view:()=>Q.error?[e("p.mg-0",Q.error)]:Q.data.length!==0?[e("div.bg-white.bd.d-flex.flex-column.justify-content-end",[Jt.disabledToma?[e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-outline-secondary[type='button']",{onclick:()=>{Jt.disabledToma=!1,Jt.disabledInsumos=!1}},e("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],e(".",{style:{"pointer-events":Jt.disabledToma?"none":"auto"}},[e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),e("tr",[e("th.text-left","EXAMEN"),e("th","CONFIRMACI\xD3N")])),e("tbody",[e("tr",[e("td.tx-normal",e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:Jt.checkedAll,onclick:function(t){Jt.seleccionarTodos(this.checked)}}),e("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),e("td.tx-medium.text-right")]),Q.data.map(function(t,a,o){return[e("tr",[e("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='"+t.CD_EXA_LAB+"']",{checked:Q.data[a].customCheked,onupdate:function(r){this.checked=Q.data[a].customCheked},onclick:function(r){r.preventDefault();var i=this.checked;Q.data[a].customCheked=!Q.data[a].customCheked,i?(this.checked=!0,Q.data[a].STATUS_TOMA="1",Q.data[a].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,Jt.checkedAll=!1,Q.data[a].STATUS_TOMA="",Q.data[a].FECHA_TOMA="")}}),e("label.custom-control-label.tx-16[for='"+t.CD_EXA_LAB+"']",Q.data[a].STATUS_TOMA.length!==0?Q.data[a].FECHA_TOMA:Q.data[a].STATUS_TOMA)]))])]})])])),e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),e("tr",[e("th.text-left","INSUMOS"),e("th.text-left","CANTIDAD")])),e("tbody",[e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:t=>{t.target.checked?E.tuboLila=1:E.tuboLila=0},oncreate:t=>{E.tuboLila!==void 0&&E.tuboLila!==0&&(t.dom.checked=!0)},onupdate:t=>{E.tuboLila!==void 0&&E.tuboLila!==0?E.tuboLila==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{E.tuboLila!==void 0&&E.tuboLila!==0?t.dom.innerText=E.tuboLila:t.dom.innerText=0},onupdate:t=>{E.tuboLila!==void 0&&E.tuboLila!==0?t.dom.innerText=E.tuboLila:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboLila++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboLila--,E.tuboLila<0&&(E.tuboLila=0)}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:t=>{t.target.checked?E.tuboRojo=1:E.tuboRojo=0},oncreate:t=>{E.tuboRojo!==void 0&&E.tuboRojo!==0&&(t.dom.checked=!0)},onupdate:t=>{E.tuboRojo!==void 0&&E.tuboRojo!==0?E.tuboRojo==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{E.tuboRojo!==void 0&&E.tuboRojo!==0?t.dom.innerText=E.tuboRojo:t.dom.innerText=0},onupdate:t=>{E.tuboRojo!==void 0&&E.tuboRojo!==0?t.dom.innerText=E.tuboRojo:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboRojo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboRojo--,E.tuboRojo<0&&(E.tuboRojo=0)}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:t=>{t.target.checked?E.tuboCeleste=1:E.tuboCeleste=0},oncreate:t=>{E.tuboCeleste!==void 0&&E.tuboCeleste!==0&&(t.dom.checked=!0)},onupdate:t=>{E.tuboCeleste!==void 0&&E.tuboCeleste!==0?E.tuboCeleste==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{E.tuboCeleste!==void 0&&E.tuboCeleste!==0?t.dom.innerText=E.tuboCeleste:t.dom.innerText=0},onupdate:t=>{E.tuboCeleste!==void 0&&E.tuboCeleste!==0?t.dom.innerText=E.tuboCeleste:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboCeleste++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboCeleste--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:t=>{t.target.checked?E.tuboNegro=1:E.tuboNegro=0},oncreate:t=>{E.tuboNegro!==void 0&&E.tuboNegro!==0&&(t.dom.checked=!0)},onupdate:t=>{E.tuboNegro!==void 0&&E.tuboNegro!==0?E.tuboNegro==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{E.tuboNegro!==void 0&&E.tuboNegro!==0?t.dom.innerText=E.tuboNegro:t.dom.innerText=0},onupdate:t=>{E.tuboNegro!==void 0&&E.tuboNegro!==0?t.dom.innerText=E.tuboNegro:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboNegro++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboNegro--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:t=>{t.target.checked?E.tuboVerde=1:E.tuboVerde=0},oncreate:t=>{E.tuboVerde!==void 0&&E.tuboVerde!==0&&(t.dom.checked=!0)},onupdate:t=>{E.tuboVerde!==void 0&&E.tuboVerde!==0?E.tuboVerde==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{E.tuboVerde!==void 0&&E.tuboVerde!==0?t.dom.innerText=E.tuboVerde:t.dom.innerText=0},onupdate:t=>{E.tuboVerde!==void 0&&E.tuboVerde!==0?t.dom.innerText=E.tuboVerde:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboVerde++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{E.tuboVerde--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:t=>{t.target.checked?E.gsav=1:E.gsav=0},oncreate:t=>{E.gsav!==void 0&&E.gsav!==0&&(t.dom.checked=!0)},onupdate:t=>{E.gsav!==void 0&&E.gsav!==0?E.gsav==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{E.gsav!==void 0&&E.gsav!==0?t.dom.innerText=E.gsav:t.dom.innerText=0},onupdate:t=>{E.gsav!==void 0&&E.gsav!==0?t.dom.innerText=E.gsav:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{E.gsav++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{E.gsav--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:t=>{t.target.checked?E.hemocultivo=1:E.hemocultivo=0},oncreate:t=>{E.hemocultivo!==void 0&&E.hemocultivo!==0&&(t.dom.checked=!0)},onupdate:t=>{E.hemocultivo!==void 0&&E.hemocultivo!==0?E.hemocultivo==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{E.hemocultivo!==void 0&&E.hemocultivo!==0?t.dom.innerText=E.hemocultivo:t.dom.innerText=0},onupdate:t=>{E.hemocultivo!==void 0&&E.hemocultivo!==0?t.dom.innerText=E.hemocultivo:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{E.hemocultivo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{E.hemocultivo--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:t=>{t.target.checked?E.qtb=1:E.qtb=0},oncreate:t=>{E.qtb!==void 0&&E.qtb!==0&&(t.dom.checked=!0)},onupdate:t=>{E.qtb!==void 0&&E.qtb!==0?E.qtb==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{E.qtb!==void 0&&E.qtb!==0?t.dom.innerText=E.qtb:t.dom.innerText=0},onupdate:t=>{E.qtb!==void 0&&E.qtb!==0?t.dom.innerText=E.qtb:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{E.qtb++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{E.qtb--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])])),Jt.disabledToma?[e("p.mg-5.",[e("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+Q.documento.pedidoLaboratorio.dataTomaMuestra.fechaToma)])]:[e("div.pd-10",[e("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:Jt.disabledToma,onclick:()=>{Jt.validarUpdateMuestras();var t=moment().format("DD-MM-YYYY HH:mm");Q.documento.dataTomaMuestra.usuarioToma="flebot1",Q.documento.dataTomaMuestra.fechaToma=t,Jt.disabledToma=!0,Jt.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]},ve={showLogs:"",dataXML:"",nuevoPedido:!1,logsEnvio:[],examenes:[],jsonObj:null,vaTime:null,xmlRes:null,setNuevoPedido:()=>{ve.nuevoPedido=!0},agregarExamen:t=>{var a=!1;ve.examenes.map(function(o,r,i){ve.examenes[r].codigoExame==t.CD_EXA_LAB&&(a=!0)}),a||ne.examenes.Exame.map(function(o,r,i){ne.examenes.Exame[r].codigoExame==t.CD_EXA_LAB&&ve.examenes.push(ne.examenes.Exame[r])}),console.log(ve.examenes)},eliminarExamen:t=>{var a=!1,o=null;ve.examenes.map(function(r,i,s){ve.examenes[i].codigoExame==t.CD_EXA_LAB&&(a=!0,o=i)}),a&&(ve.examenes.splice(o,1),console.log(ve.examenes))},generarXML:()=>{ve.jsonObj={Exame:ve.examenes},ve.vaTime=moment().format("YYYY-MM-DD HH:mm:ss"),ne.data.Cabecalho.mensagemID=moment().unix(),ne.data.Cabecalho.dataHora=ve.vaTime,ne.data.PedidoExameLab.listaExame=ve.jsonObj,ne.data.PedidoExameLab.operacao="I",lt.impresora.length!==0&&(console.log("RecepMuestras",lt.impresora),ne.data.PedidoExameLab.atendimento.nomeMaquina=lt.impresora),xt.medico!==null&&xt.medico!==!1&&(ne.data.PedidoExameLab.atendimento.prestadorSolicitante=xt.medico.CODMEDICO,ne.data.PedidoExameLab.atendimento.descPrestadorSolicitante=xt.medico.PRESTADOR,ne.data.PedidoExameLab.atendimento.numeroConselhoSolicitante=xt.medico.CEDULA),ve.xmlRes=ar(ne.data),console.log("documento",ne.data),ve.nuevoPedido?ve.sendNuevoPedido(ve.xmlRes,ne.numeroPedido,ve.vaTime):ve.sendXML(ve.xmlRes,ne.numeroPedido,ve.vaTime)},sendNuevoPedido:(t,a,o)=>{e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-nuevo-pedido",body:{data:t,sc:a,idTimeRecord:o},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(r){setTimeout(function(){alert("Proceso realizado con \xE9xito."),window.location.reload()},2e3),console.log("result",r)}).catch(function(r){})},sendXML:(t,a,o)=>{console.log("xmlRes",t),e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:t,sc:a,idTimeRecord:o},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(r){setTimeout(function(){alert("Proceso realizado con \xE9xito."),window.location.reload()},2e3)}).catch(function(r){})},oninit:()=>{ve.examenes=[],ve.showLogs="",ve.dataXML=[],ve.nuevoPedido=!1,ve.logsEnvio=[],ve.examenes=[],ve.jsonObj=null,ve.vaTime=null,ve.xmlRes=null,lt.disabledToma=!1,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+ne.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.data.map(function(a,o,r){a.PedidoExameLab.listaExame.Exame!==void 0&&ve.logsEnvio.push(a)}),console.log(ve.logsEnvio),Object.keys(ve.logsEnvio).length!==0&&(lt.disabledToma=!0)}).catch(function(t){})},view:()=>ve.logsEnvio.length!==0?ve.logsEnvio.map(function(t,a,o){return[e("tr",{oncreate:()=>{a+1===o.length&&(lt.impresora=t.PedidoExameLab.atendimento.nomeMaquina)}},[e("td.tx-16.tx-normal.text-left",t.PedidoExameLab.listaExame.Exame!==void 0&&t.PedidoExameLab.listaExame.Exame.length!==void 0?[t.PedidoExameLab.codigoPedido>88e6?[t.PedidoExameLab.listaExame.Exame.map(function(r,i,s){return lt.examenNuevoPedido(r,t.PedidoExameLab,t.Cabecalho),[e(".d-inline",r.descExame),e("br")]})]:[t.PedidoExameLab.listaExame.Exame.map(function(r,i,s){return[e(".d-inline",r.descExame),e("br")]})]]:[t.PedidoExameLab.codigoPedido>88e6?[lt.examenNuevoPedido(t.PedidoExameLab.listaExame.Exame,t.PedidoExameLab,t.Cabecalho),e(".d-inline",t.PedidoExameLab.listaExame.Exame.descExame),e("br")]:[e(".d-inline",t.PedidoExameLab.listaExame.Exame.descExame),e("br")]]),e("td.tx-16.tx-normal","TIPO: "+t.PedidoExameLab.operacao,e("br"),e(".d-inline.tx-danger.tx-semibold","SC: "+t.PedidoExameLab.codigoPedido),e("br"),t.Cabecalho.dataHora),e("td.tx-16.tx-normal.d-none",[t.PedidoExameLab.codigoPedido>88e6?[e("button.btn.btn-xs.btn-block.wd-50p.btn-danger.d-none",{onclick:()=>{}}," Eliminar ")]:[]])])]}):[e("tr",[e("td.tx-16.tx-medium.text-left","No existe env\xEDos.")])]},lt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,impresora:"",examenNuevoPedido:(t,a,o)=>Q.dataMuestras.map(function(r,i,s){t.codigoExame===r.CD_EXA_LAB&&(Q.dataMuestras[i].NM_EXA_LAB="",Q.dataMuestras[i].NM_EXA_LAB="*"+t.descExame+" ("+a.codigoPedido+")")}),seleccionarTodos:t=>{lt.checkedAll=t;var a=moment().format("DD-MM-YYYY HH:mm");return Q.dataMuestras.map(function(o,r,i){t?(Q.dataMuestras[r].STATUS_RECEP="1",Q.dataMuestras[r].FECHA_RECEP=a,Q.dataMuestras[r].customCheked=!0,ve.agregarExamen(Q.dataMuestras[r])):(Q.dataMuestras[r].STATUS_RECEP="",Q.dataMuestras[r].FECHA_RECEP="",Q.dataMuestras[r].customCheked=!1,ve.eliminarExamen(Q.dataMuestras[r]))})},validarUpdateMuestras:()=>{for(var t=0,a=0;a<Q.dataMuestras.length;a++)Q.dataMuestras[a].STATUS_RECEP.length!==0&&t++;if(t==0)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";ve.generarXML()},udpateStatusTomaMuestra:()=>{Q.documento.dataRecepcion.insumosRecep=E,e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-status-pedido-lab",body:{documento:JSON.stringify(Q.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){Q.documento=t.data,Q.dataMuestras=t.data.dataRecepcion.examenesRecep}).catch(function(t){})},view:()=>Q.error?[e("p.mg-0",Q.error)]:Q.dataMuestras.length!==0?[e("div.bg-white.bd.d-flex.flex-column.justify-content-end",[e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-success.mg-r-5[type='button']",{class:lt.disabledToma?"":"d-none",onclick:()=>{lt.disabledToma=!1}},e("i.fas.fa-edit.mg-r-5")," EDITAR "),e("button.btn.btn-xs.btn-primary.mg-r-5[type='button']",{onclick:()=>{confirm("Esta seguro de generar un nuevo pedido 88.000.000.")==!0&&(lt.disabledToma=!1,ve.setNuevoPedido())}},e("i.fas.fa-file-alt.mg-r-5")," NUEVO PEDIDO "),e("button.btn.btn-xs.btn-warning[type='button']",{onclick:()=>{ve.showLogs.length==0?ve.showLogs="d-none":ve.showLogs=""}}," VER HISTORIAL DE ENV\xCDO ")]),e(".",[e(".",{class:ve.showLogs,style:{"pointer-events":lt.disabledToma?"none":"auto"}},[e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th[colspan='2'].text-dark.text-left.tx-semibold",{oncreate:t=>{t.dom.innerHTML="Recepcion de Muestras"},onupdate:t=>{ve.nuevoPedido?t.dom.innerHTML="Nuevo Pedido LISA:":t.dom.innerHTML="Recepcion de Muestras"}})]),e("tr",[e("th.text-left","EXAMEN(ES)"),e("th[colspan='2']","CONFIRMACI\xD3N Y ENV\xCDO LISA")])),e("tbody",[e("tr",[e("td[colspan='2'].tx-normal",e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='r_selectTomaTodos']",{checked:lt.checkedAll,onclick:function(t){lt.seleccionarTodos(this.checked)}}),e("label.custom-control-label[for='r_selectTomaTodos']","Seleccionar Todos")]))]),Q.dataMuestras.map(function(t,a,o){return[e("tr",[e("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='r_"+t.CD_EXA_LAB+"']",{checked:Q.dataMuestras[a].customCheked,onupdate:function(r){this.checked=Q.dataMuestras[a].customCheked},onclick:function(r){r.preventDefault();var i=this.checked;if(i)Q.dataMuestras[a].customCheked=!Q.dataMuestras[a].customCheked,Q.dataMuestras[a].STATUS_RECEP="1",Q.dataMuestras[a].FECHA_RECEP=moment().format("DD-MM-YYYY HH:mm"),ve.agregarExamen(Q.dataMuestras[a]);else{if(Q.dataMuestras[a].NM_EXA_LAB.includes("(88"))throw alert("No es posible esta acci\xF3n. Ya existe un pedido generado."),"No es posible esta acci\xF3n. Ya existe un pedido generado.";if(ve.nuevoPedido)throw alert("No es posible generar un Nuevo Pedido de este ex\xE1men."),"No es posible generar un Nuevo Pedido de este ex\xE1men.";Q.dataMuestras[a].customCheked=!Q.dataMuestras[a].customCheked,lt.checkedAll=!1,Q.dataMuestras[a].STATUS_RECEP="",Q.dataMuestras[a].FECHA_RECEP="",ve.eliminarExamen(Q.dataMuestras[a])}}}),e("label.custom-control-label.tx-16[for='r_"+t.CD_EXA_LAB+"']",Q.dataMuestras[a].STATUS_RECEP.length!==0?Q.dataMuestras[a].FECHA_RECEP:Q.dataMuestras[a].STATUS_RECEP)]))])]})]),e("thead",e("tr",[e("th[colspan='2'].text-primary.text-right.bg-light.tx-semibold",{},"IMPRESI\xD3N ETIQUETAS:")]),e("tr",[e("th.text-right[colspan='2']",e("select.custom-select.wd-30p.tx-semibold",{onchange:t=>{lt.impresora=t.target.value},disabled:Object.keys(ve.logsEnvio).length!==0&&!ve.nuevoPedido?"disabled":"",value:lt.impresora},["CAJA1","CAJA2","CAJA3","CAJA4","CAJA5","CAJA6","URGENCIAS","METROLAB"].map(t=>e("option",t))))]))])),e("div.pd-10",[e("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:lt.disabledToma,onclick:()=>{lt.validarUpdateMuestras();var t=moment().format("DD-MM-YYYY HH:mm");Q.documento.dataRecepcion.usuarioRecep="flebot1",Q.documento.dataRecepcion.fechaRecep=t,lt.disabledToma=!0,lt.udpateStatusTomaMuestra()}},ve.nuevoPedido?"Nuevo Pedido LISA":"Guardar y Enviar")])]),e(".",{class:ve.showLogs.length!==0?"":"d-none"},[e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th[colspan='2'].text-primary.text-left",{},"Historial de Envios LISA:")]),e("tr",[e("th","EXAMENES:"),e("th","FECHA Y HORA:"),e("th.d-none","OPCIONES:")])),e("tbody",[e(ve)])]))])])])]:[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]},ne={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&t.attrs.idTimeRecord!==void 0&&(document.title="Detalle de Pedido N\xB0: "+t.attrs.numeroPedido+" | "+N.title,ne.numeroPedido=t.attrs.numeroPedido,ne.numeroAtencion=t.attrs.numeroAtencion,ne.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,ne.idTimeRecord=t.attrs.idTimeRecord,ne.fetch())},fetch:()=>{ne.data=[],ne.loader=!0,Q.fetch()},view:t=>{if(ne.data.length!==0){let a=moment(ne.data.PedidoExameLab.paciente.dataNascimento),o=moment();ne.data.PedidoExameLab.paciente.anios=o.diff(a,"years")}return ne.loader?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ne.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(21)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ne.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{ne.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{ne.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{ne.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{ne.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{window.close()}}))),ne.data.PedidoExameLab.tipoSolicitacao=="R"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Pedido:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.codigoPedido),e("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",e("br"),e(".d-inline.tx-danger","Fecha Toma de Muestra:")),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.dataExame,e("br"),ne.data.PedidoExameLab.dataColetaPedido),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.descSetorSolicitante)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.descPrestadorSolicitante),e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Tratante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},xt.medico!==null&&xt.medico!==!1?[e("div.d-inline.tx-semibold.tx-danger",xt.medico.PRESTADOR)]:ne.data.PedidoExameLab.descPrestadorSolicitante)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='5']",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.nome),e("th",{style:{"background-color":"#a8bed6"}},"Edad:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.anios+" A\xF1o(s)"),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.codigoPaciente)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.atendimento.codigoAtendimento),e("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.sexo=="F"?"Femenino":"Masculino"),e("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),e("td",{style:{"background-color":"#eaeff5"}},ne.data.PedidoExameLab.paciente.dataNascimento),e("th",{style:{"background-color":"#a8bed6"}},"Dg:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(ne.data.PedidoExameLab.diagnostico.codigoDiagnostico.length==null?"":"CIE: "+ne.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(ne.data.PedidoExameLab.diagnostico.dsDiagostico.length==null?"":" - "+ne.data.PedidoExameLab.diagnostico.dsDiagostico))]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","EX\xC1MENES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e(xt))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='10']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",{style:{"pointer-events":xt.data!==null?"auto":"none"}},[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),e("li.nav-item",e("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},e("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),e("li.nav-item",e("a.nav-link[id='home-recep'][data-toggle='tab'][href='#recep'][role='tab'][aria-controls='recep']",{style:{color:"#476ba3"}},e("i.fas.fa-inbox.pd-1.mg-r-2")," RECEP. DE MUESTRA ")),e("li.nav-item",e("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},e("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),e("tr.d-print-none",[e("td[colspan='10']",e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Kt)]),e(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[e(Jt)]),e(".tab-pane.fade[id='recep'][role='tabpanel'][aria-labelledby='home-recep']",[e(lt)]),e(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Observaciones"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(a){oa.observaciones=a.target.value},value:oa.observaciones}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){oa.observaciones.length!==0?oa.sendNotiLab():alert("Observaciones es obligatorio.")}},[e("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),e("hr.wd-100p.mg-t-5.mg-b-5")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),e("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),e("tr.d-print-none",[])])])])])])])])]))]}};function ar(t){let a="";for(let o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(let r in t[o])a+=`
<`+o+`>
`,a+=ar(new Object(t[o][r])),a+="</"+o+">";else typeof t[o]=="object"?a+=ar(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+`>
`}return a=a.replace(/<\/?[0-9]{1,}>/g,""),a}const yo={loadPage:"",view:t=>(window.localStorage.removeItem("updates"),yt.num=0,[e(ni),setTimeout(function(){return e.route.set(yo.loadPage)},300)])},Kn={view:t=>[e("p.mg-0.tx-18",[e("i.fas.fa-user.mg-r-5.text-secondary"),t.attrs.NM_PACIENTE]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","HC: "+t.attrs.CD_PACIENTE)]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","N\xB0 Atenci\xF3n MV: "+t.attrs.CD_ATENDIMENTO)])]},Wn={notificaciones:[],pedidos:[],oninit:()=>{_.page="",de.page="",N.isAuth()},oncreate:()=>{document.title="Formularios Epidemiol\xF3gicos | "+N.title,yo.loadPage="/laboratorio/formularios",Zn()},view:()=>[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(6)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["Metrovirtual"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},["Laboratorio"])),e("li.breadcrumb-item.active[aria-current='page']","Formularios Epidemiol\xF3gicos")]),e("h1.df-title.mg-t-20.mg-b-10","Formularios Epidemiol\xF3gicos:"),e("div.row.tx-14",[e(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",e("div.row",[e("div.col-sm-12.pd-b-10",e("div.input-group",[e("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Apellidos y Nombres completos del Paciente'][title='Buscar'][type='text']"),e("div.input-group-append",e("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[e("i.icon.ion-md-search")," Buscar "]),e("button.btn.btn-outline-light[id='resetTable'][type='button']",[e("i.icon.ion-md-close-circle")," Borrar "]))])),e("div.col-sm-12.pd-b-10.d-none",e("div.input-group",[e("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),e("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),e("div.input-group-append",[e("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[e("i.icon.ion-md-funnel")," Filtrar "])])]))])),e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-formularios'][width='100%']"),e("table.d-none[id='table-status-formularios'][width='100%']"))])])]))]};function Zn(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-formularios").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/formularios-epis",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[3],width:"15%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[4],width:"50%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],width:"35%",orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){e.mount(o.anCells[3],{view:function(){return e("p.mg-0.tx-12",[e("i.fas.fa-calendar.mg-r-5.text-secondary"),o._aData.DT_ATENDIMENTO])}}),e.mount(o.anCells[4],{view:function(){return e(Kn,o._aData)}}),e.mount(o.anCells[5],{view:function(){return o._aData.CD_DOCUMENTO=="313"?e(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[e("a.btn.btn-xs.btn-primary",{href:o._aData.URL,target:"_blank"},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epi 1")]):e(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[e("a.btn.btn-xs.btn-primary",{href:o._aData.URL,target:"_blank"},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Ficha Epidemiol\xF3gica")])}})})}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(a){a.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()}),t}const Qn={view:()=>[m("header",m("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[m("div.overlay.op-P9"),m("div.container",m("div.row",m("div.col-md-12")))]),m("div.toolbar",m("div.container",m("div.row",[m("div.col-6.text-left",m("a.mt-2.logo.d-none.d-md-block[href='/']",m("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']")),m("a.mt-2.d-block.d-md-none[href='/']",m("img[src='assets/logo.metrovirtual.png'][alt='Metrovirtual'][width='200rem']"))),m("div.col-6.text-right",[m(m.route.Link,{href:"/mi-perfil",class:"nav-link"},[m("div.features-circle.m-bg-3.text-active.d-inline-flex.align-items-center.justify-content-center.rounded-circle",{style:{height:"50px",width:"50px"}},m("i.icofont-doctor",{style:{fontSize:"20px"}}))])])]))))]},es={view:()=>[m("div..position-relative.set-bg.breadcrumb-container",{style:{"background-image":"url(&quot","background-position":"center center","background-size":"cover","background-repeat":"no-repeat"}},[m("div.overlay.op-P9"),m("div.container",m("div.row",m("div.col-md-12",m("div.breadcrumb-inner.align-items-start.flex-column.justify-content-center.d-flex."))))]),m("div.m-bg-1.single-doctor-container.type-2.m-pb-120",m("div.container",[m("div.row",m("div.col-md-12.text-center",[m("div.doctors-image.mb-1.d-inline-block.bg-white.rounded-circle.p-2.s-10-80",m("img[src='assets/images/doctors-image5.jpg'][alt='']")),m("h3.m-mt-10.text-dark.font-weight-bold","Dr. Rojana Rossy"),m("h6.fz-18.text-uppercase.font-weight-normal","Medicina Interna"),m("div.social-icon.mt-3.circle-link.position-relative",[m("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",m("i.icofont-facebook")),m("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",m("i.icofont-twitter")),m("a.text-default.bg-white.rounded-circle.s-dp-1-3-15[href='#']",m("i.icofont-instagram"))])])),m("div.row.m-mb-60.m-mt-60.",[m("div.col-md-4",m("div.bg-white.mb-0.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[m("span.position-absolute.flaot-icon",m("i.icofont-stethoscope-alt.text-active")),m("h5.m-text-2.mb-3.text-uppercase","Mis Datos"),m("div.media.",m("div.media-body",m("p.m-0.","Mis datos personales y configuraci\xF3n de Perfil.")))])),m("div.col-md-4",m("div.bg-white.position-relative.has-float-icon.pt-4.pl-4.pb-4.pr-4.info-box.m-mtb-20.radius-5",[m("span.position-absolute.flaot-icon",m("i.icofont-stethoscope-alt")),m("h5.m-text-2.mb-3.text-uppercase","Cambio de Contrase\xF1a"),m("div.media.",m("div.media-body",m("p.m-0.","Actualizaci\xF3n de credenciales de acceso.")))]))]),m("div.row",m("div.col-md-12.text-center.m-mb-50",m("a.btn.bordered-blue.fadeInDown-slide.animated.medim-btn.btn-bordered.mt-0.text-medium.radius-pill.bg-transparent.text-active.text-uppercase.[href='#!/salir']"," Salir ")))])),m("div.button-menu-center.text-center",m("a.btn.fadeInDown-slide.position-relative.animated.pl-4.pr-4.lsp-0.no-border.bg-transparent.medim-btn.grad-bg--3.solid-btn.mt-0.text-medium.radius-pill.text-active.text-white.s-dp-1-2[href='/']",[m("i.icofont-home")," Inicio "]))]},ts={oninit:()=>{if(!Z.isLogin())return m.route.set("/auth")},oncreate:()=>{document.title="Mi Perfil | "+N.title},view:()=>[m(Qn),m(es)]},as={view:()=>[m("div.content.content-fixed.content-auth-alt",m("div.container.ht-100p.tx-center",m("div.ht-100p.d-flex.flex-column.align-items-center.justify-content-center",[m("div.wd-70p.wd-sm-250.wd-lg-300.mg-b-15",m("img.img-fluid[src='assets/dashforge/img/img19.png'][alt='']")),m("h1.tx-color-01.tx-24.tx-sm-32.tx-lg-36.mg-xl-b-5","404 P\xE1gina no encontrada"),m("h5.tx-16.tx-sm-18.tx-lg-20.tx-normal.mg-b-20","Oopps. La p\xE1gina que estabas buscando no existe."),m("p.tx-color-03.mg-b-30","Es posible que haya escrito mal la direcci\xF3n o que la p\xE1gina se haya movido. Regresa al inicio."),m("div.d-flex.mg-b-40",[m("a.button.btn.btn-brand-02.bd-0.mg-l-5.pd-sm-x-25[href='/']","Ir al Inicio")]),m("span.tx-12.tx-color-03",[N.title,m("a[href='https://www.hospitalmetropolitano.org']"," Hospital Metropolitano")])])))]},Io={view:()=>{let t=Qe.getDataUser();if(t!==null&&t.length!==0)return[e("li.bg-primary.wd-100p.nav-item.d-none",e(e.route.Link,{href:"/inicio",class:"nav-link"},[e("i[data-feather='layout']")," Inicio "]))]}},os={view:t=>(t.children[0].modulo!==void 0&&t.children[0].modulo=="farmacia"?(t.children[0].modulo="Farmacia",t.children[0].icon="fas fa-pills",t.children[0].href="farmacia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="laboratorio"?(t.children[0].modulo="Laboratorio",t.children[0].icon="fas fa-microscope",t.children[0].href="laboratorio"):t.children[0].modulo!==void 0&&t.children[0].modulo=="imagen"?(t.children[0].modulo="Imagen",t.children[0].icon="fas fa-file-prescription",t.children[0].href="imagen"):t.children[0].modulo!==void 0&&t.children[0].modulo=="emergencia"?(t.children[0].modulo="Emergencia",t.children[0].icon="fas fa-first-aid",t.children[0].href="emergencia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="bco-sangre"?(t.children[0].icon="fas fa-burn",t.children[0].modulo="Bco. de Sangre",t.children[0].href="bco-sangre"):t.children[0].modulo!==void 0&&t.children[0].modulo=="terapia-respiratoria"?(t.children[0].icon="fas fa-user-md",t.children[0].modulo="Terapia Respiratoria",t.children[0].href="terapia-respiratoria"):t.children[0].modulo!==void 0&&t.children[0].modulo=="neurofisiologia"?(t.children[0].icon="fas fa-user-md",t.children[0].modulo="Neurofisiolog\xEDa",t.children[0].href="neurofisiologia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="hospitalizacion"?(t.children[0].icon="fas fa-procedures",t.children[0].modulo="Hospitalizacion",t.children[0].href="hospitalizacion"):t.children[0].modulo!==void 0&&t.children[0].modulo=="admisiones"?(t.children[0].icon="fas fa-folder-open",t.children[0].modulo="Adimisones",t.children[0].href="admisiones"):t.children[0].modulo!==void 0&&t.children[0].modulo=="mantenimiento"?(t.children[0].icon="fas fa-h-square ",t.children[0].modulo="Mantenimento",t.children[0].href="mantenimiento"):t.children[0].modulo!==void 0&&t.children[0].modulo=="endoscopia"?(t.children[0].icon="fas fa-compact-disc",t.children[0].modulo="Endoscop\xECa",t.children[0].href="endoscopia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="patologia"?(t.children[0].icon="fas fa-microscope",t.children[0].modulo="Patolog\xEDa",t.children[0].href="patologia"):t.children[0].modulo!==void 0&&t.children[0].modulo=="contabilidad"?(t.children[0].icon="fas fa-book",t.children[0].modulo="Contabilidad",t.children[0].href="contabilidad"):(t.children[0].icon="fas fa-hospital",t.children[0].href=t.children[0].modulo.charAt(0).toUpperCase(),t.children[0].modulo=t.children[0].modulo.charAt(0).toUpperCase()+t.children[0].modulo.slice(1)),[e("li",{class:"list-item bg-white wd-50p",style:{cursor:"pointer"},onclick:()=>{e.route.set(t.children[0].href,{})}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:t.children[0].icon+" tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},t.children[0].modulo),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a "+t.children[0].modulo)])])])])},rs={isContent:!1,view:()=>{Io.isContent=!1;let t=Qe.getDataUser();if(t!==null&&t.length!==0)return[Object.keys(t.modulesAccess).map(function(a,o,r){if(t.modulesAccess[a].length!==0)return Io.isContent=!0,e(os,t.modulesAccess[a]);if(Object.keys(t.modulesAccess).length==o+1&&!Io.isContent)return[e("p.df-lead.pd-15","Todav\xEDa no tienes acceso a ning\xFAn M\xF3dulo disponible. Comun\xEDcate a CONCAS Ext: 2020 y solicita activaci\xF3n. Att: Metrovirtual Plus.")]})]}},is={oninit:()=>{_.page="",N.isAuth()},oncreate:()=>{document.title="Inicio | "+N.title,ns()},view:()=>[e("header.navbar.navbar-header.navbar-header-fixed",[e("div.navbar-brand",e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")])),e(".navbar-menu-wrapper[id='navbarMenu']",[e("div.navbar-menu-header",[e(e.route.Link,{href:"/",class:"df-logo"},["Metro",e("span","Plus+")]),e("a[id='mainMenuClose'][href='']",e("i[data-feather='x']"))]),e("ul.nav.navbar-menu",[e("li.nav-label.pd-l-20.pd-lg-l-25.d-lg-none","Menu"),e(Io)])]),e(li)]),e("div.content.content-components",{},e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["MetroPlus"])),e("li.breadcrumb-item.active[aria-current='page']","Inicio")]),e("h1.df-title.mg-t-20.mg-b-10","Inicio:"),e("div.row.tx-14",[e(rs)])]))]};function ns(){feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0});function t(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}if(t(),$(window).resize(function(){t()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(a){a.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),window.matchMedia("(min-width: 992px)").matches){var o=$(a.target).closest(".navbar-menu .nav-item").length;o||$(".navbar-header .show").removeClass("show")}}),$("#mainMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(a){a.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(a){a.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(a){a.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length){const a=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0});$(".sidebar-nav .with-sub").on("click",function(o){o.preventDefault(),$(this).parent().toggleClass("show"),a.update()})}$("#mainMenuOpen").on("click touchstart",function(a){a.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),!$(a.target).closest(".burger-menu").length){var o=$(a.target).closest(".sidebar").length,r=$(a.target).closest(".navbar-menu-wrapper").length;!o&&!r&&($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show"))}})}const ss={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.emergencia.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Gt.page==a.idModulo?"active":""},[a.label])]})]}},Gt={page:"",setPage:t=>{Gt.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Emergencia"),m("li.nav-item.show",[m(m.route.Link,{href:"/emergencia",class:"nav-link with-sub"},[m("i[data-feather='layout']"),"Emergencia"]),m("nav.nav",[m(ss)])])]))])]},ds={view:()=>[m("div.content.content-components",m("div.container",[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["Metrovirtual"])),m("li.breadcrumb-item.active[aria-current='page']","Emergencia")]),m("h1.df-title.mg-t-20.mg-b-10","Emergencia:"),m("div.row.tx-14",[m("div.col-sm-6.mg-b-20",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[m("div.mg-b-25",m("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),m("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Auxiliar"),m(m.route.Link,{href:"/emergencia/auxiliar/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Auxiliar",m("i.icon.ion-md-arrow-forward.mg-l-5")])])),m("div.col-sm-6..mg-b-20",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[m("div.mg-b-25",m("i.wd-50.ht-50.tx-gray-500[data-feather='edit-3']")),m("h5.tx-inverse.mg-b-20","Pedidos de Laboratorio Enfermer\xEDa"),m(m.route.Link,{href:"/emergencia/enfermeria/pedidos/laboratorio",class:"tx-medium"},["Ir a Pedidos de Laboratorio - Enfermer\xEDa",m("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]))]},ls={oninit:()=>{_.page="",Gt.page="",N.isAuth()},oncreate:()=>{document.title="Emergencia | "+N.title},view:()=>[m(_,{oncreate:_.setPage("emergencia")}),m(Gt),m(ds)]},cs={view:t=>[e("p.mg-0.tx-18",[e("i.fas.fa-user.mg-r-5.text-secondary"),t.attrs.PTE_MV]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","HC: "+t.attrs.HC_MV)]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","N\xB0 Pedido MV: "+t.attrs.NUM_PEDIDO_MV)])]},us={notificaciones:[],pedidos:[],oninit:()=>{_.page="",Gt.page="",N.isAuth("emergencia",2)},oncreate:()=>{document.title="Pedidos de Laboratorio | "+N.title,yo.loadPage="/emergencia/pedidos",ms(),ps()},view:()=>[e(_,{oncreate:_.setPage("emergencia")}),e(Gt,{oncreate:Gt.setPage(2)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e("a[href='#']","Metrovirtual")),e("li.breadcrumb-item",e("a",{href:"#!/emergencia"},"Emergencia")),e("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Auxiliar")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Auxiliar:"),e("div.row.tx-14",[e(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",e("div.row",[e("div.col-sm-12.pd-b-10",e("div.input-group",[e("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),e("div.input-group-append",e("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[e("i.icon.ion-md-search")," Buscar "]),e("button.btn.btn-outline-light[id='resetTable'][type='button']",[e("i.icon.ion-md-close-circle")," Borrar "]))])),e("div.col-sm-12.pd-b-10.d-none",e("div.input-group",[e("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),e("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),e("div.input-group-append",[e("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[e("i.icon.ion-md-funnel")," Filtrar "])])]))])),e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-pedidos'][width='100%']"),e("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),e("div.section-nav",[e("label.nav-label","Notificaciones"),e("nav.nav.flex-column[id='navSection']",[e("table.table.table-sm[id='table-notificaciones'][width='100%']")]),e("label.nav-label.mg-t-20.tx-center.d-none",[e("a",{href:"#!/notificaciones-lab"},"Ver Todo")])])]};function ms(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){e.mount(o.anCells[3],{view:function(){return e("p.mg-0.tx-12",[e("i.fas.fa-calendar.mg-r-5.text-secondary"),o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO])}}),e.mount(o.anCells[4],{view:function(){return e(cs,o._aData)}}),e.mount(o.anCells[5],{view:function(){return e(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[e(e.route.Link,{href:"/emergencia/auxiliar/pedido/"+o._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(a){a.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()}),t}function ps(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o){e.mount(o.anCells[0],{view:function(){return e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:()=>{e.route.set("/emergencia/auxiliar/pedido/"+o._aData.idPedido)}},[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message.substring(0,10)+"...")]))}})})}});return t}const da={data:!1,fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+Et.idPedido}).then(function(t){da.data=t.data,fs()}).catch(function(t){})},view:()=>{if(!da.data)return e("p.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")]);if(da.data.length==0)return e("p","Sin Notificaciones");if(da.data.length!==0)return da.data.map(function(t,a,o){if(a<4)return t.title=="Nuevo Mensaje"?e("div.demo-static-toast.mg-b-5",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",t.title),e("small.tx-white",moment.unix(t.timestamp).format("HH:mm"))]),e("div.toast-body.small",t.message)])):e("div.demo-static-toast.mg-b-5",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",t.title),e("small.tx-white",moment.unix(t.timestamp).format("HH:mm"))]),e("div.toast-body.small",t.message)]))})}},Ha={messagePedido:null,oncreate:()=>{da.fetch()},sendMessage:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+Et.idPedido,body:{dataPedido:Ye.data,message:Ha.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Ha.messagePedido="",da.fetch(),alert("Mensaje enviado con \xE9xito."),ci())}).catch(function(t){Le.error=t.message})},view:()=>e("table.table.table-sm[id='table-notificaciones'][width='100%']")},Ye={data:[],detalle:[],error:"",numPedido:0,fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+Et.idPedido}).then(function(t){Ye.data=t.data,t.data.DESCRIPCION.map(function(a,o,r){Ye.detalle.push(a),Le.detalle.push(a),a.indexOf("-R-")!==-1&&(Ye.numPedido=Ye.numPedido+1)})}).catch(function(t){Ye.error=t.message})},view:()=>{if(Le.detalle.length!==0)return Ye.detalle.map(function(t,a,o){return Le.detalle[a].indexOf("...")!==-1?e("p.mg-0",Ye.detalle[a]+" "+Le.detalle[a].split("...")[1]):e("p.mg-0",Ye.detalle[a])})}},Le={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:()=>[e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:Le.checkedAll,onclick:function(t){Le.seleccionarTodos(this.checked)}}),e("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),Le.detalle.map(function(t,a,o){return t.indexOf("...")!==-1?e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='"+Et.idPedido+"-"+a+"']",{checked:!0,onclick:function(r){this.checked||(Le.detalle[a]=Ye.detalle[a],ye.statusPedido=3,ye.classPedido="tx-warning",ye.descPedido="Muestras Pendientes",Le.checkedAll=!1),Le.updateDataPedido()},onupdate:r=>{Le.detalle[a].indexOf("...")!==-1?Ye.detalle[a]+Le.detalle[a].split("...")[1]:Ye.detalle[a]}}),e("label.custom-control-label[for='"+Et.idPedido+"-"+a+"']",Le.detalle[a].indexOf("...")!==-1?Ye.detalle[a]+Le.detalle[a].split("...")[1]:Ye.detalle[a])]):e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='"+Et.idPedido+"-"+a+"']",{onclick:function(r){this.checked&&(Le.detalle[a]=Ye.detalle[a]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),Le.updateDataPedido()},onupdate:r=>{Le.detalle[a].indexOf("...")!==-1?Ye.detalle[a]+Le.detalle[a].split("...")[1]:Ye.detalle[a]}}),e("label.custom-control-label[for='"+Et.idPedido+"-"+a+"']",Le.detalle[a].indexOf("...")!==-1?Ye.detalle[a]+Le.detalle[a].split("...")[1]:Ye.detalle[a])])})],oninit:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+Et.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Le.detalle=t.data,da.fetch())}).catch(function(t){Le.error=t.message})},updateDataPedido:()=>{Le.validarStatus(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+Et.idPedido,body:{dataPedido:Le.detalle,statusPedido:ye.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Le.detalle=t.data,Le.validarStatus())}).catch(function(t){Le.error=t.message})},sendNotiLab:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+Et.idPedido,body:{dataPedido:Ye.data,message:Le.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Le.observaciones="",da.fetch(),alert("Mensaje enviado con \xE9xito."),ci())}).catch(function(t){Le.error=t.message})},validarStatus:()=>{Le.detalle.map(function(t,a,o){t.indexOf("...")})},seleccionarTodos:t=>Le.detalle.map(function(a,o,r){t?(Le.detalle[o]=Ye.detalle[o]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(Et.idPedido+"-"+o).checked=!0):(Le.detalle[o]=Ye.detalle[o],document.getElementById(Et.idPedido+"-"+o).checked=!1),Le.detalle.length===o+1&&Le.updateDataPedido()})},ye={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:()=>{Ye.fetch()},view:()=>Ye.error?[e(".alert.alert-danger[role='alert']",Ye.error)]:Ye.detalle.length!==0?[e("p.mg-5.tx-20",[e("i.fas.fa-user.mg-r-5.text-secondary"),Ye.data.NOMBRE_PACIENTE]),e("p.mg-5.tx-15",["Fecha Pedido: "+Ye.data.FECHA_PEDIDO,ye.statusPedido===2?[e("span.tx-indigo.tx-semibold"," Usuario: "+Z.user.user)]:""]),e("p.mg-5",[e("span.badge.badge-primary.mg-r-5.tx-14","HC: "+Ye.data.HC)]),e("p.mg-5","Opciones Disponibles:"),e("hr.wd-100p.mg-t-0.mg-b-5"),e("p.mg-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){ye.ver=!0,ye.editar=!1,ye.entregar=!1,ye.enviar=!1,ye.nuevoMensaje=!1,ye.labelOperation="Detalle:"}},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){ye.ver=!1,ye.editar=!1,ye.entregar=!0,ye.enviar=!1,ye.nuevoMensaje=!1,ye.labelOperation="Entregar Muestras:",ue.status="Entregada"}},[e("i.fas.fa-user-edit.mg-r-5")],"Entregar Muestras"),e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){ye.ver=!1,ye.editar=!1,ye.entregar=!1,ye.enviar=!1,ye.nuevoMensaje=!0,ye.labelOperation="Nuevo Mensaje:"}},[e("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14",ye.labelOperation)]),e("p.mg-5."+(ye.ver||ye.nuevoMensaje?"":"d-none"),[e(Ye)]),e("p.mg-5.d-none",[e(Le)]),e("hr.wd-100p.mg-t-0.mg-b-5"),e("p.mg-5."+(ye.entregar||ye.enviar?"":"d-none"),[e(ue)]),e("p.mg-5."+(ye.ver?"":"d-none"),[e("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),e(Ha)]),e("p.mg-5."+(ye.nuevoMensaje?"":"d-none"),[e("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(t){Ha.messagePedido=t.target.value},value:Ha.messagePedido}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){Ha.messagePedido.length!==0?Ha.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[e("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),e("hr.wd-100p.mg-t-0.mg-b-5")]:e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])},Et={idPedido:null,oninit:t=>{N.isAuth(),_.page="",Gt.page="",Et.idPedido=t.attrs.idPedido,Ye.data=[],Ye.detalle=[],Le.detalle=[]},oncreate:()=>{document.title="Detalle Pedido N\xB0: "+Et.idPedido+" | "+N.title},view:()=>[e(_,{oncreate:_.setPage("emergencia")}),e(Gt),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["Metrovirtual"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},["Laboratorio"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle")]),e("h1.df-title","Detalle de Pedido N\xB0: "+Et.idPedido),e("div.row.tx-14",[e("div.col-12",e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("div.mg-b-25",e("i.tx-60.fas.fa-file."+ye.classPedido)),e("h5.tx-inverse.mg-b-20","Detalle de Pedido N\xB0: "+Et.idPedido+" - Status: "+ye.descPedido),e(ye)]))])])),e("div.section-nav",[e("label.nav-label","Notificaciones"),e("nav.nav.flex-column[id='navSection']",[e(da)])])]},na={numero:0,items:[],oninit:t=>{var a=t.attrs._id;console.log("idc",a),na.items[a]={numero:0}},view:t=>{var a=t.attrs._id;return[e("div.card.text-right",e("div.card-body",[e("h5.card-title",na.items[a].numero),e("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:()=>{na.items[a].numero=na.items[a].numero+1}},"+"),e("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:()=>{na.items[a].numero=na.items[a].numero-1}},"-")]))]}},ue={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+Et.idPedido,body:{dataPedido:ue.muestras,statusPedido:ye.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(ye.statusPedido=t.statusPedido,ue.detalle=t.data,ue.validarStatus())}).catch(function(t){ue.error=t.message})},view:()=>{if(ue.detalle.length!==0)return[e("div.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:ue.checkedAll,onclick:function(t){ue.seleccionarTodos(this.checked)}}),e("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),e("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(ue.detalle).map(function(t){var a=ue.muestras[t].toLowerCase().replaceAll(" ","_");return ue.detalle[t].indexOf("...")!==-1?(na.items[a]!==void 0&&(na.items[a].numero=parseFloat(ue.detalle[t].split("...")[2])),[e(na,{_id:a}),e("div.pd-25.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='"+ue.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(o){this.checked||(ye.statusPedido=1,ue.checkedAll=!1,ue.detalle[t]=ue.muestras[t],na.items[ue.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),ue.updateDataMuestras()},onupdate:o=>{ue.detalle[t].indexOf("...")!==-1?ue.muestras[t]+ue.detalle[t].split("...")[1]:ue.muestras[t]}}),e("label.custom-control-label[for='"+ue.detalle[t].toLowerCase().replaceAll(" ","_")+"']",ue.detalle[t].indexOf("...")!==-1?ue.muestras[t]+ue.detalle[t].split("...")[1]:ue.detalle[t])]),e("hr.wd-100p.mg-t-0.mg-b-5")]):[e(na,{_id:a}),e("div.pd-25.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='"+ue.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(o){this.checked&&(ye.statusPedido=2,ue.detalle[t]=ue.muestras[t]+" ... - "+ue.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+na.items[a].numero),ue.updateDataMuestras()},onupdate:o=>{ue.detalle[t].indexOf("...")!==-1?ue.muestras[t]+ue.detalle[t].split("...")[1]:ue.muestras[t]}}),e("label.custom-control-label[for='"+ue.detalle[t].toLowerCase().replaceAll(" ","_")+"']",ue.detalle[t])]),e("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:t=>(t?(ye.statusPedido=2,ue.checkedAll=!0):(ye.statusPedido=1,ue.checkedAll=!1),[Object.keys(ue.detalle).map(function(a){let o=ue.detalle[a].toLowerCase().replaceAll(" ","_");t?(ue.detalle[a]=ue.muestras[a]+" ... - "+ue.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(o).checked=!0):(ue.detalle[a]=ue.muestras[a],document.getElementById(o).checked=!1)}),ue.updateDataMuestras()]),validarStatus:()=>{ye.statusPedido==1&&(ye.classPedido="tx-gray-500",ye.descPedido="Pendiente"),ye.statusPedido==2&&(ye.classPedido="tx-primary",ye.descPedido="Gestionado");let t=0;Object.keys(ue.detalle).map(function(a){ue.detalle[a].indexOf("...")===-1?(t=t+1,Object.keys(ue.detalle).length===t&&t===Object.keys(ue.detalle).length&&(ye.statusPedido==1,ye.classPedido="tx-gray-500",ye.descPedido="Pendiente")):(ye.statusPedido=2,ye.classPedido="tx-primary",ye.descPedido="Gestionado")})},updateDataMuestras:()=>[ue.validarStatus(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+Et.idPedido,body:{dataPedido:ue.detalle,statusPedido:ye.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(ue.detalle=t.data,ue.validarStatus())}).catch(function(t){ue.error=t.message})]};function fs(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones").DataTable({data:da.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return o._aData.title=="Nuevo Mensaje"?e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)])):e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t}function ci(){var t=$("#table-notificaciones").DataTable();t.clear(),t.rows.add(da.data).draw()}const Rt={data:{pedidos:[],notificaciones:[]},fetchPedidos:()=>{e.request({method:"GET",url:" https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio?start=0&length=10"}).then(function(t){Rt.data.pedidos=t.data,Rt.fetchNotificaciones()}).catch(function(t){})},fetchNotificaciones:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos?start=0&length=6"}).then(function(t){Rt.data.notificaciones=t.data,localStorage.updates==null&&Qe.setData(Rt.data),Rt.notificar()}).catch(function(t){})},fetch:()=>{Rt.fetchPedidos()},notificar:()=>{let t=Qe.getData();for(var a=0;a<Rt.data.notificaciones.length;a++){for(var o=!1,r=0;r<t.notificaciones.length&!o;r++)Rt.data.notificaciones[a].id==t.notificaciones[r].id&&(o=!0);o||ys(Rt.data.notificaciones[a])}for(var a=0;a<Rt.data.pedidos.length;a++){for(var o=!1,r=0;r<t.pedidos.length&!o;r++)Rt.data.pedidos[a].NUM_PEDIDO_MV==t.pedidos[r].NUM_PEDIDO_MV&&(o=!0);o||ws(Rt.data.pedidos[a])}Qe.setData(Rt.data),setTimeout(function(){console.log("updates",Rt.data),Rt.fetch()},5e3)}},bs={view:t=>[e("p.mg-0.tx-18",[e("i.fas.fa-user.mg-r-5.text-secondary"),t.attrs.PTE_MV]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","HC: "+t.attrs.HC_MV)]),e("p.mg-0",[e("div.tx-15.text-secondary.mg-r-5","N\xB0 Pedido MV: "+t.attrs.NUM_PEDIDO_MV)])]},hs={notificaciones:[],pedidos:[],oninit:()=>{_.page="",Gt.page="",N.isAuth("emergencia",4)},oncreate:()=>{document.title="Pedidos de Laboratorio | "+N.title,yo.loadPage="/emergencia/pedidos",Rt.fetch(),_s(),vs(),xs(),gs()},view:()=>[e(_,{oncreate:_.setPage("emergencia")}),e(Gt,{oncreate:Gt.setPage(4)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["Metrovirtual"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/emergencia"},["Emergencia"])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos de Laboratorio - Enfermer\xEDa")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos de Laboratorio - Enfermer\xEDa:"),e("div.row.tx-14",[e(".col-12.mg-b-10.wd-100p[data-label='Filtrar'][id='filterTable']",e("div.row",[e("div.col-sm-12.pd-b-10",e("div.input-group",[e("input.form-control.mg-b-20.wd-100p[aautofocus=''][id='_dt_search_text'][placeholder='Buscar por NHC o Nombres y Apellidos completos del Paciente'][title='Buscar'][type='text']"),e("div.input-group-append",e("button.btn.btn-outline-light[id='button-buscar-t'][type='button']",[e("i.icon.ion-md-search")," Buscar "]),e("button.btn.btn-outline-light[id='resetTable'][type='button']",[e("i.icon.ion-md-close-circle")," Borrar "]))])),e("div.col-sm-12.pd-b-10.d-none",e("div.input-group",[e("input.form-control[id='desde'][placeholder='Desde'][title='Desde'][type='text']"),e("input.form-control[id='hasta'][placeholder='Hasta'][title='Hasta'][type='text']"),e("div.input-group-append",[e("button.btn.btn-outline-light[id='filtrar'][title='Buscar'][type='button']",[e("i.icon.ion-md-funnel")," Filtrar "])])]))])),e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-pedidos'][width='100%']"),e("table.table.table-sm.d-none[id='table-state-pedidos'][width='100%']"))])])])),e("div.section-nav",[e("label.nav-label","Notificaciones"),e("nav.nav.flex-column[id='navSection']",[e("table.table.table-sm[id='table-notificaciones'][width='100%']")]),e("label.nav-label.mg-t-20.tx-center.d-none",[e(e.route.Link,{href:"/notificaciones-lab"},["Ver Todo"])])])]};function gs(){var t;window.onload=o,window.onmousemove=o,window.onmousedown=o,window.ontouchstart=o,window.ontouchmove=o,window.onclick=o,window.onkeydown=o,window.addEventListener("scroll",o,!0);function a(){window.location.reload()}function o(){clearTimeout(t),t=setTimeout(a,3e5)}}function vs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/emergencia-pedidos-laboratorio",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"HC"},{title:"PACINTE"},{title:"FECHA Y HORA:"},{title:"PACIENTE:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[3],width:"20%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[4],width:"60%",orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){e.mount(o.anCells[3],{view:function(){return e("p.mg-0.tx-12",[e("i.fas.fa-calendar.mg-r-5.text-secondary"),o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO])}}),e.mount(o.anCells[4],{view:function(){return e(bs,o._aData)}}),e.mount(o.anCells[5],{view:function(){return e(".btn-group.wd-100p[role='group'][aria-label='Opciones']",[e(e.route.Link,{href:"/emergencia/enfermeria/pedido/"+o._aData.NUM_PEDIDO_MV,target:"_blank",class:"btn btn-xs btn-primary"},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Pedido")])}})})}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#button-buscar-t").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search($("#_dt_search_text").val()).draw()}),$("#filtrar").click(function(a){a.preventDefault(),$(".table-loader").show(),$(".table-content").hide(),t.search("fechas-"+$("#desde").val()+"-"+$("#hasta").val()).draw()}),$("#resetTable").click(function(a){a.preventDefault(),$("#_dt_search_text").val(""),$("#desde").val(""),$("#hasta").val(""),t.search("").draw()}),t}function xs(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedidos",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"No existe notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o){e.mount(o.anCells[0],{view:function(){return e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{onclick:()=>{e.route.set("/emergencia/enfermeria/pedido/"+o._aData.idPedido)}},[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message.substring(0,10)+"...")]))}})})}});return t}function ys(t){if(Notification){Notification.permission!=="granted"&&Notification.requestPermission(),yt.setNot();var a=JSON.parse(t.dataPedido),o="Metrovirtual: "+t.title,r={icon:"assets/favicon.ico",body:"Pedido N\xB0: "+t.idPedido+`
HC: `+a.HC+`
Pte: `+a.NOMBRE_PACIENTE},i=new Notification(o,r);i.onclick=()=>{e.route.set("/emergencia/enfermeria/pedido/"+t.idPedido)},i.onclose={},setTimeout(function(){i.close()},3e4)}}function ws(t){if(Notification){Notification.permission!=="granted"&&Notification.requestPermission(),yt.setNot();var a="Metrovirtual: Nuevo Pedido",o={icon:"assets/favicon.ico",body:"Pedido N\xB0: "+t.NUM_PEDIDO_MV+`
HC: `+t.HC_MV+`
Pte: `+t.PTE_MV},r=new Notification(a,o);r.onclick=()=>{e.route.set("/emergencia/enfermeria/pedido/"+t.NUM_PEDIDO_MV)},r.onclose={},setTimeout(function(){r.close()},3e4)}}function _s(){feather.replace(),window.matchMedia("(max-width: 991px)").matches&&new PerfectScrollbar("#navbarMenu",{suppressScrollX:!0});function t(){window.matchMedia("(max-width: 991px)").matches?$("#navbarMenu .active").addClass("show"):$("#navbarMenu .active").removeClass("show")}if(t(),$(window).resize(function(){t()}),$("body").append('<div class="backdrop"></div>'),$(".navbar-menu .with-sub .nav-link").on("click",function(a){a.preventDefault(),$(this).parent().toggleClass("show"),$(this).parent().siblings().removeClass("show"),window.matchMedia("(max-width: 991px)").matches&&psNavbar.update()}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),window.matchMedia("(min-width: 992px)").matches){var o=$(a.target).closest(".navbar-menu .nav-item").length;o||$(".navbar-header .show").removeClass("show")}}),$("#mainMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("navbar-nav-show")}),$("#sidebarMenuOpen").on("click",function(a){a.preventDefault(),$("body").addClass("sidebar-show")}),$("#navbarSearch").on("click",function(a){a.preventDefault(),$(".navbar-search").addClass("visible"),$(".backdrop").addClass("show")}),$("#navbarSearchClose").on("click",function(a){a.preventDefault(),$(".navbar-search").removeClass("visible"),$(".backdrop").removeClass("show")}),$("#sidebarMenu").length){const a=new PerfectScrollbar("#sidebarMenu",{suppressScrollX:!0});$(".sidebar-nav .with-sub").on("click",function(o){o.preventDefault(),$(this).parent().toggleClass("show"),a.update()})}$("#mainMenuOpen").on("click touchstart",function(a){a.preventDefault(),$("body").addClass("navbar-nav-show")}),$("#sidebarMenuClose").on("click",function(a){a.preventDefault(),$("body").removeClass("sidebar-show")}),$(document).on("click touchstart",function(a){if(a.stopPropagation(),!$(a.target).closest(".burger-menu").length){var o=$(a.target).closest(".sidebar").length,r=$(a.target).closest(".navbar-menu-wrapper").length;!o&&!r&&($("body").hasClass("navbar-nav-show")?$("body").removeClass("navbar-nav-show"):$("body").removeClass("sidebar-show"))}})}const la={data:!1,fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+Dt.idPedido}).then(function(t){la.data=t.data,Ps()}).catch(function(t){})},view:()=>{if(!la.data)return e("p.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")]);if(la.data.length==0)return e("p","Sin Notificaciones");if(la.data.length!==0)return la.data.map(function(t,a,o){if(a<4)return t.title=="Nuevo Mensaje"?e("div.demo-static-toast.mg-b-5",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",t.title),e("small.tx-white",moment.unix(t.timestamp).format("HH:mm"))]),e("div.toast-body.small",t.message)])):e("div.demo-static-toast.mg-b-5",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",t.title),e("small.tx-white",moment.unix(t.timestamp).format("HH:mm"))]),e("div.toast-body.small",t.message)]))})}},$a={messagePedido:null,oncreate:()=>{la.fetch()},sendMessage:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/message-pedido/"+Dt.idPedido,body:{dataPedido:je.data,message:$a.messagePedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&($a.messagePedido="",la.fetch(),alert("Mensaje enviado con \xE9xito."),ui())}).catch(function(t){Fe.error=t.message})},view:()=>e("table.table.table-sm[id='table-notificaciones'][width='100%']")},je={data:[],detalle:[],error:"",numPedido:0,fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ver-pedido-eme-lab/"+Dt.idPedido}).then(function(t){je.data=t.data,t.data.DESCRIPCION.map(function(a,o,r){je.detalle.push(a),Fe.detalle.push(a),a.indexOf("-R-")!==-1&&(je.numPedido=je.numPedido+1)})}).catch(function(t){je.error=t.message})},view:()=>{if(Fe.detalle.length!==0)return je.detalle.map(function(t,a,o){return Fe.detalle[a].indexOf("...")!==-1?e("p.mg-0",je.detalle[a]+" "+Fe.detalle[a].split("...")[1]):e("p.mg-0",je.detalle[a])})}},Fe={detalle:[],error:"",observaciones:"",checkedAll:!1,numPedido:0,view:()=>[e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTodos']",{checked:Fe.checkedAll,onclick:function(t){Fe.seleccionarTodos(this.checked)}}),e("label.custom-control-label.tx-semibold[for='selectTodos']","SELECCIONAR TODOS")]),Fe.detalle.map(function(t,a,o){return t.indexOf("...")!==-1?e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='"+Dt.idPedido+"-"+a+"']",{checked:!0,onclick:function(r){this.checked||(Fe.detalle[a]=je.detalle[a],we.statusPedido=3,we.classPedido="tx-warning",we.descPedido="Muestras Pendientes",Fe.checkedAll=!1),Fe.updateDataPedido()},onupdate:r=>{Fe.detalle[a].indexOf("...")!==-1?je.detalle[a]+Fe.detalle[a].split("...")[1]:je.detalle[a]}}),e("label.custom-control-label[for='"+Dt.idPedido+"-"+a+"']",Fe.detalle[a].indexOf("...")!==-1?je.detalle[a]+Fe.detalle[a].split("...")[1]:je.detalle[a])]):e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='"+Dt.idPedido+"-"+a+"']",{onclick:function(r){this.checked&&(Fe.detalle[a]=je.detalle[a]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm")),Fe.updateDataPedido()},onupdate:r=>{Fe.detalle[a].indexOf("...")!==-1?je.detalle[a]+Fe.detalle[a].split("...")[1]:je.detalle[a]}}),e("label.custom-control-label[for='"+Dt.idPedido+"-"+a+"']",Fe.detalle[a].indexOf("...")!==-1?je.detalle[a]+Fe.detalle[a].split("...")[1]:je.detalle[a])])})],oninit:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-eme-lab/"+Dt.idPedido,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Fe.detalle=t.data,la.fetch())}).catch(function(t){Fe.error=t.message})},updateDataPedido:()=>{Fe.validarStatus(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-lab/"+Dt.idPedido,body:{dataPedido:Fe.detalle,statusPedido:we.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Fe.detalle=t.data,Fe.validarStatus())}).catch(function(t){Fe.error=t.message})},sendNotiLab:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+Dt.idPedido,body:{dataPedido:je.data,message:Fe.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(Fe.observaciones="",la.fetch(),alert("Mensaje enviado con \xE9xito."),ui())}).catch(function(t){Fe.error=t.message})},validarStatus:()=>{Fe.detalle.map(function(t,a,o){t.indexOf("...")})},seleccionarTodos:t=>Fe.detalle.map(function(a,o,r){t?(Fe.detalle[o]=je.detalle[o]+" ... - Muestra Recibida: "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(Dt.idPedido+"-"+o).checked=!0):(Fe.detalle[o]=je.detalle[o],document.getElementById(Dt.idPedido+"-"+o).checked=!1),Fe.detalle.length===o+1&&Fe.updateDataPedido()})},we={ver:!0,nuevoMensaje:!1,editar:!1,entregar:!1,enviar:!1,labelOperation:"Detalle:",statusPedido:1,descPedido:"...",classPedido:"tx-gray-500",oninit:()=>{je.fetch()},view:()=>je.error?[e(".alert.alert-danger[role='alert']",je.error)]:je.detalle.length!==0?[e("p.mg-5.tx-20",[e("i.fas.fa-user.mg-r-5.text-secondary"),je.data.NOMBRE_PACIENTE]),e("p.mg-5.tx-15",["Fecha Pedido: "+je.data.FECHA_PEDIDO,we.statusPedido===2?[e("span.tx-indigo.tx-semibold"," Usuario: "+Z.user.user)]:""]),e("p.mg-5",[e("span.badge.badge-primary.mg-r-5.tx-14","HC: "+je.data.HC)]),e("p.mg-5","Opciones Disponibles:"),e("hr.wd-100p.mg-t-0.mg-b-5"),e("p.mg-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){we.ver=!0,we.editar=!1,we.entregar=!1,we.enviar=!1,we.nuevoMensaje=!1,we.labelOperation="Detalle:"}},[e("i.fas.fa-file-alt.mg-r-5")],"Ver Detalle"),e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){we.ver=!1,we.editar=!1,we.entregar=!0,we.enviar=!1,we.nuevoMensaje=!1,we.labelOperation="Enviar Muestras:",me.status="Enviada"}},[e("i.fas.fa-user-edit.mg-r-5")],"Enviar Muestras"),e("button.btn.btn-xs.btn-primary.mg-l-2.mg-b-5.tx-semibold[type='button']",{onclick:function(){we.ver=!1,we.editar=!1,we.entregar=!1,we.enviar=!1,we.nuevoMensaje=!0,we.labelOperation="Nuevo Mensaje:"}},[e("i.fas.fa-paper-plane.mg-r-5")],"Enviar Mensaje")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14",we.labelOperation)]),e("p.mg-5."+(we.ver||we.nuevoMensaje?"":"d-none"),[e(je)]),e("p.mg-5.d-none",[e(Fe)]),e("hr.wd-100p.mg-t-0.mg-b-5"),e("p.mg-5."+(we.entregar||we.enviar?"":"d-none"),[e(me)]),e("p.mg-5."+(we.ver?"":"d-none"),[e("span.badge.badge-light.wd-100p.tx-14","Historial de Mensajes"),e($a)]),e("p.mg-5."+(we.nuevoMensaje?"":"d-none"),[e("span.badge.badge-light.wd-100p.tx-14","Nuevo Mensaje:"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Nuevo Mensaje']",{oninput:function(t){$a.messagePedido=t.target.value},value:$a.messagePedido}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){$a.messagePedido.length!==0?$a.sendMessage():alert("Nuevo Mnesaje es obligatorio.")}},[e("i.fas.fa-paper-plane.mg-r-5")],"Enviar")])]),e("hr.wd-100p.mg-t-0.mg-b-5")]:e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])},Dt={idPedido:null,oninit:t=>{N.isAuth(),_.page="",Gt.page="",Dt.idPedido=t.attrs.idPedido,je.data=[],je.detalle=[],Fe.detalle=[]},oncreate:()=>{document.title="Detalle Pedido N\xB0: "+Dt.idPedido+" | "+N.title},view:()=>[e(_,{oncreate:_.setPage("emergencia")}),e(Gt),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["Metrovirtual"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},["Laboratorio"])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/pedidos"},["Pedidos de Laboratorio"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle")]),e("h1.df-title","Detalle de Pedido N\xB0: "+Dt.idPedido),e("div.row.tx-14",[e("div.col-12",e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("div.mg-b-25",e("i.tx-60.fas.fa-file."+we.classPedido)),e("h5.tx-inverse.mg-b-20","Detalle de Pedido N\xB0: "+Dt.idPedido+" - Status: "+we.descPedido),e(we)]))])])),e("div.section-nav",[e("label.nav-label","Notificaciones"),e("nav.nav.flex-column[id='navSection']",[e(la)])])]},sa={numero:0,items:[],oninit:t=>{var a=t.attrs._id;console.log("idc",a),sa.items[a]={numero:0}},view:t=>{var a=t.attrs._id;return[e("div.card.text-right",e("div.card-body",[e("h5.card-title",sa.items[a].numero),e("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:()=>{sa.items[a].numero=sa.items[a].numero+1}},"+"),e("button.btn.btn-xs.btn-outline-light.tx-semibold.mg-b-5[type='button']",{onclick:()=>{sa.items[a].numero=sa.items[a].numero-1}},"-")]))]}},me={user:"",status:"",detalle:[],error:"",observaciones:"",checkedAll:!1,muestras:{1:"Orina",2:"Heces",3:"Tubo Rojo",4:"Tubo Lila",5:"Tubo Celeste",6:"Tubo Verde",7:"Tubo Negro",8:"LCR",9:"Esputo",10:"Jeringuilla",11:"Gasometria",12:"Secreciones",13:"Culturetes",14:"Frascos de Cultivo",15:"Isopado",16:"Estrep Test",17:"AmniSure",18:"Tubo Liquidos"},oninit:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/send-pedido-eme-lab/"+Dt.idPedido,body:{dataPedido:me.muestras,statusPedido:we.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(we.statusPedido=t.statusPedido,me.detalle=t.data,me.validarStatus())}).catch(function(t){me.error=t.message})},view:()=>{if(me.detalle.length!==0)return[e("div.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='selectTodosMuestra']",{checked:me.checkedAll,onclick:function(t){me.seleccionarTodos(this.checked)}}),e("label.custom-control-label.tx-semibold[for='selectTodosMuestra']","SELECCIONAR TODOS")]),e("hr.wd-100p.mg-t-0.mg-b-5"),Object.keys(me.detalle).map(function(t){var a=me.muestras[t].toLowerCase().replaceAll(" ","_");return me.detalle[t].indexOf("...")!==-1?(sa.items[a]!==void 0&&(sa.items[a].numero=parseFloat(me.detalle[t].split("...")[2])),[e(sa,{_id:a}),e("div.pd-25.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='"+me.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{checked:!0,onclick:function(o){this.checked||(we.statusPedido=1,me.checkedAll=!1,me.detalle[t]=me.muestras[t],sa.items[me.muestras[t].toLowerCase().replaceAll(" ","_")].numero=0),me.updateDataMuestras()},onupdate:o=>{me.detalle[t].indexOf("...")!==-1?me.muestras[t]+me.detalle[t].split("...")[1]:me.muestras[t]}}),e("label.custom-control-label[for='"+me.detalle[t].toLowerCase().replaceAll(" ","_")+"']",me.detalle[t].indexOf("...")!==-1?me.muestras[t]+me.detalle[t].split("...")[1]:me.detalle[t])]),e("hr.wd-100p.mg-t-0.mg-b-5")]):[e(sa,{_id:a}),e("div.pd-25.custom-control.custom-checkbox.tx-18",[e("input.custom-control-input[type='checkbox'][id='"+me.detalle[t].toLowerCase().replaceAll(" ","_")+"']",{onclick:function(o){this.checked&&(we.statusPedido=2,me.detalle[t]=me.muestras[t]+" ... - "+me.status+": "+moment().format("DD-MM-YYYY HH:mm")+" ... "+sa.items[a].numero),me.updateDataMuestras()},onupdate:o=>{me.detalle[t].indexOf("...")!==-1?me.muestras[t]+me.detalle[t].split("...")[1]:me.muestras[t]}}),e("label.custom-control-label[for='"+me.detalle[t].toLowerCase().replaceAll(" ","_")+"']",me.detalle[t])]),e("hr.wd-100p.mg-t-0.mg-b-5")]})]},seleccionarTodos:t=>(t?(we.statusPedido=2,me.checkedAll=!0):(we.statusPedido=1,me.checkedAll=!1),[Object.keys(me.detalle).map(function(a){let o=me.detalle[a].toLowerCase().replaceAll(" ","_");t?(me.detalle[a]=me.muestras[a]+" ... - "+me.status+": "+moment().format("DD-MM-YYYY HH:mm"),document.getElementById(o).checked=!0):(me.detalle[a]=me.muestras[a],document.getElementById(o).checked=!1)}),me.updateDataMuestras()]),validarStatus:()=>{we.statusPedido==1&&(we.classPedido="tx-gray-500",we.descPedido="Pendiente"),we.statusPedido==2&&(we.classPedido="tx-primary",we.descPedido="Gestionado");let t=0;Object.keys(me.detalle).map(function(a){me.detalle[a].indexOf("...")===-1?(t=t+1,Object.keys(me.detalle).length===t&&t===Object.keys(me.detalle).length&&(we.statusPedido==1,we.classPedido="tx-gray-500",we.descPedido="Pendiente")):(we.statusPedido=2,we.classPedido="tx-primary",we.descPedido="Gestionado")})},updateDataMuestras:()=>[me.validarStatus(),e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-pedido-eme-lab/"+Dt.idPedido,body:{dataPedido:me.detalle,statusPedido:we.statusPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(me.detalle=t.data,me.validarStatus())}).catch(function(t){me.error=t.message})]};function Ps(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones").DataTable({data:la.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return o._aData.title=="Nuevo Mensaje"?e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)])):e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-danger",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t}function ui(){var t=$("#table-notificaciones").DataTable();t.clear(),t.rows.add(la.data).draw()}const Ms={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.farmacia.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Lt.page==a.idModulo?"active":""},[a.label])]})]}},Lt={page:"",setPage:t=>{Lt.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Farmacia"),m("li.nav-item.show",[m(m.route.Link,{href:"/farmacia",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Farmacia"]),m("nav.nav",[m(Ms)])])]))])]},Es={view:()=>[m("div.content.content-components",m("div.container",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["Metroplus"])),m("li.breadcrumb-item.active[aria-current='page']","Farmacia")]),m("h1.df-title.mg-t-20.mg-b-10","Farmacia:"),m("div.row.tx-14",[N.isShow("farmacia",5)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/farmacia/recetas")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-file tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recetas de Alta"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recetas de Alta")])])])]:[]])]))]},Ds={oninit:()=>{_.page="",Lt.page="",N.isAuth()},oncreate:()=>{document.title="Farmacia | "+N.title},view:()=>[m(_,{oncreate:_.setPage("farmacia")}),m(Lt),m(Es)]},Ts={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.admisiones.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:St.page==a.idModulo?"active":""},[a.label])]})]}},St={page:"",setPage:t=>{St.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Admisiones"),m("li.nav-item.show",[m(m.route.Link,{href:"/admisiones",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Admisiones "]),m("nav.nav",[m(Ts)])])]))])]},As={view:()=>[m("div.content.content-components",m("div.container",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["Metroplus"])),m("li.breadcrumb-item.active[aria-current='page']","Admisiones")]),m("h1.df-title.mg-t-20.mg-b-10","Admisiones:"),m("div.row.tx-14",[N.isShow("admisiones",7)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/admisiones/pre")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-hospital tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Pre Admisiones"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Pre Admisiones")])])])]:[],N.isShow("admisiones",27)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/admisiones/etiquetas")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-user-tag tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Impresi\xF3n de Etiquetas"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Impresi\xF3n de Etiquetas")])])])]:[]])]))]},ks={oninit:()=>{_.page="",St.page="",N.isAuth()},oncreate:()=>{document.title="Admisiones | "+N.title},view:()=>[m(_,{oncreate:_.setPage("admisiones")}),m(St),m(As)]};function Ss(){return{interval:null,seconds:89,isPaused:!1}}const Ba={increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ba.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=0},toggle(t){t.isPaused?Ba.start(t):Ba.stop(t),t.isPaused=!t.isPaused}};function Cs(){const t=Ss();return Ba.start(t),{view(){return[e("div.mg-b-20",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play",{onclick(){Ba.toggle(t)}})]:[e("i.fas.fa-pause",{onclick(){Ba.toggle(t)}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ba.stop(t)}}}const Vt={pacientes:[],oninit:t=>{_.page="",St.page="",Vt.dataPendientesAlta=[],Vt.dataCamaTotales=[],N.isAuth("admisiones",7)},oncreate:t=>{document.title="Pre Admisiones | "+N.title,Rs(t.attrs)&&Is()},view:t=>(moment().format("DD-MM-YYYY"),[e(_,{oncreate:_.setPage("admisiones")}),e(St,{oncreate:St.setPage(7)}),e("div.content.content-components",e("div.container",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" Metroplus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admisiones "])),e("li.breadcrumb-item.active[aria-current='page']","Pre Admisiones")]),e("h1.df-title.mg-t-20","Pre Admisiones:"),e("div.row.animated.fadeInUp",{},[e("div.col-12.mg-b-5.wd-100p.d-none[data-label='Filtrar'][id='filterTable']",e("div.row",[e("div.col-sm-12.pd-b-10",e("div.input-group",[e(".df-example.demo-forms.wd-100p[data-label='Buscar']",[e("input.form-control[type='text'][id='searchField'][data-role='tagsinput']",{oncreate:()=>{new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("text"),queryTokenizer:Bloodhound.tokenizers.whitespace})}})])]))])),e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e(Cs),e("table.table.table-xs.d-none[id='table-data-pacientes'][width='100%']"),e("div.mg-b-10.d-flex.align-items-center.justify-content-between",[e("h5.mg-b-0","Pre Admisiones de Pacientes: ")]),e("table.table.table-sm.tx-12[id='table-preadmisiones'][width='100%']")])])])])),e("div.section-nav",[])])};function Is(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-data-pacientes").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/admisiones/pre",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.ADM},visible:!0,aTargets:[3]}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){Vt.pacientes.push(o._aData)}),e.redraw.sync(),Ns()},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(a,o,r,i){console.log("xhrErr","General XHR Error: "+i)}).on("xhrErrTimeout.liveAjax",function(a,o,r,i){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(a,o,r,i){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(a,o,r,i){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","(Unknown) XHR Error: "+i)}).on("xhrSkipped.liveAjax",function(a,o,r){console.log("xhrSkipped","XHR Skipped because liveAjax is "+r)}).on("setInterval.liveAjax",function(a,o,r){console.log("setInterval","XHR polling interval set to "+r)}).on("init.liveAjax",function(a,o,r){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(a,o,r){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(a,o,r){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(a,o,r){console.log("setPause","liveAjax XHR polling was "+(r===!0?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(a,o,r,i,s){Vt.dataPendientesAlta=[],Vt.camasTotales=[],Vt.camasTotales=0,Vt.pendienteAlta=0,r!==void 0&&r.delete.length!==0&&(eo("#table-preadmisiones",Vt.dataPendientesAlta),eo("#table-camas-totales",Vt.camasTotales)),r!==void 0&&r.create.length!==0&&(eo("#table-preadmisiones",Vt.dataPendientesAlta),eo("#table-camas-totales",Vt.camasTotales)),r!==void 0&&Object.keys(r.update).length!==0&&(eo("#table-preadmisiones",Vt.dataPendientesAlta),eo("#table-camas-totales",Vt.camasTotales))}).on("noUpdate.liveAjax",function(a,o,r,i){console.log("noUpdate","JSON Processed - Table not updated, no new data")});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").change(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}function eo(t,a){var o=$(t).DataTable();o.clear(),o.rows.add(a).draw()}function Ns(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-preadmisiones").DataTable({data:Vt.pacientes,dom:"ftp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,pageLength:200,columns:[{title:"FECHA:"},{title:"HC:"},{title:"M\xB0 ADM:"},{title:"PACIENTE:"},{title:"F. PROGRAMADA:"},{title:"ADM POSTERIOR:"},{title:"TIPO DCTO.:"}],aoColumnDefs:[{mRender:function(a,o,r){return r.FECHA_PREAD},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.HC},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.ADM},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.NOMBRE_PTE},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.FECHA_POSIBLE_ADM},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.ADMISION_POSTERIOR},visible:!0,aTargets:[5]},{mRender:function(a,o,r){return r.TIPO_DCTO},visible:!0,aTargets:[6]}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){},order:[[3,"Desc"]]});return t}function Rs(t){for(var a in t)if(t.hasOwnProperty(a))return!1;return!0}const Ls={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.mantenimiento.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Za.page==a.idModulo?"active":""},[a.label])]})]}},Za={page:"",setPage:t=>{Za.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Mantenimiento"),m("li.nav-item.show",[m(m.route.Link,{href:"/mantenimiento",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Mantenimiento "]),m("nav.nav",[m(Ls)])])]))])]},Fs={view:()=>[m("div.content.content-components",m("div.container",[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["Metrovirtual"])),m("li.breadcrumb-item.active[aria-current='page']","Mantenimiento")]),m("h1.df-title.mg-t-20.mg-b-10","Mantenimiento:"),m("div.row.tx-14",[m("div.col-sm-6",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[m("div.mg-b-25",m("i.wd-50.ht-50.tx-gray-500[data-feather='layout']")),m("h5.tx-inverse.mg-b-20","Integraci\xF3n Higienizaci\xF3n"),m(m.route.Link,{href:"/mantenimiento/higienizacion",class:"tx-medium"},["Ir a Integraci\xF3n Higienizaci\xF3n",m("i.icon.ion-md-arrow-forward.mg-l-5")])]))])]))]},Os={oninit:()=>{_.page="",Za.page="",N.isAuth()},oncreate:()=>{document.title="Mantenimiento | "+N.title},view:()=>[m(_,{oncreate:_.setPage("mantenimiento")}),m(Za),m(Fs)]},Ea={mensajes:[],fetchPacientes:()=>{Ea.showBusquedas="d-none",Ea.showPacientes="d-none",Ea.showProcess="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/integracion-higienizacion"}).then(function(t){Ea.showPacientes="",Ea.showProcess="d-none",Ea.mensajes=t.data;var a=$("#table-higienizacion").DataTable();a.clear(),a.rows.add(Ea.mensajes).draw()}).catch(function(t){})},oninit:()=>{_.page="",Za.page="",Ea.mensajes=[],N.isAuth()},oncreate:()=>{document.title="Integraci\xF3n de Higienizaci\xF3n | "+N.title,Hs(),$s()},view:()=>[e(_,{oncreate:_.setPage("mantenimiento")}),e(Za,{oncreate:Za.setPage(8)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" Metrovirtual "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/mantenimiento"},[" Mantenimiento "])),e("li.breadcrumb-item.active[aria-current='page']","Integraci\xF3n de Higienizaci\xF3n")]),e("h1.df-title.mg-t-20.mg-b-10","Integraci\xF3n de Higienizaci\xF3n:"),e("div.row.tx-14",[e("div.col-12.mg-b-10.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12.pd-b-10",[e("label.nav-label.tx-semibold","Transacciones Inbound:"),e("hr")])])),e("div.table-loader-in.col-12.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content-in.col-12.mg-b-10",[e("div.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-inboundTRX'][width='100%']"))]),e("div.col-12.mg-t-10.mg-b-10.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12.pd-b-10",[e("label.nav-label.tx-semibold","Transacciones Outbound:"),e("hr")])])),e("div.table-loader-out.col-12.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content-out.col-12.mg-b-10",[e("div.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-outboundTRX'][width='100%']"))])])]))]};function Hs(){$(".table-content-in").hide(),$(".table-loader-in").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-inboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-in",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACI\xD3N:"},{title:"TIMESTAMP:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.status},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.hab},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.timestamp},visible:!0,aTargets:[4],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content-in").show(),$(".table-loader-in").hide()}}).on("xhr.dt",function(a,o,r,i){$(".table-loader-in").hide(),$(".table-content-in").show()}).on("page.dt",function(a,o,r,i){$(".table-loader-in").show(),$(".table-content-in").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),t}function $s(){$(".table-content-out").hide(),$(".table-loader-out").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-outboundTRX").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/hg-out",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"ID:"},{title:"CODIGO HTTP:"},{title:"STATUS:"},{title:"HABITACI\xD3N:"},{title:"TIMESTAMP:"},{title:"OPCIONES:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return'<span class="badge badge-success mg-r-2">200</span> '},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.ESTADO},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.PK_FK_HABITACION},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.timestamp},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return'<a href="'+r.URL_LOG+'" role="button" class="btn btn-xs btn-block btn-primary" target="_blank">Ver Log</a>'},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content-out").show(),$(".table-loader-out").hide()}}).on("xhr.dt",function(a,o,r,i){$(".table-loader-out").hide(),$(".table-content-out").show()}).on("page.dt",function(a,o,r,i){$(".table-loader-out").show(),$(".table-content-out").hide()});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),t}const Ys={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.hospitalizacion.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:ya.page==a.idModulo?"active":""},[a.label])]})]}},ya={page:"",setPage:t=>{ya.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Hospitalizaci\xF3n"),m("li.nav-item.show",[m(m.route.Link,{href:"/hospitalizacion",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Hospitalizaci\xF3n "]),m("nav.nav",[m(Ys)])])]))])]},js={view:()=>[m("div.content.content-components",m("div.container",[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Hospitalizaci\xF3n")]),m("h1.df-title.mg-t-20.mg-b-10","Hospitalizaci\xF3n:"),m("div.row.tx-14",[N.isShow("hospitalizacion",17)?[m("div.col-sm-6",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[m("div.mg-b-25",m("i.tx-50.tx-gray-500.fas.fa-procedures")),m("h5.tx-inverse.mg-b-20","Control de Camas GEMA-MV"),m(m.route.Link,{href:"/hospitalizacion/control-camas",class:"tx-medium"},["Ir a Control de Camas GEMA-MV",m("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[],N.isShow("hospitalizacion",9)?[m("div.col-sm-6",m("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end.mg-b-5",[m("div.mg-b-25",m("i.tx-50.tx-gray-500.fas.fa-file-alt")),m("h5.tx-inverse.mg-b-20","Pasaportes de Pacientes"),m(m.route.Link,{href:"/hospitalizacion/pasaportes",class:"tx-medium"},["Ir a Pasaportes de Pacientes",m("i.icon.ion-md-arrow-forward.mg-l-5")])]))]:[]])]))]},Us={oninit:()=>{_.page="",ya.page="",N.isAuth()},oncreate:()=>{document.title="Hospitalizaci\xF3n | "+N.title},view:()=>[m(_,{oncreate:_.setPage("hospitalizacion")}),m(ya),m(js)]},vo={pacientes:[],showPacientes:"d-none",showBusquedas:"d-none",tipoBusqueda:"",searchField:"",showProcess:"d-none",oninit:()=>{_.page="",ya.page="",vo.searchField="",vo.showBusquedas="",vo.pacientes=[],N.isAuth()},oncreate:()=>{document.title="Hospitalizaci\xF3n Pasaportes | "+N.title},view:()=>[e(_,{oncreate:_.setPage("hospitalizacion")}),e(ya,{oncreate:ya.setPage(9)}),e("div.content.content-components",e("div.container",[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" Metrovirtual "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/hospitalizacion"},[" Hospitalizaci\xF3n "])),e("li.breadcrumb-item.active[aria-current='page']","Pasaportes de Pacientes")]),e("h1.df-title.mg-t-20.mg-b-10","Pasaportes de Pacientes"),e("div.row.tx-14",[e("div.col-12.mg-b-10.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12.pd-b-10.mg-b-10",[e("label.nav-label.tx-semibold","B\xFAsqueda de Pacientes:"),e("hr")])])),e("div.table-loader.col-12.wd-100p",{class:vo.showProcess},e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.col-12",{class:"d-none"},[e("label.nav-label.tx-semibold","B\xFAsquedas Recientes:"),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",e("table.table.table-sm[id='table-ultimas-busquedas'][width='100%']"))])])])),e("div.section-nav",[e("label.nav-label.mg-b-10","Opciones Pacientes"),e("a.nav-link[href='#section1']","Feather Icons")])]},Bs={view:t=>[e("p.mg-0",[e("div.tx-12",t.attrs.DIFERENCIA==1?[e("span",{class:"badge badge-danger mg-l-5 mg-r-5",title:"Diferencia"},[],"X")]:[],t.attrs.TIPO!=="CAMAS TOTAL"?[e("span.wd-20p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],t.attrs.TIPO)]:[],t.attrs.NOMBRE_GEMA!==null?[e("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],"NOMBRE GEMA: "+t.attrs.NOMBRE_GEMA)]:[],e("span.wd-10p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],t.attrs.HABITACION_GEMA),e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),t.attrs.NHCL,e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO GEMA"),t.attrs.ESTADO_GEMA,e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ESTADO MV"),t.attrs.ESTADO_MV,t.attrs.NOMBRE_MV!==null?[e("span.wd-100p",{class:"badge badge-dark mg-l-5 mg-r-5"},[],"NOMBRE MV: "+t.attrs.NOMBRE_MV)]:[])])]},Vs={view:t=>[e("p.mg-0",[e("div.tx-12",e("span.wd-10p",{class:"badge badge-danger mg-l-5 mg-r-5"},t.attrs.HABITACION_MV),e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"NHC"),t.attrs.NHCL,e("span",{class:"badge badge-light mg-l-5 mg-r-5"},[],"ATENCION MV"),t.attrs.ATENCION_MV,t.attrs.NOMBRE_MV!==null?[e("span.wd-100p",{class:"badge badge-primary mg-l-5 mg-r-5"},[],t.attrs.NOMBRE_MV)]:[])])]},Ie={error:"",data:[],dataMuestras:[],fetch:()=>{Ie.error="",Ie.data=[],e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-lab",body:{numeroPedido:ct.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(Ie.data=t.data,ct.data=t.data[0],ct.validarStatus()):Ie.error=t.message}).catch(function(t){})}},$e={tuboLila:1,tuboRojo:1,tuboCeleste:1,tuboNegro:1,tuboVerde:1,gsav:1,hemocultivo:1,qtb:1},ma={checkedAll:!1,seleccionarTodos:t=>{ma.checkedAll=t;var a=moment().format("DD-MM-YYYY HH:mm");return Ie.data.map(function(o,r,i){t?(Ie.data[r].STATUS_TOMA=a,Ie.data[r].customCheked=!0,ma.udpateStatusTomaMuestra(Ie.data[r].CD_EXA_LAB,1)):(Ie.data[r].STATUS_TOMA="",Ie.data[r].customCheked=!1,ma.udpateStatusTomaMuestra(Ie.data[r].CD_EXA_LAB,2))})},udpateStatusTomaMuestra:(t,a)=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/up-status-pedido-lab",body:{numeroPedido:ct.numeroPedido,cod_exa_lab:t,sts:a},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(o){console.log(o),ct.validarStatus()}).catch(function(o){})},view:()=>Ie.error?[e("p.mg-0",Ie.error)]:Ie.data.length!==0?[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("div.mg-b-30",e("i.tx-60.fas.fa-file."+ct.classPedido)),e("h5.tx-inverse.mg-b-10","Detalle de Pedido N\xB0: "+ct.numeroPedido+" - Status: "+ct.descSstatusPedido),ct.data.TIPO_PEDIDO=="R"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],e("p.mg-5.tx-20.mg-t-10",[e("i.fas.fa-user.mg-r-8.text-secondary"),ct.data.PTE_MV]),e("p.mg-5.tx-15",["Fecha Pedido: ",ct.data.FECHA_TOMA]),e("p.mg-5.tx-15",["M\xE9dico: ",ct.data.MED_MV]),e("p.mg-5.tx-15",["Ubicaci\xF2n: ",ct.data.SECTOR,": ",ct.data.CAMA]),e("p.mg-5",["Histor\xEDa Cl\xEDnica: "]),e("p.mg-5",[e("span.badge.badge-primary.mg-r-5.tx-14","GEMA: "+ct.data.HC_MV+"01"),e("span.badge.badge-success.mg-r-5.tx-14","MV: "+ct.data.HC_MV)]),e("ul.nav.nav-tabs.mg-t-15[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link.active[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']","Detalle Pedido")),e("li.nav-item",e("a.nav-link[id='profile-tab'][data-toggle='tab'][href='#profile'][role='tab'][aria-controls='profile'][aria-selected='false']","Toma de Muestras"))]),e(".tab-content.bd.bd-gray-300.bd-t-0.pd-20.mg-t-10[id='myTabContent']",[e(".tab-pane.fade.show.active[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[Ie.error?[e("p.mg-0",Ie.error)]:Ie.data!==void 0&&Ie.data.length!==0?[e("h6","Detalle Pedido:"),e("div.table-responsive",e("table.table.table-dashboard.mg-b-0",[e("thead",e("tr",[e("th","FECHA PROGRAMADA"),e("th","FECHA TOMA MUESTRA"),e("th","FECHA RECEP. LAB."),e("th.text-right","EXAMEN")])),e("tbody",[Ie.data.map(function(t,a,o){return[e("tr",[e("td.tx-color-03.tx-normal",t.FECHA_TOMA+" "+t.HORA_TOMA),e("td.tx-color-03.tx-normal",t.STATUS_TOMA.length!==0?t.STATUS_TOMA:"Pendiente"),e("td.tx-color-03.tx-normal",t.STATUS_TOMA.length!==0?t.STATUS_TOMA:"Pendiente"),e("td.tx-medium.text-right",t.NM_EXA_LAB)])]})])]))]:e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])]),e(".tab-pane.fade[id='profile'][role='tabpanel'][aria-labelledby='profile-tab']",[e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Registro de Toma de Muestras")]),e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-left","EXAMEN"),e("th","FECHA DE TOMA DE MUESTRA")])),e("tbody",[e("tr.d-none",[e("td.tx-normal",e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:ma.checkedAll,onclick:function(t){ma.seleccionarTodos(this.checked)}}),e("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),e("td.tx-medium.text-right")]),Ie.data.map(function(t,a,o){return[e("tr",[e("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='"+t.CD_EXA_LAB+"']",{checked:Ie.data[a].customCheked,onupdate:function(r){this.checked=Ie.data[a].customCheked},onclick:function(r){r.preventDefault();var i=this.checked;Ie.data[a].customCheked=!Ie.data[a].customCheked,i?(this.checked=!0,Ie.data[a].STATUS_TOMA=moment().format("DD-MM-YYYY HH:mm"),ma.udpateStatusTomaMuestra(t.CD_EXA_LAB,1)):(this.checked=!1,ma.checkedAll=!1,Ie.data[a].STATUS_TOMA="",ma.udpateStatusTomaMuestra(t.CD_EXA_LAB,2))}}),e("label.custom-control-label.tx-16[for='"+t.CD_EXA_LAB+"']",(Ie.data[a].STATUS_TOMA.length!==0,Ie.data[a].STATUS_TOMA))]))])]})])])),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Registro de Insumos")]),e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-left","INSUMOS"),e("th.text-left","CANTIDAD")])),e("tbody",[e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']"),e("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=$e.tuboLila},onupdate:t=>{t.dom.innerText=$e.tuboLila}})),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboLila++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboLila--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']"),e("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=$e.tuboRojo},onupdate:t=>{t.dom.innerText=$e.tuboRojo}})),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboRojo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboRojo--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']"),e("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=$e.tuboCeleste},onupdate:t=>{t.dom.innerText=$e.tuboCeleste}})),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboCeleste++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboCeleste--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']"),e("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=$e.tuboNegro},onupdate:t=>{t.dom.innerText=$e.tuboNegro}})),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboNegro++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboNegro--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']"),e("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=$e.tuboVerde},onupdate:t=>{t.dom.innerText=$e.tuboVerde}})),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboVerde++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{$e.tuboVerde--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='gsav']"),e("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=$e.gsav},onupdate:t=>{t.dom.innerText=$e.gsav}})),e("button.btn.btn[type='button']",{onclick:()=>{$e.gsav++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{$e.gsav--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']"),e("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=$e.hemocultivo},onupdate:t=>{t.dom.innerText=$e.hemocultivo}})),e("button.btn.btn[type='button']",{onclick:()=>{$e.hemocultivo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{$e.hemocultivo--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='qtb']"),e("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{t.dom.innerText=$e.qtb},onupdate:t=>{t.dom.innerText=$e.qtb}})),e("button.btn.btn[type='button']",{onclick:()=>{$e.qtb++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{$e.qtb--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])]))])])])]:[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]},ct={numeroPedido:"",numeroHistoriaClinica:"",track:"",data:[],classPedido:"",descSstatusPedido:"",validarStatus:()=>{for(var t=0;t<Ie.data.length;t++)Ie.data[t].STATUS_TOMA.length!==0&&(Ie.data[t].customCheked=!0);for(var a=0,o=0,t=0;t<Ie.data.length;t++)Ie.data[t].STATUS_RESULTADO.length!==0&&a++,Ie.data[t].STATUS_TOMA.length!==0&&o++;Ie.data.length!==o&&Ie.data.length!==a&&(ct.classPedido="tx-warning",ct.descSstatusPedido="Muestras Pendientes"),Ie.data.length==o&&Ie.data.length!==a&&(ma.checkedAll=!0,ct.classPedido="tx-orange",ct.descSstatusPedido="Pendiente Resultado"),Ie.data.length==o&&Ie.data.length==a&&(ma.checkedAll=!0,ct.classPedido="tx-success",ct.descSstatusPedido="Finalizado - Gestionado")},view:()=>[e("div.animated.fadeInUp",{class:Pe.showBitacora.length!==0?"":"d-none"},[e(ma)])]};function qs(){return{interval:null,seconds:89,isPaused:!1}}const Va={increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Va.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=0},toggle(t){t.isPaused?Va.start(t):Va.stop(t),t.isPaused=!t.isPaused}};function Js(){const t=qs();return Va.start(t),{view(){return[e("div.mg-t-30.mg-b-20",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Este reporte se actualiza automaticamente en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play",{onclick(){Va.toggle(t)}})]:[e("i.fas.fa-pause",{onclick(){Va.toggle(t)}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Va.stop(t)}}}const Pe={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,oninit:t=>{Eo(t.attrs)?Pe.showBitacora="":(Pe.showBitacora="d-none",ct.numeroPedido=t.attrs.numeroPedido),_.page="",ya.page="",Pe.dataPendientesAlta=[],Pe.dataCamaTotales=[],Pe.camasTotales=0,Pe.pendienteAlta=0,N.isAuth("hospitalizacion",17)},oncreate:t=>{document.title="Caja Recepci\xF3n Turnos | "+N.title,Eo(t.attrs)?(Gs(),zs()):Ie.fetch()},onupdate:t=>{Eo(t.attrs)?Pe.showBitacora="":Pe.showBitacora="d-none"},view:t=>{var a=moment().format("DD-MM-YYYY");return Eo(t.attrs)?Pe.showBitacora="":Pe.showBitacora="d-none",[e(_,{oncreate:_.setPage("hospitalizacion")}),e(ya,{oncreate:ya.setPage(17)}),e("div.content.content-components",e("div.container",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" Metrovirtual "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/hospitalizacion"},[" Hospitalizaci\xF3n "])),e("li.breadcrumb-item.active[aria-current='page']","Control de Camas GEMA-MV:")]),e("h1.df-title.mg-t-20.mg-b-10","Control de Camas GEMA-MV:"),e("p.mg-b-20.tx-14.d-none",{class:t.attrs.numeroPedido==null?"":"d-none"},[e("i.fas.fa-info-circle.mg-r-5.text-secondary"),"Buscar por apellidos y nombres de paciente, historia cl\xEDnica y n\xFAmero de pedido."]),e("div.d-lg-none.d-md-block.mg-t-10.mg-b-10.bg-white",e("div.col-12.mg-t-30.mg-lg-t-0",e("div.row",[e("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[Pe.pendienteAlta==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=Pe.pendienteAlta+" Paciente(s)"},onupdate:o=>{o.dom.innerText=Pe.pendienteAlta+" Paciente(s)"}})]]),Pe.pendienteAlta==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),e("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[Pe.camasTotales==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=Pe.camasTotales+" Paciente(s)"},onupdate:o=>{o.dom.innerText=Pe.camasTotales+" Paciente(s)"}})]]),Pe.camasTotales==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])]))),e("div.row.animated.fadeInUp",{class:Pe.showBitacora},[e("div.col-12",[e("div.table-loader.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e(Js),e("div.mg-b-10.d-flex.align-items-center.justify-content-between",[e("h5.mg-b-0","Camas Disponibles GEMA: ")]),e("table.table.table-xs.mg-b-10[id='table-status-camas'][width='100%']"),e("table.table.table-xs.d-none[id='table-control-camas'][width='100%']"),e("div.mg-b-10.d-flex.align-items-center.justify-content-between",[e("h5.mg-b-0.mg-t-15","Pendientes de Alta MV: "),e("div.tx-15.d-none",[e("a.link-03.lh-0[href='']",e("i.icon.ion-md-refresh")," Actualizar")])]),e("table.table.table-xs[id='table-pendientes-alta'][width='100%']"),e("div.mg-b-10.d-flex.align-items-center.justify-content-between",[e("h5.mg-b-0","Estado de Camas: ")]),e("div.mg-b-5.d-flex",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']")),e("table.table.table-xs[id='table-camas-totales'][width='100%']")])])]),e(ct)])),e("div.section-nav",[e("label.nav-label","Control de Camas"),e("div.mg-t-10.bg-white",e("div.col-12.mg-t-30.mg-lg-t-0",e("div.row",[e("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Pendiente Alta"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[Pe.pendienteAlta==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=Pe.pendienteAlta+" Paciente(s)"},onupdate:o=>{o.dom.innerText=Pe.pendienteAlta+" Paciente(s)"}})]]),Pe.pendienteAlta==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),e("div.col-sm-6.col-lg-12.mg-t-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","DIFERENCIA CAMAS"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[Pe.camasTotales==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=Pe.camasTotales+" Paciente(s)"},onupdate:o=>{o.dom.innerText=Pe.camasTotales+" Paciente(s)"}})]]),Pe.camasTotales==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]]),e("div.col-sm-6.col-lg-12.mg-t-30.mg-b-30.mg-sm-t-0.mg-lg-t-30",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","GEMA Y MV"),e("span.tx-10.tx-color-04","Hoy, "+a)]),e("div.d-flex.align-items-end.justify-content-between.mg-b-5",[Pe.gemaMV==0?[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0","0 Paciente(s)")]:[e("h5.tx-normal.tx-rubik.lh-2.mg-b-0",{oncreate:o=>{o.dom.innerText=Pe.gemaMV+" Paciente(s)"},onupdate:o=>{o.dom.innerText=Pe.gemaMV+" Paciente(s)"}})]]),Pe.gemaMV==0?[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-teal.wd-0p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]:[e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-danger.wd-100p[role='progressbar'][aria-valuenow='100'][aria-valuemin='0'][aria-valuemax='100']"))]])])))])]}};function zs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-status-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-status-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:[{title:"N\xB0:"},{title:"\xC1REA:"},{title:"COVID:"},{title:"DISPONIBLES:"},{title:"EN LIMPIEZA:"},{title:"OCUPADAS:"},{title:"TOTAL CAMAS:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.AREA},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.COVID},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.DISPONIBLES<5?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+r.DISPONIBLES+"</span></div>":r.DISPONIBLES},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.EN_LIMPIEZA>r.DISPONIBLES?'<div class="d-inline tx-danger tx-semibold "><span class="badge badge-danger tx-18">'+r.EN_LIMPIEZA+"</span></div>":r.EN_LIMPIEZA},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return r.OCUPADAS},visible:!0,aTargets:[5],orderable:!1},{mRender:function(a,o,r){return r.TOTAL_CAMAS},visible:!0,aTargets:[6],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(a,o,r,i){console.log("xhrErr","General XHR Error: "+i)}).on("xhrErrTimeout.liveAjax",function(a,o,r,i){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(a,o,r,i){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(a,o,r,i){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","(Unknown) XHR Error: "+i)}).on("xhrSkipped.liveAjax",function(a,o,r){console.log("xhrSkipped","XHR Skipped because liveAjax is "+r)}).on("setInterval.liveAjax",function(a,o,r){console.log("setInterval","XHR polling interval set to "+r)}).on("init.liveAjax",function(a,o,r){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(a,o,r){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(a,o,r){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(a,o,r){console.log("setPause","liveAjax XHR polling was "+(r===!0?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(a,o,r,i,s){}).on("noUpdate.liveAjax",function(a,o,r,i){console.log("noUpdate","JSON Processed - Table not updated, no new data")});return t}function Gs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-control-camas").DataTable({ajax:{url:"https://api.hospitalmetropolitano.org/t/v1/adm-control-camas",dataSrc:"data",serverSide:!0},processing:!0,serverSide:!0,responsive:!1,dom:"t",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.HC_MV},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.PTE_MV},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[3],width:"100%",orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),a.aoData.map(function(o){Pe.dataCamaTotales.push(o._aData),o._aData.DIFERENCIA==1&&Pe.camasTotales++,o._aData.TIPO=="SIN ALTA EN MV"&&(Pe.pendienteAlta++,Pe.dataPendientesAlta.push(o._aData)),o._aData.TIPO=="GEMA Y MV"&&Pe.gemaMV++}),e.redraw.sync(),Xs(),Ks()},rowId:"NUM",liveAjax:{interval:25e3,dtCallbacks:!1,abortOn:["error","timeout","parsererror"],resetPaging:!1}}).on("xhr.dt",function(a,o,r,i){$(".table-loader").hide(),$(".table-content").show()}).on("page.dt",function(a,o,r,i){$(".table-loader").show(),$(".table-content").hide()}).on("xhrErr.liveAjax",function(a,o,r,i){console.log("xhrErr","General XHR Error: "+i)}).on("xhrErrTimeout.liveAjax",function(a,o,r,i){console.log("xhrErrTimeout","XHR Error: Timeout")}).on("xhrErrError.liveAjax",function(a,o,r,i){console.log("XHR Error: Error")}).on("xhrErrAbort.liveAjax",function(a,o,r,i){console.log("xhrErrAbort","XHR Error: Abort")}).on("xhrErrParseerror.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","XHR Error: Parse Error")}).on("xhrErrUnknown.liveAjax",function(a,o,r,i){console.log("xhrErrParseerror","(Unknown) XHR Error: "+i)}).on("xhrSkipped.liveAjax",function(a,o,r){console.log("xhrSkipped","XHR Skipped because liveAjax is "+r)}).on("setInterval.liveAjax",function(a,o,r){console.log("setInterval","XHR polling interval set to "+r)}).on("init.liveAjax",function(a,o,r){console.log("init","liveAjax initiated")}).on("clearTimeout.liveAjax",function(a,o,r){console.log("clearTimeout","liveAjax timeout cleared")}).on("abortXhr.liveAjax",function(a,o,r){console.log("abortXhr","liveAjax XHR request was aborted")}).on("setPause.liveAjax",function(a,o,r){console.log("setPause","liveAjax XHR polling was "+(r===!0?"paused":"un-paused"))}).on("onUpdate.liveAjax",function(a,o,r,i,s){Pe.dataPendientesAlta=[],Pe.camasTotales=[],Pe.camasTotales=0,Pe.pendienteAlta=0,r!==void 0&&r.delete.length!==0&&(to("#table-pendientes-alta",Pe.dataPendientesAlta),to("#table-camas-totales",Pe.camasTotales)),r!==void 0&&r.create.length!==0&&(to("#table-pendientes-alta",Pe.dataPendientesAlta),to("#table-camas-totales",Pe.camasTotales)),r!==void 0&&Object.keys(r.update).length!==0&&(to("#table-pendientes-alta",Pe.dataPendientesAlta),to("#table-camas-totales",Pe.camasTotales))}).on("noUpdate.liveAjax",function(a,o,r,i){console.log("noUpdate","JSON Processed - Table not updated, no new data")});return t}function to(t,a){var o=$(t).DataTable();o.clear(),o.rows.add(a).draw()}function Xs(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-pendientes-alta").DataTable({data:Pe.dataPendientesAlta,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,pageLength:40,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return e(Vs,o._aData)}})})}});return t}function Ks(){moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-camas-totales").DataTable({data:Pe.dataCamaTotales,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,pageLength:20,columns:!1,aoColumnDefs:[{mRender:function(a,o,r){return r.DIFERENCIA},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.TIPO},visible:!1,aTargets:[1],orderable:!0},{mRender:function(a,o,r){return r.NOMBRE_GEMA},visible:!1,aTargets:[2],orderable:!0},{mRender:function(a,o,r){return r.NOMBRE_MV},visible:!1,aTargets:[3],orderable:!0},{mRender:function(a,o,r){return""},visible:!0,width:"100%",aTargets:[4],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[4],{view:function(){return e(Bs,o._aData)}})})}});return $("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t}function Eo(t){for(var a in t)if(t.hasOwnProperty(a))return!1;return!0}const gt={data:[],fetch:()=>{gt.data=[];for(var t=0;t<Pt.dataFiltros.length;t++)Pt.dataFiltros[t].id==Pt.idFiltro&&(gt.data=Pt.dataFiltros[t])},view:()=>{if(Pt.showBitacora.length!==0&&gt.data.length!==0)return[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{Pt.showBitacora="",gt.data=[],e.route.set("/laboratorio/notificaciones/filtros",{})}}))),e("div.mg-b-30",e("i.tx-40.fas.fa-filter.")),e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-edit.mg-r-5")," Editar "),e("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),e("h5.tx-inverse.mg-b-10","Filtro: "+gt.data.nombre),gt.data.ene==0?[e("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[e("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],gt.data.x_servicio!==null?[e("h5.tx-inverse.mg-b-10","Por Servicio: "+gt.data.x_servicio)]:[],gt.data.x_origen!==null?[e("h5.tx-inverse.mg-b-10","Por Origen: "+gt.data.x_origen)]:[],gt.data.x_motivo!==null?[e("h5.tx-inverse.mg-b-10","Por Motivo: "+gt.data.x_motivo)]:[],gt.data.x_especialidad!==null?[e("h5.tx-inverse.mg-b-10","Por Especialidad: "+gt.data.x_especialidad)]:[],gt.data.x_medico!==null?[e("h5.tx-inverse.mg-b-10","Por M\xE9dico: "+gt.data.x_medico)]:[],gt.data.x_idprueba!==null?[e("h5.tx-inverse.mg-b-10","Por Id Prueba: "+gt.data.x_idprueba)]:[]])];if(Pt.showBitacora.length!==0)return[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]}},Pt={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",searchField:"",fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=filtradas"}).then(function(t){Pt.dataFiltros=t.data,Ws()}).catch(function(t){})},oninit:t=>{_.page="",de.page="",Pt.dataPendientesAlta=[],Pt.dataCamaTotales=[],Pt.camasTotales=0,Pt.pendienteAlta=0,N.isAuth("laboratorio",15)},oncreate:t=>{document.title="Notificaciones Enviadas | "+N.title,Pt.fetch()},view:t=>(t.attrs!==void 0&&t.attrs.idFiltro!==void 0?(Pt.idFiltro=t.attrs.idFiltro,Pt.showBitacora="d-none",gt.fetch(),console.log(gt.data)):(Pt.idFiltro="",Pt.showBitacora=""),[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones Pendientes")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones Pendientes:"),e("div.row.animated.fadeInUp",{class:Pt.showBitacora},[e("div.col-12",[e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),e("div.mg-t-90.table-loader.wd-100p",e("div.placeholder-paragraph.",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[e("table.table.table-sm.tx-12[id='table-NotificacionesPendientesLab'][width='100%']")])])]),e(gt)]))])};function Ws(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-NotificacionesPendientesLab").DataTable({data:Pt.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N\xB0:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.sc},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.apellidosPaciente+" "+r.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide()}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}const xa={data:[],fetch:()=>{xa.data=[];for(var t=0;t<st.dataErroresEnvio.length;t++)st.dataErroresEnvio[t].sc==st.sc&&(xa.data=st.dataErroresEnvio[t])},fetchFiltro:()=>{xa.data=[];for(var t=0;t<st.dataErroresFiltro.length;t++)st.dataErroresFiltro[t].sc==st.sc&&(xa.data=st.dataErroresFiltro[t])},view:()=>{if(st.showBitacora.length!==0&&xa.data.length!==0)return[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{st.showBitacora="",xa.data=[],e.route.set("/laboratorio/notificaciones/error",{})}}))),e("div.mg-b-30",e("i.tx-40.fas.fa-envelope.")),e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-edit.mg-r-5")," Reenviar "),e("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-times-circle.mg-r-5")," Reprocesar ")]),e("h5.tx-inverse.mg-b-10","SC: "+xa.data.sc)])];if(st.showBitacora.length!==0)return[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]}},st={dataErroresFiltro:[],dataErroresEnvio:[],showBitacora:"",sc:"",searchField:"",fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=errorEnviadas"}).then(function(t){st.dataErroresEnvio=t.data,Zs()}).catch(function(t){})},fetchErrorFiltro:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/nss/v1/listar/ordenes?type=errorFiltradas"}).then(function(t){st.dataErroresFiltro=t.data,Qs()}).catch(function(t){})},oninit:t=>{_.page="",de.page="",N.isAuth("laboratorio",15)},oncreate:t=>{document.title="Notificaciones con Error | "+N.title,st.fetch(),st.fetchErrorFiltro()},view:t=>(t.attrs!==void 0&&t.attrs.sc!==void 0&&t.attrs.type!==void 0?(st.sc=t.attrs.sc,st.showBitacora="d-none",t.attrs.type=="errorNotificacion"?xa.fetch():xa.fetchFiltro()):(st.sc="",st.showBitacora=""),[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(15)}),e("div.content.content-components",{style:{"margin-right":"0px"}},e("div.container",{style:{"max-width":"none"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio/notificaciones"},[" Notificaciones de Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Notificaciones con Error")]),e("h1.df-title.mg-t-20.mg-b-10","Notificaciones con Error:"),e("div.row.animated.fadeInUp",{class:st.showBitacora},[e("div.col-12.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12",[e("label.nav-label.tx-semibold","Errores en Env\xEDo:")])])),e("div.col-12",[e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),e("div.mg-t-90.table-loader.wd-100p",e("div.placeholder-paragraph.",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[e("table.table.table-sm.tx-12[id='table-notificaciones-errores'][width='100%']")])]),e("div.col-12.wd-100p",e("div.row.mg-t-10",[e("div.col-sm-12",[e("label.nav-label.tx-semibold","Errores en Filtro:")])])),e("div.col-12",[e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchFieldFiltro']"))]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[e("table.table.table-sm.tx-12[id='table-notificaciones-errores-filtro'][width='100%']")])])]),e(xa)]))])};function Zs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones-errores").DataTable({data:st.dataErroresEnvio,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N\xB0:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.sc},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.apellidosPaciente+" "+r.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(a,o,r,i){$(a).attr("id",o.sc).css("cursor","pointer"),$(a).addClass("verNotificacion")},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),$(".verNotificacion").click(function(o){o.preventDefault();var r=this;st.showBitacora="d-none",e.route.set("/laboratorio/notificaciones/error/",{sc:r.id,type:"errorNotificacion"})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}function Qs(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-notificaciones-errores-filtro").DataTable({data:st.dataErroresFiltro,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N\xB0:"},{title:"SC:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"STATUS:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.sc},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.fechaExamen},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.numeroHistoriaClinica},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.apellidosPaciente+" "+r.nombresPaciente},visible:!0,aTargets:[4]},{mRender:function(a,o,r){return r.statusEnvio},visible:!0,aTargets:[5]}],fnRowCallback:function(a,o,r,i){$(a).attr("id",o.sc).css("cursor","pointer"),$(a).addClass("verNotificacionFiltro")},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide(),$(".verNotificacionFiltro").click(function(o){o.preventDefault();var r=this;st.showBitacora="d-none",e.route.set("/laboratorio/notificaciones/error/",{sc:r.id,type:"errorNotificacionFiltro"})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchFieldFiltro").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchFieldFiltro").val()).draw()}),t}const ed={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess["terapia-respiratoria"].map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Ft.page==a.idModulo?"active":""},[a.label])]})]}},Ft={page:"",setPage:t=>{Ft.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Terapia Respiratoria"),m("li.nav-item.show",[m(m.route.Link,{href:"/terapia-respiratoria",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Terapia Respiratoria "]),m("nav.nav",[m(ed)])])]))])]};function td(){return{interval:null,seconds:100,isPaused:!1}}const qa={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(qa.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?qa.start(t):qa.stop(t),t.isPaused=!t.isPaused}};function ad(){const t=td();return qa.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){qa.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){qa.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){qa.stop(t)}}}const od={oncreate:()=>{if(J.loadPedidos(),J.searchField.length!==0){var t=$("#table-pedidos").DataTable();t.search(J.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Pedidos de Terapia Respiratoria:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{J.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),J.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),J.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),J.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),J.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")},onupdate:t=>{J.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),J.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),J.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),J.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),J.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:J.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=J.idFiltro!==1?moment(moment(J.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{J.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),J.loader=!0,J.pedidos=[],J.fetchPedidos(),e.route.set("/terapia-respiratoria/pedidos?idFiltro="+J.idFiltro+"&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=J.idFiltro!==1?moment(moment(J.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{J.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),J.loader=!0,J.pedidos=[],J.fetchPedidos(),e.route.set("/terapia-respiratoria/pedidos?idFiltro="+J.idFiltro+"&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/terapia-respiratoria/pedidos/?idFiltro=2&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta},["Pedidos entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=3&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=4&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta},["Pedidos de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/terapia-respiratoria/pedidos/?idFiltro=5&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta},["Pedidos de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:J.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){J.searchField=t.target.value},value:J.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])},J={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{Ft.page="",J.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),J.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),J.fechaHasta=moment().format("DD-MM-YYYY"),J.loader=!0,J.pedidos=[],J.fetchPedidos())},oncreate:t=>{yt.suscribirCanal("MetroPlus-Terapia-Respiratoria")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:J.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){J.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0").css("background-color","#f7fafe"),e.mount(o.anCells[5],{view:function(){return[e("div.d-flex",{},[e("div.pd-0.flex-grow-1",e("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},e("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),e(".d-inline.tx-15.mg-r-5",o._aData.CD_PRE_MED),e("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," SECTOR: "),e(".d-inline.tx-12.mg-r-5",o._aData.SECTOR!==null?o._aData.SECTOR+" "+o._aData.UBICACION:"No Disponible"),e("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," MED: "),o._aData.MED_MV)),e("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},o._aData.EDAD+" - "+o._aData.PESO+" - "+o._aData.ALTURA+".")]),e("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[e("div.pd-0.flex-grow-1",e("td.wd-1p.tx-white",{style:{"background-color":o._aData.SECTOR=="EMERGENCIA"?"#f10075":"#0168fa"}},o._aData.SECTOR=="EMERGENCIA"?"E":"H"),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.CD_PACIENTE),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N\xB0 AT.: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.AT_MV),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.NM_PACIENTE)),e("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:()=>{e.route.set("/terapia-respiratoria/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}},e(".tx-normal",e("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";J.idFiltro==1?t="?idFiltro="+J.idFiltro:t="?idFiltro="+J.idFiltro+"&fechaDesde="+J.fechaDesde+"&fechaHasta="+J.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/terapia-respiratoria/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){J.loader=!1,J.pedidos=a.data}).catch(function(a){setTimeout(function(){J.fetchPedidos()},2e3)})},reloadData:()=>{var t=$("#table-pedidos").DataTable();t.clear(),t.rows.add(J.pedidos).draw()},view:t=>J.loader?[e(Ft,{oncreate:Ft.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:J.error.length!==0?[e(Ft,{oncreate:Ft.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!J.loader&&J.pedidos.length!==0?[e(Ft,{oncreate:Ft.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e(od)])),e("div.section-nav",[e("label.nav-label","RECEPCI\xD3N DE PedidosTR"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","N\xB0 de PedidosTR:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",J.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(ad)))])]:!J.loader&&J.pedidos.length==0?[e(Ft,{oncreate:Ft.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(Ft,{oncreate:Ft.setPage(18)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},[" Terapia Respiratoria "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},_t={data:[],fetch:()=>{_t.data=[];for(var t=0;t<Mt.dataFiltros.length;t++)Mt.dataFiltros[t].id==Mt.idFiltro&&(_t.data=Mt.dataFiltros[t])},view:()=>{if(Mt.showBitacora.length!==0&&_t.data.length!==0)return[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{Mt.showBitacora="",_t.data=[],e.route.set("/laboratorio/notificaciones/filtros",{})}}))),e("div.mg-b-30",e("i.tx-40.fas.fa-filter.")),e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-secondary.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-edit.mg-r-5")," Editar "),e("button.btn.btn-xs.btn-danger.mg-l-2[type='button']",{onclick:()=>{}},e("i.fas.fa-times-circle.mg-r-5")," Eliminar ")]),e("h5.tx-inverse.mg-b-10","Filtro: "+_t.data.nombre),_t.data.ene==0?[e("h5.tx-inverse.mg-b-10.tx-danger","Regla para: NO ENVIAR")]:[e("h5.tx-inverse.mg-b-10.tx-primary","Regla para: ENVIAR")],_t.data.x_servicio!==null?[e("h5.tx-inverse.mg-b-10","Por Servicio: "+_t.data.x_servicio)]:[],_t.data.x_origen!==null?[e("h5.tx-inverse.mg-b-10","Por Origen: "+_t.data.x_origen)]:[],_t.data.x_motivo!==null?[e("h5.tx-inverse.mg-b-10","Por Motivo: "+_t.data.x_motivo)]:[],_t.data.x_especialidad!==null?[e("h5.tx-inverse.mg-b-10","Por Especialidad: "+_t.data.x_especialidad)]:[],_t.data.x_medico!==null?[e("h5.tx-inverse.mg-b-10","Por M\xE9dico: "+_t.data.x_medico)]:[],_t.data.x_idprueba!==null?[e("h5.tx-inverse.mg-b-10","Por Id Prueba: "+_t.data.x_idprueba)]:[]])];if(Mt.showBitacora.length!==0)return[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]}},Mt={dataPendientesAlta:[],dataSoloGema:[],dataGemaMV:[],dataFiltros:[],dataCamaTotales:[],camasTotales:0,showBitacora:"",gemaMV:0,soloGema:0,soloMV:0,pendienteAlta:0,timerUpdate:0,idFiltro:"",searchField:"",fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/tr/pedidos"}).then(function(t){Mt.dataFiltros=t.data,rd()}).catch(function(t){})},oninit:t=>{_.page="",de.page="",Mt.dataPendientesAlta=[],Mt.dataCamaTotales=[],Mt.camasTotales=0,Mt.pendienteAlta=0,N.isAuth("laboratorio",15)},oncreate:t=>{document.title="Pedidos de Terapia Respiratoria | "+N.title,Mt.fetch()},view:t=>(t.attrs!==void 0&&t.attrs.idFiltro!==void 0?(Mt.idFiltro=t.attrs.idFiltro,Mt.showBitacora="d-none",_t.fetch()):(Mt.idFiltro="",Mt.showBitacora=""),[e(_,{oncreate:_.setPage("laboratorio")}),e("div.content.content-components",{},e("div.container",{},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos de Terapia Respiratoria:")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos de Banco de Sangre:"),e("div.row.animated.fadeInUp",{class:Mt.showBitacora},[e("div.col-12",[e("div.filemgr-content-header.",[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']"))]),e("div.mg-t-90.table-loader.wd-100p",e("div.placeholder-paragraph.",[e("div.line"),e("div.line")])),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.mg-t-70",[e("table.table.table-sm.tx-12[id='table-BSPedidos'][width='100%']")])])]),e(_t)]))])};function rd(){$(".table-content").hide(),$(".table-loader").show(),moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-BSPedidos").DataTable({data:Mt.dataFiltros,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Resultados",sEmptyTable:"Sin Resultados",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,destroy:!0,responsive:!0,order:[[0,"Desc"]],columns:[{title:"N\xB0:"},{title:"FECHA:"},{title:"NHC:"},{title:"PACIENTE:"},{title:"N\xB0 ATENCION:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0]},{mRender:function(a,o,r){return r.HR_PRE_MED},visible:!0,aTargets:[1]},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!0,aTargets:[2]},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!0,aTargets:[3]},{mRender:function(a,o,r){return r.CD_ATENDIMENTO},visible:!0,aTargets:[4]}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){$(".table-content").show(),$(".table-loader").hide()}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){$(".table-loader").show(),$(".table-content").hide(),t.search($("#searchField").val()).draw()}),t}const id={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.neurofisiologia.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Ot.page==a.idModulo?"active":""},[a.label])]})]}},Ot={page:"",setPage:t=>{Ot.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Neurofisiolog\xEDa"),m("li.nav-item.show",[m(m.route.Link,{href:"/neurofisiologia",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Neurofisiolog\xEDa "]),m("nav.nav",[m(id)])])]))])]};function nd(){return{interval:null,seconds:100,isPaused:!1}}const Ja={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ja.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Ja.start(t):Ja.stop(t),t.isPaused=!t.isPaused}};function sd(){const t=nd();return Ja.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Ja.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Ja.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ja.stop(t)}}}const dd={oncreate:()=>{if(z.loadPedidos(),z.searchField.length!==0){var t=$("#table-pedidos").DataTable();t.search(z.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Pedidos de Neurofisiolog\xEDa:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{z.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),z.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),z.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),z.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),z.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")},onupdate:t=>{z.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),z.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),z.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),z.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),z.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:z.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=z.idFiltro!==1?moment(moment(z.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{z.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),z.loader=!0,z.pedidos=[],z.fetchPedidos(),e.route.set("/neurofisiologia/pedidos?idFiltro="+z.idFiltro+"&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=z.idFiltro!==1?moment(moment(z.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{z.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),z.loader=!0,z.pedidos=[],z.fetchPedidos(),e.route.set("/neurofisiologia/pedidos?idFiltro="+z.idFiltro+"&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/neurofisiologia/pedidos/?idFiltro=2&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta},["Pedidos entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=3&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=4&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta},["Pedidos de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/neurofisiologia/pedidos/?idFiltro=5&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta},["Pedidos de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:z.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){z.searchField=t.target.value},value:z.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])},z={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{Ot.page="",z.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),z.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),z.fechaHasta=moment().format("DD-MM-YYYY"),z.loader=!0,z.pedidos=[],z.fetchPedidos())},oncreate:t=>{yt.suscribirCanal("MetroPlus-Imagen")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:z.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){z.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0").css("background-color","#f7fafe"),e.mount(o.anCells[5],{view:function(){return[e("div.d-flex",{},[e("div.pd-0.flex-grow-1",e("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},e("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),e(".d-inline.tx-15.mg-r-5",o._aData.CD_PRE_MED),e("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," SECTOR: "),e(".d-inline.tx-12.mg-r-5",o._aData.SECTOR+" "+o._aData.UBICACION),e("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," MED: "),o._aData.MED_MV)),e("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},o._aData.EDAD+" - "+o._aData.PESO+" - "+o._aData.ALTURA)]),e("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[e("div.pd-0.flex-grow-1",e("td.wd-1p.tx-white",{style:{"background-color":o._aData.SECTOR=="EMERGENCIA"?"#f10075":"#0168fa"}},o._aData.SECTOR=="EMERGENCIA"?"E":"H"),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.CD_PACIENTE),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N\xB0 AT.: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.AT_MV),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.NM_PACIENTE)),e("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:()=>{e.route.set("/neurofisiologia/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}},e(".tx-normal",e("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";z.idFiltro==1?t="?idFiltro="+z.idFiltro:t="?idFiltro="+z.idFiltro+"&fechaDesde="+z.fechaDesde+"&fechaHasta="+z.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/neuro/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){z.loader=!1,z.pedidos=a.data}).catch(function(a){setTimeout(function(){z.fetchPedidos()},2e3)})},reloadData:()=>{var t=$("#table-pedidos").DataTable();t.clear(),t.rows.add(z.pedidos).draw()},view:t=>z.loader?[e(Ot,{oncreate:Ot.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:z.error.length!==0?[e(Ot,{oncreate:Ot.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!z.loader&&z.pedidos.length!==0?[e(Ot,{oncreate:Ot.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e(dd)])),e("div.section-nav",[e("label.nav-label","Recepci\xF3n de Pedidos"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","N\xB0 de NeuroPedidos:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",z.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(sd)))])]:!z.loader&&z.pedidos.length==0?[e(Ot,{oncreate:Ot.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(Ot,{oncreate:Ot.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},[" Neurofisiolog\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},ld={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.imagen.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:Ht.page==a.idModulo?"active":""},[a.label])]})]}},Ht={page:"",setPage:t=>{Ht.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Imagen"),m("li.nav-item.show",[m(m.route.Link,{href:"/imagen",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Imagen "]),m("nav.nav",[m(ld)])])]))])]};function cd(){return{interval:null,seconds:100,isPaused:!1}}const za={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(za.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?za.start(t):za.stop(t),t.isPaused=!t.isPaused}};function ud(){const t=cd();return za.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){za.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){za.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){za.stop(t)}}}const md={oncreate:()=>{if(G.loadPedidos(),G.searchField.length!==0){var t=$("#table-pedidos").DataTable();t.search(G.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Pedidos de Imagen:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{G.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),G.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),G.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),G.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),G.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")},onupdate:t=>{G.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),G.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),G.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),G.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),G.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:G.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=G.idFiltro!==1?moment(moment(G.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{G.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),G.loader=!0,G.pedidos=[],G.fetchPedidos(),e.route.set("/imagen/pedidos?idFiltro="+G.idFiltro+"&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=G.idFiltro!==1?moment(moment(G.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{G.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),G.loader=!0,G.pedidos=[],G.fetchPedidos(),e.route.set("/imagen/pedidos?idFiltro="+G.idFiltro+"&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta},["Pedidos entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta},["Pedidos de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta},["Pedidos de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:G.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){G.searchField=t.target.value},value:G.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])},G={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{Ht.page="",G.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),G.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),G.fechaHasta=moment().format("DD-MM-YYYY"),G.loader=!0,G.pedidos=[],G.fetchPedidos())},oncreate:t=>{yt.suscribirCanal("MetroPlus-Imagen")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:G.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){G.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0").css("background-color","#f7fafe"),e.mount(o.anCells[5],{view:function(){return[e("div.d-flex",{},[e("div.pd-0.flex-grow-1",e("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},e("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),e(".d-inline.tx-15.mg-r-5",o._aData.CD_PRE_MED),e("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," SECTOR: "),e(".d-inline.tx-12.mg-r-5",o._aData.SECTOR+" "+o._aData.UBICACION),e("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," MED: "),o._aData.MED_MV)),e("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},o._aData.EDAD+" - "+o._aData.PESO+" - "+o._aData.ALTURA)]),e("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[e("div.pd-0.flex-grow-1",e("td.wd-1p.tx-white",{style:{"background-color":o._aData.SECTOR=="EMERGENCIA"?"#f10075":"#0168fa"}},o._aData.SECTOR=="EMERGENCIA"?"E":"H"),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.CD_PACIENTE),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N\xB0 AT.: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.AT_MV),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.NM_PACIENTE)),e("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:()=>{e.route.set("/imagen/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}},e(".tx-normal",e("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";G.idFiltro==1?t="?idFiltro="+G.idFiltro:t="?idFiltro="+G.idFiltro+"&fechaDesde="+G.fechaDesde+"&fechaHasta="+G.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/imagen/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){G.loader=!1,G.pedidos=a.data}).catch(function(a){setTimeout(function(){G.fetchPedidos()},2e3)})},reloadData:()=>{var t=$("#table-pedidos").DataTable();t.clear(),t.rows.add(G.pedidos).draw()},view:t=>G.loader?[e(Ht,{oncreate:Ht.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:G.error.length!==0?[e(Ht,{oncreate:Ht.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!G.loader&&G.pedidos.length!==0?[e(Ht,{oncreate:Ht.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e(md)])),e("div.section-nav",[e("label.nav-label","RECEPCI\xD3N DE PEDIDOS"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","N\xB0 de Pedidos:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",G.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(ud)))])]:!G.loader&&G.pedidos.length==0?[e(Ht,{oncreate:Ht.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(Ht,{oncreate:Ht.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},Ve={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return tt.num==0&&setTimeout(function(){tt.num=tt.data.length,tt.parseFetch(),e.redraw.sync()},2e3),Ve.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+tt.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Ve.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=tt.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:tt.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Ve.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Ve.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Ve.edad||Ve.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ve.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Ve.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Ve.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},tt={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Ve.secs.push(t.data[a])}),Ve.secs.map(function(a,o,r){a.name=="nombres"&&(Ve.nombres=a.answer),a.name=="apellidos_paciente"&&(Ve.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Ve.sexo=a.answer),a.name=="nhcl"&&(Ve.nhcl=a.answer),a.name=="numero_admision"&&(Ve.numero_admision=a.answer),a.name=="edad"&&(Ve.edad=a.answer),a.name=="edad_paciente"&&(Ve.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Ve.identificacion=a.answer),a.name=="fecha_admision"&&(Ve.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Ve.ubicacion=a.answer),a.name=="fecha_alta"&&(Ve.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Ve.medico_tratante=a.answer)})),parseFetch:()=>(Ve.secs=[],tt.data.map(function(t,a,o){tt.parseDoc(tt.data[a])})),fetch:()=>{tt.data=[],tt.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+tt.nhc+"&adm="+tt.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(tt.data=t,tt.num=0):tt.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){tt.fetch()},5e3)})},view:()=>tt.error?[e(".alert.alert-danger[role='alert']",tt.error)]:tt.data.length!==0?[e(Ve)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Wt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Wt.data=[],Wt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:ke.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Wt.data=t.data,tt.adm=Wt.data[0].ADM,tt.nhc=Wt.data[0].NHCL,tt.fetch()):Wt.error=t.message}).catch(function(t){setTimeout(function(){Wt.fetch()},5e3)})},view:()=>Wt.error?[e(".alert.alert-danger[role='alert']",Wt.error)]:Wt.data.length!==0?[e(tt)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},pd={view:()=>{if(ke.examenes.length!==0)return ke.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),t.OBS_EXAMEN!==null?[e("br"),e(".d-inline","Observaciones:"),e("br"),e(".d-inline",t.OBS_EXAMEN),e("br"),e("br")]:""]})}},ke={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedidos N\xB0: "+t.attrs.numeroPedido+" | "+N.title,(ke.data!==void 0&&ke.data.length==0||ke.numeroPedido!==t.attrs.numeroPedido)&&(ke.numeroPedido=t.attrs.numeroPedido,ke.numeroAtencion=t.attrs.numeroAtencion,ke.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,ke.fetch()))},fetch:()=>{ke.data=[],ke.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-imagen",body:{numeroPedido:ke.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(ke.loader=!1,ke.data=t.data,ke.examenes=t.examenes,Wt.fetch()):ke.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("imagen")}),e(Ht,{oncreate:Ht.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/imagen"},[" Imagen "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ke.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{ke.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{ke.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{ke.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{ke.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{G.idFiltro!==void 0&&G.idFiltro>1?e.route.set("/imagen/pedidos/",{idFiltro:G.idFiltro,fechaDesde:G.fechaDesde,fechaHasta:G.fechaHasta}):e.route.set("/imagen/pedidos/",{idFiltro:1})}}))),ke.data.TIPO_PEDIDO=="R"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Pedido:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},ke.data.FECHA_PEDIDO+" "+ke.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ke.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ke.data.MED_MV),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ke.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ke.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},ke.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.PESO+"Kg."),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},ke.data.ALTURA+"m."),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ke.data.SECTOR+" "+ke.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(pd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Wt)])]))]),e("tr.d-print-none",[])])])])])])])])]))]},fd={view:()=>[m("div.content.content-components",m("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Imagen")]),m("h1.df-title.mg-t-20.mg-b-10","Imagen:"),m("div.row.tx-14",[N.isShow("imagen",24)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/imagen/pedidos")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-inbox tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepci\xF3n de Pedidos")])])])]:[],N.isShow("imagen",31)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/imagen/agendamiento")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-calendar tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Agendamiento de Imagen"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Agendamiento de Imagen")])])])]:[],N.isShow("imagen",35)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/imagen/notificaciones")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-bell tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Notificaciones de Imagen"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Notificaciones de Imagen")])])])]:[]])]))]},bd={oninit:()=>{_.page="",Ht.page="",N.isAuth()},oncreate:()=>{document.title="Imagen | "+N.title},view:()=>[m(_,{oncreate:_.setPage("imagen")}),m(Ht),m(fd)]},hd={view:()=>[m("div.content.content-components",m("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Neurofisiolog\xEDa")]),m("h1.df-title.mg-t-20.mg-b-10","Neurofisiolog\xEDa:"),m("div.row.tx-14",[N.isShow("neurofisiologia",20)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/neurofisiologia/pedidos")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-inbox tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepci\xF3n de Pedidos")])])])]:[]])]))]},gd={oninit:()=>{_.page="",Ot.page="",N.isAuth()},oncreate:()=>{document.title="Neurofisiolog\xEDa | "+N.title},view:()=>[m(_,{oncreate:_.setPage("neurofisiologia")}),m(Ot),m(hd)]},qe={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return at.num==0&&setTimeout(function(){at.num=at.data.length,at.parseFetch(),e.redraw.sync()},2e3),qe.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+at.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[qe.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=at.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:at.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",qe.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",qe.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",qe.edad||qe.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",qe.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",qe.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",qe.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},at={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){qe.secs.push(t.data[a])}),qe.secs.map(function(a,o,r){a.name=="nombres"&&(qe.nombres=a.answer),a.name=="apellidos_paciente"&&(qe.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(qe.sexo=a.answer),a.name=="nhcl"&&(qe.nhcl=a.answer),a.name=="numero_admision"&&(qe.numero_admision=a.answer),a.name=="edad"&&(qe.edad=a.answer),a.name=="edad_paciente"&&(qe.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(qe.identificacion=a.answer),a.name=="fecha_admision"&&(qe.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(qe.ubicacion=a.answer),a.name=="fecha_alta"&&(qe.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(qe.medico_tratante=a.answer)})),parseFetch:()=>(qe.secs=[],at.data.map(function(t,a,o){at.parseDoc(at.data[a])})),fetch:()=>{at.data=[],at.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+at.nhc+"&adm="+at.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(at.data=t,at.num=0):at.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){at.fetch()},5e3)})},view:()=>at.error?[e(".alert.alert-danger[role='alert']",at.error)]:at.data.length!==0?[e(qe)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Zt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Zt.data=[],Zt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Se.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Zt.data=t.data,at.adm=Zt.data[0].ADM,at.nhc=Zt.data[0].NHCL,at.fetch()):Zt.error=t.message}).catch(function(t){setTimeout(function(){Zt.fetch()},5e3)})},view:()=>Zt.error?[e(".alert.alert-danger[role='alert']",Zt.error)]:Zt.data.length!==0?[e(at)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},vd={view:()=>{if(Se.examenes.length!==0)return Se.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),e("br"),t.OBS_EXAMEN!==null?e(".d-inline","Observaciones:"):"",t.OBS_EXAMEN!==null?e("br"):"",t.OBS_EXAMEN!==null?e(".d-inline",t.OBS_EXAMEN):""]})}},Se={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedidos N\xB0: "+t.attrs.numeroPedido+" | "+N.title,(Se.data!==void 0&&Se.data.length==0||Se.numeroPedido!==t.attrs.numeroPedido)&&(Se.numeroPedido=t.attrs.numeroPedido,Se.numeroAtencion=t.attrs.numeroAtencion,Se.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,Se.fetch()))},fetch:()=>{Se.data=[],Se.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-neuro",body:{numeroPedido:Se.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(Se.loader=!1,Se.data=t.data,Se.examenes=t.examenes,Zt.fetch()):Se.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("neurofisiologia")}),e(Ot,{oncreate:Ot.setPage(20)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/neurofisiologia"},["Neurofisiolog\xEDa"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+Se.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{Se.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{Se.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{Se.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{Se.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{z.idFiltro!==void 0&&z.idFiltro>1?e.route.set("/neurofisiologia/pedidos/",{idFiltro:z.idFiltro,fechaDesde:z.fechaDesde,fechaHasta:z.fechaHasta}):e.route.set("/neurofisiologia/pedidos/",{idFiltro:1})}}))),Se.data.TIPO_NeuroPedido=="N"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Urgente")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"NeuroPedido Normal")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL NeuroPedido:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de NeuroPedido:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Se.data.FECHA_PEDIDO+" "+Se.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Se.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Se.data.MED_MV),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Se.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Se.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Se.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.PESO),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},Se.data.ALTURA),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Se.data.SECTOR+" "+Se.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(vd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Zt)])]))]),e("tr.d-print-none",[])])])])])])])])]))]},xd={view:()=>[m("div.content.content-components",m("div.container",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Terapia Respiratoria")]),m("h1.df-title.mg-t-20.mg-b-10","Terapia Respiratoria:"),m("div.row.tx-14",[N.isShow("terapia-respiratoria",18)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/terapia-respiratoria/pedidos")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-inbox tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepci\xF3n de Pedidos")])])])]:[]])]))]},yd={oninit:()=>{_.page="",Ft.page="",N.isAuth()},oncreate:()=>{document.title="Terapia Respiratoria | "+N.title},view:()=>[m(_,{oncreate:_.setPage("terapia-respiratoria")}),m(Ft),m(xd)]},Je={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return ot.num==0&&setTimeout(function(){ot.num=ot.data.length,ot.parseFetch(),e.redraw.sync()},2e3),Je.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+ot.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Je.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=ot.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:ot.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Je.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Je.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Je.edad||Je.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Je.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Je.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Je.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},ot={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Je.secs.push(t.data[a])}),Je.secs.map(function(a,o,r){a.name=="nombres"&&(Je.nombres=a.answer),a.name=="apellidos_paciente"&&(Je.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Je.sexo=a.answer),a.name=="nhcl"&&(Je.nhcl=a.answer),a.name=="numero_admision"&&(Je.numero_admision=a.answer),a.name=="edad"&&(Je.edad=a.answer),a.name=="edad_paciente"&&(Je.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Je.identificacion=a.answer),a.name=="fecha_admision"&&(Je.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Je.ubicacion=a.answer),a.name=="fecha_alta"&&(Je.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Je.medico_tratante=a.answer)})),parseFetch:()=>(Je.secs=[],ot.data.map(function(t,a,o){ot.parseDoc(ot.data[a])})),fetch:()=>{ot.data=[],ot.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+ot.nhc+"&adm="+ot.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(ot.data=t,ot.num=0):ot.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){ot.fetch()},5e3)})},view:()=>ot.error?[e(".alert.alert-danger[role='alert']",ot.error)]:ot.data.length!==0?[e(Je)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Qt={data:[],detalle:[],error:"",showFor:"",fetch:()=>{Qt.data=[],Qt.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Ce.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(Qt.data=t.data,ot.adm=Qt.data[0].ADM,ot.nhc=Qt.data[0].NHCL,ot.fetch()):Qt.error=t.message}).catch(function(t){setTimeout(function(){Qt.fetch()},5e3)})},view:()=>Qt.error?[e(".alert.alert-danger[role='alert']",Qt.error)]:Qt.data.length!==0?[e(ot)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},wd={view:()=>{if(Ce.examenes.length!==0)return Ce.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),e("br"),t.OBS_EXAMEN!==null?e(".d-inline","Observaciones:"):"",t.OBS_EXAMEN!==null?e("br"):"",t.OBS_EXAMEN!==null?e(".d-inline",t.OBS_EXAMEN):""]})}},Ce={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{N.isAuth(),t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedidos N\xB0: "+t.attrs.numeroPedido+" | "+N.title,(Ce.data!==void 0&&Ce.data.length==0||Ce.numeroPedido!==t.attrs.numeroPedido)&&(Ce.numeroPedido=t.attrs.numeroPedido,Ce.numeroAtencion=t.attrs.numeroAtencion,Ce.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,Ce.fetch()))},fetch:()=>{Ce.data=[],Ce.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-tr",body:{numeroPedido:Ce.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(Ce.loader=!1,Ce.data=t.data,Ce.examenes=t.examenes,Qt.fetch()):Ce.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("imagen")}),e(Ft,{oncreate:Ft.setPage(24)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/terapia-respiratoria"},["Terapia Respiratoria"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+Ce.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{Ce.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{Ce.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{Ce.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{Ce.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{J.idFiltro!==void 0&&J.idFiltro>1?e.route.set("/terapia-respiratoria/pedidos/",{idFiltro:J.idFiltro,fechaDesde:J.fechaDesde,fechaHasta:J.fechaHasta}):e.route.set("/terapia-respiratoria/pedidos/",{idFiltro:1})}}))),Ce.data.TIPO_PEDIDO=="N"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Pedido:"),e("td",{style:{"background-color":"#eaeff5"}},Ce.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ce.data.FECHA_PEDIDO+" "+Ce.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ce.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ce.data.MED_MV),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ce.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ce.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},Ce.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ce.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},Ce.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},Ce.data.PESO),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},Ce.data.ALTURA),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ce.data.SECTOR+" "+Ce.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(wd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(Qt)])]))]),e("tr.d-print-none",[])])])])])])])])]))]},_d={view:()=>{let t=Qe.getDataUser();if(t.length!==0)return[t.modulesAccess.endoscopia.map(function(a,o,r){return[m(m.route.Link,{href:"/"+a.href,class:$t.page==a.idModulo?"active":""},[a.label])]})]}},$t={page:"",setPage:t=>{$t.page=t},view:()=>[m(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[m("div.sidebar-header",[m("a[href=''][id='mainMenuOpen']",m("i[data-feather='menu']")),m("h5","Menu"),m("a[href=''][id='sidebarMenuClose']",m("i[data-feather='x']"))]),m("div.sidebar-body",m("ul.sidebar-nav",[m("li.nav-label.mg-b-15","Endoscop\xEDa"),m("li.nav-item.show",[m(m.route.Link,{href:"/endoscopia",class:"nav-link with-sub"},[m("i[data-feather='layout']")," Endoscop\xEDa "]),m("nav.nav",[m(_d)])])]))])]},Pd={view:()=>[m("div.content.content-components",m("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[m("ol.breadcrumb.df-breadcrumbs.mg-b-10",[m("li.breadcrumb-item",m(m.route.Link,{href:"/"},["MetroPlus"])),m("li.breadcrumb-item.active[aria-current='page']","Endoscop\xEDa")]),m("h1.df-title.mg-t-20.mg-b-10","Endoscop\xEDa:"),m("div.row.tx-14",[N.isShow("endoscopia",25)?[m("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{m.route.set("/endoscopia/pedidos")}},[m("div",{class:"media"},[m("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},m("i",{class:"fas fa-inbox tx-30 tx-white"})),m("div",{class:"media-body mg-l-15"},[m("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),m("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Recepci\xF3n de Pedidos")])])])]:[]])]))]},Md={oninit:()=>{_.page="",$t.page="",N.isAuth()},oncreate:()=>{document.title="Endoscop\xEDa | "+N.title},view:()=>[m(_,{oncreate:_.setPage("endoscopia")}),m($t),m(Pd)]};function Ed(){return{interval:null,seconds:100,isPaused:!1}}const Ga={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ga.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Ga.start(t):Ga.stop(t),t.isPaused=!t.isPaused}};function Dd(){const t=Ed();return Ga.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Ga.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Ga.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ga.stop(t)}}}const Td={oncreate:()=>{if(X.loadPedidos(),X.searchField.length!==0){var t=$("#table-pedidos").DataTable();t.search(X.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Pedidos de Endoscop\xEDa:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{X.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),X.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),X.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),X.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),X.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")},onupdate:t=>{X.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),X.idFiltro==2&&(t.dom.innerHTML="Pedidos entre Fechas"),X.idFiltro==3&&(t.dom.innerHTML="Pedidos de Emergencia"),X.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa"),X.idFiltro==5&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n")}})),e("div.d-flex.tx-14",[e(".",{class:X.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=X.idFiltro!==1?moment(moment(X.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{X.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),X.loader=!0,X.pedidos=[],X.fetchPedidos(),e.route.set("/endoscopia/pedidos?idFiltro="+X.idFiltro+"&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=X.idFiltro!==1?moment(moment(X.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{X.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),X.loader=!0,X.pedidos=[],X.fetchPedidos(),e.route.set("/endoscopia/pedidos?idFiltro="+X.idFiltro+"&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/imagen/pedidos/?idFiltro=2&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta},["Pedidos entre Fechas"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=3&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=4&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta},["Pedidos de C. Externa"]),e(e.route.Link,{class:"dropdown-item d-none",href:"/imagen/pedidos/?idFiltro=5&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta},["Pedidos de Hospitalizaci\xF3n"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:X.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){X.searchField=t.target.value},value:X.searchField}))]),e("table.table.table-sm.tx-11[id='table-pedidos'][width='100%']")])])])},X={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{$t.page="",X.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),X.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),X.fechaHasta=moment().format("DD-MM-YYYY"),X.loader=!0,X.pedidos=[],X.fetchPedidos())},oncreate:t=>{yt.suscribirCanal("MetroPlus-Endoscopia")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-pedidos").DataTable({data:X.pedidos,dom:"ltp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!1,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.CD_PRE_MED},visible:!1,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!1,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!1,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.MED_MV},visible:!1,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){X.loader=!1,a.aoData.map(function(o){$(o.anCells[5]).css("padding","0").css("background-color","#f7fafe"),e.mount(o.anCells[5],{view:function(){return[e("div.d-flex",{},[e("div.pd-0.flex-grow-1",e("div.pd-2",{style:{"background-color":"rgb(168, 190, 214)"}},e("i.fas.fa-file-alt.tx-semibold.tx-15.pd-2.mg-r-5"),e(".d-inline.tx-15.mg-r-5",o._aData.CD_PRE_MED),e("i.fas.fa-hospital.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," SECTOR: "),e(".d-inline.tx-12.mg-r-5",o._aData.SECTOR+" "+o._aData.UBICACION),e("i.fas.fa-user-md.tx-semibold.tx-12.pd-2"),e(".tx-semibold.d-inline.tx-12"," MED: "),o._aData.MED_MV)),e("div.pd-2.tx-medium.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},o._aData.EDAD+" - "+o._aData.PESO+" - "+o._aData.ALTURA)]),e("div.d-flex.mg-b-20",{style:{"background-color":"rgb(234, 239, 245)"}},[e("div.pd-0.flex-grow-1",e("td.wd-1p.tx-white",{style:{"background-color":o._aData.SECTOR=="EMERGENCIA"?"#f10075":"#0168fa"}},o._aData.SECTOR=="EMERGENCIA"?"E":"H"),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"FECHA:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.FECHA_PEDIDO+" "+o._aData.HORA_PEDIDO),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"NHC:"),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.CD_PACIENTE),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"N\xB0 AT.: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.AT_MV),e("td.tx-10.tx-semibold",{style:{"background-color":"rgb(168, 190, 214)"}},"PTE: "),e("td",{style:{"background-color":"rgb(234, 239, 245)"}},o._aData.NM_PACIENTE)),e("div.pd-0.mg-l-auto",{style:{"background-color":"rgb(168, 190, 214)"}},e("td.tx-10",{style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"},onclick:()=>{e.route.set("/endoscopia/pedido/",{numeroHistoriaClinica:o._aData.CD_PACIENTE,numeroAtencion:o._aData.AT_MV,numeroPedido:o._aData.CD_PRE_MED,track:"view"})}},e(".tx-normal",e("i.fas.fa-file-alt.pd-1.mg-r-2"),"Ver Pedido")))])]}})})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";X.idFiltro==1?t="?idFiltro="+X.idFiltro:t="?idFiltro="+X.idFiltro+"&fechaDesde="+X.fechaDesde+"&fechaHasta="+X.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/endoscopia/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){X.loader=!1,X.pedidos=a.data}).catch(function(a){setTimeout(function(){X.fetchPedidos()},2e3)})},reloadData:()=>{var t=$("#table-pedidos").DataTable();t.clear(),t.rows.add(X.pedidos).draw()},view:t=>X.loader?[e($t,{oncreate:$t.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:X.error.length!==0?[e($t,{oncreate:$t.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("p","No existe infrmac dd ncin")])]))]:!X.loader&&X.pedidos.length!==0?[e($t,{oncreate:$t.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e(Td)])),e("div.section-nav",[e("label.nav-label","RECEPCI\xD3N DE PEDIDOS"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","N\xB0 de Pedidos:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",X.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(Dd)))])]:!X.loader&&X.pedidos.length==0?[e($t,{oncreate:$t.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e($t,{oncreate:$t.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa "])),e("li.breadcrumb-item.active[aria-current='page']","Recepci\xF3n de Pedidos")]),e("h1.df-title.mg-t-20.mg-b-10","Recepci\xF3n de Pedidos:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},ze={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return rt.num==0&&setTimeout(function(){rt.num=rt.data.length,rt.parseFetch(),e.redraw.sync()},2e3),ze.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+rt.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[ze.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=rt.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:rt.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",ze.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",ze.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",ze.edad||ze.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",ze.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",ze.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",ze.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},rt={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){ze.secs.push(t.data[a])}),ze.secs.map(function(a,o,r){a.name=="nombres"&&(ze.nombres=a.answer),a.name=="apellidos_paciente"&&(ze.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(ze.sexo=a.answer),a.name=="nhcl"&&(ze.nhcl=a.answer),a.name=="numero_admision"&&(ze.numero_admision=a.answer),a.name=="edad"&&(ze.edad=a.answer),a.name=="edad_paciente"&&(ze.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(ze.identificacion=a.answer),a.name=="fecha_admision"&&(ze.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(ze.ubicacion=a.answer),a.name=="fecha_alta"&&(ze.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(ze.medico_tratante=a.answer)})),parseFetch:()=>(ze.secs=[],rt.data.map(function(t,a,o){rt.parseDoc(rt.data[a])})),fetch:()=>{rt.data=[],rt.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+rt.nhc+"&adm="+rt.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(rt.data=t,rt.num=0):rt.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){rt.fetch()},5e3)})},view:()=>rt.error?[e(".alert.alert-danger[role='alert']",rt.error)]:rt.data.length!==0?[e(ze)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},ea={data:[],detalle:[],error:"",showFor:"",fetch:()=>{ea.data=[],ea.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:Ne.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(ea.data=t.data,rt.adm=ea.data[0].ADM,rt.nhc=ea.data[0].NHCL,rt.fetch()):ea.error=t.message}).catch(function(t){setTimeout(function(){ea.fetch()},5e3)})},view:()=>ea.error?[e(".alert.alert-danger[role='alert']",ea.error)]:ea.data.length!==0?[e(rt)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},Ad={view:()=>{if(Ne.examenes.length!==0)return Ne.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),t.OBS_EXAMEN!==null?[e("br"),e(".d-inline","Observaciones:"),e("br"),e(".d-inline",t.OBS_EXAMEN),e("br"),e("br")]:""]})}},Ne={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedido N\xB0: "+t.attrs.numeroPedido+" | "+N.title,(Ne.data!==void 0&&Ne.data.length==0||Ne.numeroPedido!==t.attrs.numeroPedido)&&(Ne.numeroPedido=t.attrs.numeroPedido,Ne.numeroAtencion=t.attrs.numeroAtencion,Ne.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,Ne.fetch()))},fetch:()=>{Ne.data=[],Ne.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-endoscopia",body:{numeroPedido:Ne.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(Ne.loader=!1,Ne.data=t.data,Ne.examenes=t.examenes,ea.fetch()):Ne.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("endoscopia")}),e($t,{oncreate:$t.setPage(25)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/endoscopia"},[" Endoscop\xEDa"])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+Ne.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{Ne.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{Ne.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{Ne.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{Ne.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{X.idFiltro!==void 0&&X.idFiltro>1?e.route.set("/endoscopia/pedidos/",{idFiltro:X.idFiltro,fechaDesde:X.fechaDesde,fechaHasta:X.fechaHasta}):e.route.set("/endoscopia/pedidos/",{idFiltro:1})}}))),e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de EndoPedido:"),e("td",{style:{"background-color":"#eaeff5"}},Ne.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ne.data.FECHA_PEDIDO+" "+Ne.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ne.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ne.data.MED_MV),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Ne.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ne.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},Ne.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Ne.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},Ne.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},Ne.data.PESO),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},Ne.data.ALTURA),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Ne.data.SECTOR+" "+Ne.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(Ad))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(ea)])]))]),e("tr.d-print-none",[])])])])])])])])]))]},Ge={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return it.num==0&&setTimeout(function(){it.num=it.data.length,it.parseFetch(),e.redraw.sync()},2e3),Ge.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+it.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Ge.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=it.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:it.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Ge.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Ge.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Ge.edad||Ge.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Ge.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Ge.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Ge.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},it={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Ge.secs.push(t.data[a])}),Ge.secs.map(function(a,o,r){a.name=="nombres"&&(Ge.nombres=a.answer),a.name=="apellidos_paciente"&&(Ge.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Ge.sexo=a.answer),a.name=="nhcl"&&(Ge.nhcl=a.answer),a.name=="numero_admision"&&(Ge.numero_admision=a.answer),a.name=="edad"&&(Ge.edad=a.answer),a.name=="edad_paciente"&&(Ge.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Ge.identificacion=a.answer),a.name=="fecha_admision"&&(Ge.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Ge.ubicacion=a.answer),a.name=="fecha_alta"&&(Ge.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Ge.medico_tratante=a.answer)})),parseFetch:()=>(Ge.secs=[],it.data.map(function(t,a,o){it.parseDoc(it.data[a])})),fetch:()=>{it.data=[],it.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+it.nhc+"&adm="+it.adm,headers:{Authorization:localStorage.accessToken}}).then(function(t){t.length!==0?(it.data=t,it.num=0,e.redraw()):it.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){it.fetch()},5e3)})},view:()=>it.error?[e(".alert.alert-danger[role='alert']",it.error)]:it.data.length!==0?[e(Ge)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},ta={data:[],detalle:[],error:"",showFor:"",fetch:()=>{ta.data=[],ta.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:ce.data.PedidoExameLab.paciente.codigoPaciente+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(ta.data=t.data,it.adm=ta.data[0].ADM,it.nhc=ta.data[0].NHCL,it.fetch()):ta.error=t.message}).catch(function(t){setTimeout(function(){ta.fetch()},5e3)})},view:()=>ta.error?[e(".alert.alert-danger[role='alert']",ta.error)]:ta.data.length!==0?[e(it)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},kd={view:()=>{if(ce.examenes!==0)return ce.examenes.Exame.length==null&&(ce.examenes.Exame=[ce.examenes.Exame]),ce.examenes.Exame.map(function(t,a,o){return t.operacao=="E"?[e(".tx-14.tx-semibold.tx-danger.d-inline",a+1+": "+t.descExame+" - "+t.codigoExameFaturamento),e("br")]:[e(".tx-14.tx-semibold.d-inline",a+1+": "+t.descExame+" - "+t.codigoExameFaturamento),e("br")]})}},_e={error:"",documento:[],data:[],dataLisa:[],dataMuestras:[],fetch:()=>{_e.error="",_e.data=[],_e.documento=[],e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/status-pedido-lisa",body:{numeroPedido:ce.numeroPedido,idTimeRecord:ce.idTimeRecord},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(ce.loader=!1,ce.data=t.data.pedido,ce.examenes=t.data.pedido.PedidoExameLab.listaExame,_e.documento=t.data,_e.data=t.data.dataTomaMuestra.examenesToma,_e.dataMuestras=t.data.dataRecepcion.examenesRecep,_e.documento.dataTomaMuestra.insumosToma=t.data.dataTomaMuestra.insumosToma,_e.documento.dataTomaMuestra.fechaToma.length!==0&&(jt.disabledToma=!0,jt.checkedAll=!0),ta.fetch(),zt.fetch(),ra.fetch()):ce.error=t.message}).catch(function(t){})}},w={tuboLila:0,tuboRojo:0,tuboCeleste:0,tuboNegro:0,tuboVerde:0,gsav:0,hemocultivo:0,qtb:0},ra={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:()=>{moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-observaciones").DataTable({data:ra.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return o._aData.title=="Nuevo Mensaje"?e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)])):e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto",o._aData.title),e("small.tx-white",moment.unix(o._aData.timestamp).format("HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t},reloadObservaciones:()=>{var t=$("#table-observaciones").DataTable();t.clear(),t.rows.add(ra.data).draw()},fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/notificaciones-pedido/"+ce.numeroPedido}).then(function(t){ra.data=t.data,ra.loadObservaciones()}).catch(function(t){})},sendNotiLab:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/noti-eme/"+ce.numeroPedido,body:{message:ra.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(ra.observaciones="",ra.fetch(),alert("Observaci\xF3n registrada con \xE9xito."))}).catch(function(t){EditarPedido.error=t.message})}},jt={checkedAll:!1,disabledToma:!1,disabledInsumos:!1,oncreate:()=>{_e.documento.dataTomaMuestra.insumosToma.length!==0&&(w.tuboLila=_e.documento.dataTomaMuestra.insumosToma.tuboLila,w.tuboRojo=_e.documento.dataTomaMuestra.insumosToma.tuboRojo,w.tuboCeleste=_e.documento.dataTomaMuestra.insumosToma.tuboCeleste,w.tuboNegro=_e.documento.dataTomaMuestra.insumosToma.tuboNegro,w.tuboVerde=_e.documento.dataTomaMuestra.insumosToma.tuboVerde,w.gsav=_e.documento.dataTomaMuestra.insumosToma.gsav,w.hemocultivo=_e.documento.dataTomaMuestra.insumosToma.hemocultivo,w.qtb=_e.documento.dataTomaMuestra.insumosToma.qtb)},seleccionarTodos:t=>{jt.checkedAll=t;var a=moment().format("DD-MM-YYYY HH:mm");return _e.data.map(function(o,r,i){t?(_e.data[r].STATUS_TOMA="1",_e.data[r].FECHA_TOMA=a,_e.data[r].customCheked=!0):(_e.data[r].STATUS_TOMA="",_e.data[r].FECHA_TOMA="",_e.data[r].customCheked=!1)})},validarUpdateMuestras:()=>{for(var t=0,a=0;a<_e.data.length;a++)_e.data[a].STATUS_TOMA.length!==0&&t++;if(t==0)throw alert("El regisro de Toma de (Muestra) e Insumos en necesario."),"El regisro de Toma de (Muestra) e Insumos en necesario.";var o=0;if(w.tuboLila!==0&&o++,w.tuboRojo!==0&&o++,w.tuboCeleste!==0&&o++,w.tuboNegro!==0&&o++,w.tuboVerde!==0&&o++,w.gsav!==0&&o++,w.hemocultivo!==0&&o++,w.qtb!==0&&o++,o===0)throw console.log(o),alert("El regisro de Toma de Muestra e (Insumos) en necesario."),"El regisro de Toma de Muestra e (Insumos) en necesario."},udpateStatusTomaMuestra:()=>{_e.documento.dataTomaMuestra.insumosToma=w,e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/up-toma-status-pedido-lab",body:{documento:JSON.stringify(_e.documento)},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){_e.documento=t.data,_e.data=t.data.dataTomaMuestra.examenesToma,_e.documento.dataTomaMuestra.insumosToma=t.data.dataTomaMuestra.insumosToma}).catch(function(t){})},view:()=>_e.error?[e("p.mg-0",_e.error)]:_e.data.length!==0?[e("div.bg-white.bd.d-flex.flex-column.justify-content-end",[jt.disabledToma?[e("p.mg-5.tx-right",[e("button.btn.btn-xs.btn-outline-secondary[type='button']",{onclick:()=>{jt.disabledToma=!1,jt.disabledInsumos=!1}},e("i.fas.fa-edit.mg-r-5")," EDITAR")])]:[],e(".",{style:{"pointer-events":jt.disabledToma?"none":"auto"}},[e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-dark.text-left.bg-light[colspan='2']","Toma de Muestra")]),e("tr",[e("th.text-left","EXAMEN"),e("th","CONFIRMACI\xD3N")])),e("tbody",[e("tr",[e("td.tx-normal",e("div.custom-control.custom-checkbox",[e("input.custom-control-input[type='checkbox'][id='selectTomaTodos']",{checked:jt.checkedAll,onclick:function(t){jt.seleccionarTodos(this.checked)}}),e("label.custom-control-label[for='selectTomaTodos']","Seleccionar Todos")])),e("td.tx-medium.text-right")]),_e.data.map(function(t,a,o){return[e("tr",[e("td.tx-18.tx-medium.text-left",t.NM_EXA_LAB),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='"+t.CD_EXA_LAB+"']",{checked:_e.data[a].customCheked,onupdate:function(r){this.checked=_e.data[a].customCheked},onclick:function(r){r.preventDefault();var i=this.checked;_e.data[a].customCheked=!_e.data[a].customCheked,i?(this.checked=!0,_e.data[a].STATUS_TOMA="1",_e.data[a].FECHA_TOMA=moment().format("DD-MM-YYYY HH:mm")):(this.checked=!1,jt.checkedAll=!1,_e.data[a].STATUS_TOMA="",_e.data[a].FECHA_TOMA="")}}),e("label.custom-control-label.tx-16[for='"+t.CD_EXA_LAB+"']",_e.data[a].STATUS_TOMA.length!==0?_e.data[a].FECHA_TOMA:_e.data[a].STATUS_TOMA)]))])]})])])),e("div.table-responsive.mg-b-10.mg-t-10",e("table.table.table-dashboard.table-hover.mg-b-0",[e("thead",e("tr",[e("th.text-dark.text-left.bg-light[colspan='2']","INSUMOS")]),e("tr",[e("th.text-left","INSUMOS"),e("th.text-left","CANTIDAD")])),e("tbody",[e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboLila']",{onclick:t=>{t.target.checked?w.tuboLila=1:w.tuboLila=0},oncreate:t=>{w.tuboLila!==void 0&&w.tuboLila!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboLila!==void 0&&w.tuboLila!==0?w.tuboLila==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold.custom-control-label[for='tuboLila']","Tubo Lila")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboLila!==void 0&&w.tuboLila!==0?t.dom.innerText=w.tuboLila:t.dom.innerText=0},onupdate:t=>{w.tuboLila!==void 0&&w.tuboLila!==0?t.dom.innerText=w.tuboLila:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboLila++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboLila--,w.tuboLila<0&&(w.tuboLila=0)}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboRojo']",{onclick:t=>{t.target.checked?w.tuboRojo=1:w.tuboRojo=0},oncreate:t=>{w.tuboRojo!==void 0&&w.tuboRojo!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboRojo!==void 0&&w.tuboRojo!==0?w.tuboRojo==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboRojo']","Tubo Rojo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboRojo!==void 0&&w.tuboRojo!==0?t.dom.innerText=w.tuboRojo:t.dom.innerText=0},onupdate:t=>{w.tuboRojo!==void 0&&w.tuboRojo!==0?t.dom.innerText=w.tuboRojo:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboRojo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboRojo--,w.tuboRojo<0&&(w.tuboRojo=0)}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboCeleste']",{onclick:t=>{t.target.checked?w.tuboCeleste=1:w.tuboCeleste=0},oncreate:t=>{w.tuboCeleste!==void 0&&w.tuboCeleste!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboCeleste!==void 0&&w.tuboCeleste!==0?w.tuboCeleste==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboCeleste']","Tubo Celeste")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboCeleste!==void 0&&w.tuboCeleste!==0?t.dom.innerText=w.tuboCeleste:t.dom.innerText=0},onupdate:t=>{w.tuboCeleste!==void 0&&w.tuboCeleste!==0?t.dom.innerText=w.tuboCeleste:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboCeleste++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboCeleste--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboNegro']",{onclick:t=>{t.target.checked?w.tuboNegro=1:w.tuboNegro=0},oncreate:t=>{w.tuboNegro!==void 0&&w.tuboNegro!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboNegro!==void 0&&w.tuboNegro!==0?w.tuboNegro==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboNegro']","Tubo Negro")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboNegro!==void 0&&w.tuboNegro!==0?t.dom.innerText=w.tuboNegro:t.dom.innerText=0},onupdate:t=>{w.tuboNegro!==void 0&&w.tuboNegro!==0?t.dom.innerText=w.tuboNegro:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboNegro++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboNegro--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='tuboVerde']",{onclick:t=>{t.target.checked?w.tuboVerde=1:w.tuboVerde=0},oncreate:t=>{w.tuboVerde!==void 0&&w.tuboVerde!==0&&(t.dom.checked=!0)},onupdate:t=>{w.tuboVerde!==void 0&&w.tuboVerde!==0?w.tuboVerde==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='tuboVerde']","Tubo Verde")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.tuboVerde!==void 0&&w.tuboVerde!==0?t.dom.innerText=w.tuboVerde:t.dom.innerText=0},onupdate:t=>{w.tuboVerde!==void 0&&w.tuboVerde!==0?t.dom.innerText=w.tuboVerde:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboVerde++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.tuboVerde--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='gsav']",{onclick:t=>{t.target.checked?w.gsav=1:w.gsav=0},oncreate:t=>{w.gsav!==void 0&&w.gsav!==0&&(t.dom.checked=!0)},onupdate:t=>{w.gsav!==void 0&&w.gsav!==0?w.gsav==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='gsav']","GSA V")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.gsav!==void 0&&w.gsav!==0?t.dom.innerText=w.gsav:t.dom.innerText=0},onupdate:t=>{w.gsav!==void 0&&w.gsav!==0?t.dom.innerText=w.gsav:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.gsav++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.gsav--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='hemocultivo']",{onclick:t=>{t.target.checked?w.hemocultivo=1:w.hemocultivo=0},oncreate:t=>{w.hemocultivo!==void 0&&w.hemocultivo!==0&&(t.dom.checked=!0)},onupdate:t=>{w.hemocultivo!==void 0&&w.hemocultivo!==0?w.hemocultivo==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='hemocultivo']","Hemocultivo")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.hemocultivo!==void 0&&w.hemocultivo!==0?t.dom.innerText=w.hemocultivo:t.dom.innerText=0},onupdate:t=>{w.hemocultivo!==void 0&&w.hemocultivo!==0?t.dom.innerText=w.hemocultivo:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.hemocultivo++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.hemocultivo--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])]),e("tr",[e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.tx-20.custom-control-input[type='checkbox'][id='qtb']",{onclick:t=>{t.target.checked?w.qtb=1:w.qtb=0},oncreate:t=>{w.qtb!==void 0&&w.qtb!==0&&(t.dom.checked=!0)},onupdate:t=>{w.qtb!==void 0&&w.qtb!==0?w.qtb==1&&(t.dom.checked=!0):t.dom.checked=!1}}),e("label.tx-20.tx-semibold..custom-control-label[for='qtb']","QTB")])),e("td.tx-16.tx-medium.text-left",[e(".btn-group.btn-group-sm.tx-16[role='group']",{},[e("button.btn[type='button']",e("div.tx-20.tx-semibold.bg-gray-300.pd-l-5.pd-r-5",{oncreate:t=>{w.qtb!==void 0&&w.qtb!==0?t.dom.innerText=w.qtb:t.dom.innerText=0},onupdate:t=>{w.qtb!==void 0&&w.qtb!==0?t.dom.innerText=w.qtb:t.dom.innerText=0}})),e("button.btn.btn[type='button']",{onclick:()=>{w.qtb++}},e("i.fas.fa-plus-circle.tx-22.tx-success")),e("button.btn.btn[type='button']",{onclick:()=>{w.qtb--}},e("i.fas.fa-minus-circle.tx-22.tx-danger"))])])])])])),jt.disabledToma?[e("p.mg-5.",[_e.documento.dataTomaMuestra.fechaToma.length!==0?[e("span.badge.badge-light.tx-right.wd-100p.tx-14","Toma de Muestra: FLEBOT1 "+_e.documento.dataTomaMuestra.fechaToma)]:[]])]:[e("div.pd-10",[e("button.btn.btn-xs.btn-primary.btn-block.tx-semibold[type='button']",{disabled:jt.disabledToma,onclick:()=>{jt.validarUpdateMuestras();var t=moment().format("DD-MM-YYYY HH:mm");_e.documento.dataTomaMuestra.usuarioToma="flebot1",_e.documento.dataTomaMuestra.fechaToma=t,jt.disabledToma=!0,jt.udpateStatusTomaMuestra()}},"Guardar Registro")])]])])]:[e("div.pd-t-10",[e("div.placeholder-paragraph.wd-100p",[e("div.line"),e("div.line")])])]},zt={showLogs:"",dataXML:"",logsEnvio:[],examenes:[],oninit:()=>{zt.examenes=[]},agregarExamen:t=>{var a=!1;zt.examenes.map(function(o,r,i){zt.examenes[r].codigoExame==t.CD_EXA_LAB&&(a=!0)}),a||ce.examenes.Exame.map(function(o,r,i){ce.examenes.Exame[r].codigoExame==t.CD_EXA_LAB&&zt.examenes.push(ce.examenes.Exame[r])}),console.log(zt.examenes)},eliminarExamen:t=>{var a=!1,o=null;zt.examenes.map(function(r,i,s){zt.examenes[i].codigoExame==t.CD_EXA_LAB&&(a=!0,o=i)}),a&&(zt.examenes.splice(o,1),console.log(zt.examenes))},generarXML:()=>{let t={Exame:zt.examenes},a=moment().format("YYYY-MM-DD HH:mm:ss");ce.data.Cabecalho.mensagemID=moment().unix(),ce.data.Cabecalho.dataHora=a,ce.data.PedidoExameLab.listaExame=t,ce.data.PedidoExameLab.operacao="I";let o=or(ce.data);console.log("documento",ce.data),console.log("xmlRes",o),zt.sendXML(o,ce.numeroPedido,a)},sendXML:(t,a,o)=>{e.request({method:"POST",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido",body:{data:t,sc:a,idTimeRecord:o},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(r){setTimeout(function(){alert("Proceso realizado con \xE9xito."),window.location.reload()},2e3),console.log("result",r)}).catch(function(r){})},fetch:()=>{zt.logsEnvio=[],e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/logs-envio-pedido-lisa?numeroPedido="+ce.numeroPedido,headers:{Authorization:localStorage.accessToken}}).then(function(t){console.log(t),zt.logsEnvio=t.data}).catch(function(t){})}},ce={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",idTimeRecord:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&t.attrs.idTimeRecord!==void 0&&(document.title="Detalle de Pedido N\xB0: "+t.attrs.numeroPedido+" | "+N.title,ce.numeroPedido=t.attrs.numeroPedido,ce.numeroAtencion=t.attrs.numeroAtencion,ce.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,ce.idTimeRecord=t.attrs.idTimeRecord,ce.fetch())},fetch:()=>{ce.data=[],ce.loader=!0,_e.fetch()},view:t=>{if(ce.data.length!==0){let a=moment(ce.data.PedidoExameLab.paciente.dataNascimento),o=moment();ce.data.PedidoExameLab.paciente.anios=o.diff(a,"years")}return ce.loader?[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ce.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:[e(_,{oncreate:_.setPage("laboratorio")}),e(de,{oncreate:de.setPage(16)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Detalle de Pedido")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+ce.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{ce.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{ce.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{ce.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{ce.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{K.idFiltro!==void 0&&K.idFiltro>1?e.route.set("/laboratorio/flebotomista/",{idFiltro:K.idFiltro,fechaDesde:K.fechaDesde,fechaHasta:K.fechaHasta}):e.route.set("/laboratorio/flebotomista/",{idFiltro:1})}}))),ce.data.PedidoExameLab.tipoSolicitacao=="R"?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-primary mg-b-2 mg-r-2"},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Normal")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-danger mg-b-2 mg-r-2 "},[e("i.fas.fa-file-alt.mg-r-5")],"Pedido Urgente")],e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Pedido:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.codigoPedido),e("th",{style:{"background-color":"#a8bed6"}},"Fecha Pedido:",e("br"),e(".d-inline.tx-danger","Fecha Toma de Muestra:")),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.dataExame,e("br"),ce.data.PedidoExameLab.dataExame),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.descSetorSolicitante)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.descPrestadorSolicitante),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.descPrestadorSolicitante)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='5']",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.nome),e("th",{style:{"background-color":"#a8bed6"}},"Edad:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.anios+" A\xF1o(s)"),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.codigoPaciente)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.atendimento.codigoAtendimento),e("th",{style:{"background-color":"#a8bed6"}},"Sexo:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.sexo),e("th",{style:{"background-color":"#a8bed6"}},"F. de Nac.:"),e("td",{style:{"background-color":"#eaeff5"}},ce.data.PedidoExameLab.paciente.dataNascimento),e("th",{style:{"background-color":"#a8bed6"}},"Dg:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},(ce.data.PedidoExameLab.diagnostico.codigoDiagnostico.length==null?"":"CIE: "+ce.data.PedidoExameLab.diagnostico.codigoDiagnostico)+(ce.data.PedidoExameLab.diagnostico.dsDiagostico.length==null?"":" - "+ce.data.PedidoExameLab.diagnostico.dsDiagostico))]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='10']","EX\xC1MENES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e(kd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='10']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='10']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),e("li.nav-item",e("a.nav-link[id='home-muestra'][data-toggle='tab'][href='#muestra'][role='tab'][aria-controls='muestra']",{style:{color:"#476ba3"}},e("i.fas.fa-edit.pd-1.mg-r-2")," TOMA DE MUESTRA ")),e("li.nav-item",e("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},e("i.fas.fa-inbox.pd-1.mg-r-2")," COMENTARIOS "))]))]),e("tr.d-print-none",[e("td[colspan='10']",e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(ta)]),e(".tab-pane.fade[id='muestra'][role='tabpanel'][aria-labelledby='home-muestra']",[e(jt)]),e(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Observaciones"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(a){ra.observaciones=a.target.value},value:ra.observaciones}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){ra.observaciones.length!==0?ra.sendNotiLab():alert("Observaciones es obligatorio.")}},[e("i.fas.fa-paper-plane.mg-r-5")],"Guardar")]),e("hr.wd-100p.mg-t-5.mg-b-5")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),e("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),e("tr.d-print-none",[])])])])])])])])]))]}};function or(t){let a="";for(let o in t){if(a+=t[o]instanceof Array?"":"<"+o+">",t[o]instanceof Array)for(let r in t[o])a+=`
<`+o+`>
`,a+=or(new Object(t[o][r])),a+="</"+o+">";else typeof t[o]=="object"?a+=or(new Object(t[o])):a+=t[o];a+=t[o]instanceof Array?"":"</"+o+`>
`}return a=a.replace(/<\/?[0-9]{1,}>/g,""),a}const Sd={view:()=>{Qe.getDataUser();let t={modulesAccess:{patologia:[{idUser:"159",rol:"1",idModulo:"26",modulo:"patologia",href:"patologia/pedidos",label:"Recepci\xF3n de Pedidos"},{idUser:"159",rol:"1",idModulo:"27",modulo:"patologia",href:"patologia/gestionPlantillaMacroscopico",label:"Gesti\xF3n Plantillas Macr\xF3scopico"},{idUser:"159",rol:"1",idModulo:"28",modulo:"patologia",href:"patologia/gestionPlantillaDiagnostico",label:"Gesti\xF3n Plantillas Diagn\xF3stico"},{idUser:"159",rol:"1",idModulo:"29",modulo:"patologia",href:"patologia/gestionFirmas",label:"Firma Pat\xF3logo"}]}};if(t.length!==0)return[t.modulesAccess.patologia.map(function(a,o,r){return[e(e.route.Link,{href:"/"+a.href,class:pt.page==parseInt(a.idModulo)?"active":""},[a.label])]})]}},pt={page:"",setPage:t=>{pt.page=t},view:()=>[e(".sidebar.sidebar-fixed.sidebar-components[id='sidebarMenu']",[e("div.sidebar-header",[e("a[href=''][id='mainMenuOpen']",e("i[data-feather='menu']")),e("h5","Menu"),e("a[href=''][id='sidebarMenuClose']",e("i[data-feather='x']"))]),e("div.sidebar-body",e("ul.sidebar-nav",[e("li.nav-label.mg-b-15","Patolog\xEDa"),e("li.nav-item.show",[e(e.route.Link,{href:"/patologia",class:"nav-link with-sub"},[e("i[data-feather='layout']")," Patolog\xEDa "]),e("nav.nav",[e(Sd)])])]))])]},Cd={view:()=>[e("div.content.content-components",e("div.container",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},["MetroPlus"])),e("li.breadcrumb-item.active[aria-current='page']","Patolog\xEDa")]),e("h1.df-title.mg-t-20.mg-b-10","Patolog\xEDa:"),e("div.row.tx-14",[N.isShow("patologia",26)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/patologia/pedidos")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-inbox tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Recepci\xF3n de Pedidos"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Pedidos")])])])]:[],N.isShow("patologia",26)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/patologia/gestionPlantillaMacroscopico")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-stream tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Gesti\xF3n Plantillas Macr\xF3scopico"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Plantillas Macr\xF3scopico")])])])]:[],N.isShow("patologia",26)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/patologia/gestionPlantillaDiagnostico")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-stream tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Gesti\xF3n Plantillas Diagn\xF3stico"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ir a Plantillas Diagn\xF3stico")])])])]:[],N.isShow("patologia",26)?[e("li",{class:"list-item bg-white wd-100p",style:{cursor:"pointer"},onclick:()=>{e.route.set("/patologia/gestionFirmas")}},[e("div",{class:"media"},[e("div.wd-60.tx-center",{class:"pd-10 bg-litecoin"},e("i",{class:"fas fa-cog tx-30 tx-white"})),e("div",{class:"media-body mg-l-15"},[e("p",{class:"tx-18 mg-b-0"},"Firma Pat\xF3logo"),e("p",{class:"mg-b-0 tx-11 tx-color-03 tx-medium tx-spacing-1 tx-sans"},"Ver Firma Pat\xF3logo")])])])]:[]])]))]},Id={oninit:()=>{_.page="",pt.page="",N.isAuth()},oncreate:()=>{document.title="Patologia | "+N.title},view:()=>[e(_,{oncreate:_.setPage("patologia")}),e(pt),e(Cd)]},pa={view:function(t){return[e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[t.children.map(function(a){return a.path==""?e("li.breadcrumb-item.active[aria-current='page']",a.label):e("li.breadcrumb-item",e(e.route.Link,{href:a.path},[a.label]))})])])]}};function Nd(){return{interval:null,seconds:100,isPaused:!1}}const Xa={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Xa.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Xa.start(t):Xa.stop(t),t.isPaused=!t.isPaused}};function Rd(){const t=Nd();return Xa.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Xa.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Xa.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Xa.stop(t)}}}const Ld={oncreate:()=>{I.loadPedidos(),I.searchField.length!==0&&$("#table-PatologiaPedidos").DataTable().search(I.searchField).draw()},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Patolog\xEDa:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{I.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),I.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),I.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n "),I.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa ")},onupdate:t=>{I.idFiltro==1&&(t.dom.innerHTML="Pedidos de Hoy"),I.idFiltro==2&&(t.dom.innerHTML="Pedidos de Emergencia"),I.idFiltro==3&&(t.dom.innerHTML="Pedidos de Hospitalizaci\xF3n "),I.idFiltro==4&&(t.dom.innerHTML="Pedidos de C. Externa ")}})),e("div.d-flex.tx-14",[e(".",{class:I.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=I.idFiltro!==1?moment(moment(I.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{I.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),e.route.set("/patologia/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=I.idFiltro!==1?moment(moment(I.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{I.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),e.route.set("/patologia/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=2&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=3&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=4&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de C. Externa"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:I.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){I.searchField=t.target.value},value:I.searchField}))]),e("table.table.table-sm.tx-11[id='table-PatologiaPedidos'][width='100%']")])])])},I={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{pt.page="",I.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),I.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),I.fechaHasta=moment().format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos())},oncreate:t=>{yt.suscribirCanal("MetroPlus-PatologiaPedidos")},loadPedidos:()=>{$.fn.dataTable.ext.errMode="none";let t=$("#table-PatologiaPedidos").DataTable({data:I.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N\xB0:"},{title:"Fecha:"},{title:"Pres. N\xB0:"},{title:"Paciente:"},{title:"M\xE9dico:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.fechaPedido},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.codigoPedido},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return r.paciente},visible:!0,aTargets:[3],orderable:!1},{mRender:function(a,o,r){return r.descPrestadorSolicitante},visible:!0,aTargets:[4],orderable:!1},{mRender:function(a,o,r){return"OPCIONES"},visible:!0,aTargets:[5],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td.wd-5p",{class:o.TP_ATENDIMENTO=="I"?"bg-primary":"bg-danger"},[o.TP_ATENDIMENTO=="I"?e("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","I"):e("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","E")]),e("td.wd-10p",{style:{}},o.FECHA_PEDIDO+" "+o.HORA_PEDIDO),e("td.wd-10p",{style:{}},e("span.tx-semibold.tx-dark.tx-15.mg-b-1",o.CD_PRE_MED)),e("td.wd-40p",{style:{}},[e(".d-inline.mg-r-5",{class:o.SECTOR=="EMERGENCIA"?"tx-danger":"tx-primary"},o.SECTOR+" "+o.UBICACION),e("br"),"NHC: "+o.CD_PACIENTE+" ATENCI\xD3N N\xB0:"+o.AT_MV,e("br"),o.EDAD+" "+o.PESO+" "+o.ALTURA,e("br"),e(".d-inline.tx-semibold",o.NM_PACIENTE),e("br")]),e("td.wd-40p",{style:{}},o.MED_MV),e("td.tx-center.tx-semibold",{onclick:()=>{e.route.set("/patologia/pedido/",{numeroHistoriaClinica:o.CD_PACIENTE,numeroAtencion:o.AT_MV,numeroPedido:o.CD_PRE_MED,medico:o.MED_MV,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver Pedido ")]})},drawCallback:function(a){I.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchPedidos:()=>{let t="";I.idFiltro==1?t="?type=ingresadas&idFiltro="+I.idFiltro:t="?type=ingresadas&idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/patologia/pedidos"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){I.loader=!1,I.pedidos=a.data}).catch(function(a){setTimeout(function(){I.fetchPedidos()},2e3)})},reloadData:()=>{let t=$("#table-PatologiaPedidos").DataTable();t.clear(),t.rows.add(I.pedidos).draw()},view:t=>I.loader?[e(pt,{oncreate:pt.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:I.error.length!==0?[e(pt,{oncreate:pt.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!I.loader&&I.pedidos.length!==0?[e(pt,{oncreate:pt.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e(Ld)])),e("div.section-nav",[e("label.nav-label","Pedidos Ingresados"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pedidos Ingresados:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",I.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Pedido(s)")])])])),e("div.pd-20",e(Rd)))])]:!I.loader&&I.pedidos.length==0?[e(pt,{oncreate:pt.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div",{style:{width:"100%",height:"20px","margin-bottom":"20px"}},[e("div.d-flex.tx-14",[e(".",{class:I.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:a=>{a.dom.value=I.idFiltro!==1?moment(moment(I.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:a=>{I.fechaDesde=moment(moment(a.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),e.route.set("/patologia/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:a=>{a.dom.value=I.idFiltro!==1?moment(moment(I.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:a=>{I.fechaHasta=moment(moment(a.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),I.loader=!0,I.pedidos=[],I.fetchPedidos(),e.route.set("/patologia/pedidos?idFiltro="+I.idFiltro+"&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=1"},["Pedidos de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=2&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=3&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/patologia/pedidos/?idFiltro=4&fechaDesde="+I.fechaDesde+"&fechaHasta="+I.fechaHasta},["Pedidos de C. Externa"])])])])]),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(pt,{oncreate:pt.setPage(26)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},wa={view:()=>[e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])])]},wo={view:()=>[e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])])]};let ut="https://apipatologia.hospitalmetropolitano.org/",De={listado:[],examenes:[],error:"",secuencialMuestra:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",medico:"",loading:!1,cargarListado:function(t){De.loading=!0,e.request({method:"GET",url:ut+"api/v1/muestras?nopedidomv="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){De.listado=a.data,De.loading=!1}).catch(function(a){De.loading=!1,De.error=a,alert(De.error)})},cargarExamenes:t=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-patologia",body:{numeroPedido:t},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a.status?De.examenes=a.examenes:De.error=a.message}).catch(function(a){De.error=a,alert(De.error)})},generarSecuencial:function(){e.request({method:"GET",url:ut+"api/v1/muestras/obtenersecuencial",body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(t){De.secuencialMuestra=t.id+1}).catch(function(t){De.error=t,alert(De.error)})},guardar:t=>{e.request({method:"POST",url:ut+"api/v1/muestras?nopedidomv="+De.numeroPedido,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){De.cargarListado(De.numeroPedido),De.secuencialMuestra=""}).catch(function(a){De.error="Se produjo error guardando la muestra: "+a.response.message,alert(De.error)})},actualizar:t=>{e.request({method:"PUT",url:ut+"api/v1/muestras/"+t.id+"?nopedidomv="+De.numeroPedido,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){De.cargarListado(De.numeroPedido),De.secuencialMuestra=""}).catch(function(a){De.error="Se produjo error guardando la muestra: "+a.response.message,alert(De.error)})},asociarExamen:t=>{e.request({method:"POST",url:ut+"api/v1/asociacionexamenes?nopedidomv="+De.numeroPedido,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(){De.cargarListado(De.numeroPedido)}).catch(function(a){De.error="Se produjo error guardando la muestra: "+a.response.message,alert(De.error)})},eliminarExamenasociado:t=>{e.request({method:"DELETE",url:ut+"api/v1/asociacionexamenes/eliminarasociacion/"+t+"?nopedidomv="+De.numeroPedido,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(){De.cargarListado(De.numeroPedido)}).catch(function(a){De.error="Se produjo error guardando la muestra: "+a.response.message,alert(De.error)})}},kr=!0,Do=null;const mi={oninit:t=>{t.attrs.muestra!==void 0&&(Do=t.attrs.muestra,kr=Do.valida==="1")},onbeforeupdate:function(t){return!1},view:t=>[e("th.tx-12",[e("div",[e("label[for='checkvalida']",{style:{"margin-right":"6px"}},"V\xE1lida"),e("input[type='checkbox'][id='checkvalida']",{checked:kr,onclick:function(a){this.checked?e.mount(document.querySelector("#observacionesnovalida"),null):e.mount(document.querySelector("#observacionesnovalida"),{view:o=>e("textarea.form-control[id='inputobservacionesnovalida'][placeholder='Observaciones'][title='Observaciones']",{style:"min-height: 100px",rows:4,value:Do!==null?Do.observacionesmuestranovalida:""})})}})])])]};let Ca=De,Ia=null;const Fd={oninit:t=>{t.attrs.muestra!==void 0&&(Ia=t.attrs.muestra)},oncreate:t=>{Ia&&Ia.valida==="0"?e.mount(document.querySelector("#observacionesnovalida"),{view:a=>e("textarea.form-control[id='inputobservacionesnovalida'][placeholder='Observaciones'][title='Observaciones']",{style:"min-height: 100px",rows:4,value:Ia.observacionesmuestranovalida})}):e.mount(document.querySelector("#observacionesnovalida"),null)},view:t=>e("form#editar-muestra",[e("table.table",[e("tr",[e("th.tx-12","ID"),e("td.tx-12",[e("input.form-control[id='inputmuestraid'][type='text']",{disabled:!0,value:Ia.id})])]),e("tr.muestradescripcion",[e("th.tx-12","Descripci\xF3n"),e("td.tx-12",[e("textarea.form-control[id='inputmuestradescripcion'][placeholder='Descripci\xF3n'][title='Descripci\xF3n']",{style:"min-height: 100px",rows:4,value:Ia.descripcion})])]),e("tr",[e(mi,{muestra:Ia}),e("td.tx-12",[e("div#observacionesnovalida"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputmuestradescripcion.value.length===0)Ca.error="El campo Descripci\xF3n es Requerido",alert(Ca.error),t.dom.inputmuestradescripcion.focus();else if(!t.dom.checkvalida.checked&&t.dom.inputobservacionesnovalida.value.length===0)Ca.error="El campo Observaciones es Requerido, cuando la muestra no es v\xE1lida",alert(Ca.error),t.dom.inputobservacionesnovalida.focus();else{let a={id:parseInt(t.dom.inputmuestraid.value),nopedidomv:parseInt(De.numeroPedido),noatencionmv:parseInt(De.numeroAtencion),nohistoriaclinicamv:parseInt(De.numeroHistoriaClinica),descripcion:t.dom.inputmuestradescripcion.value,valida:t.dom.checkvalida.checked?1:0,observacionesmuestranovalida:t.dom.checkvalida.checked?null:t.dom.inputobservacionesnovalida.value};Ca.actualizar(a),e.mount(document.querySelector("#gestion-muestras"),null),e.mount(document.querySelector("#cerrar-gestion-muestras"),null),Ca.listado=[],Ca.loading=!0}},style:{margin:"6px 0"}},[e("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let Na=De,Aa=null;const Od={oninit:t=>{t.attrs.muestra!==void 0&&(Aa=t.attrs.muestra)},onbeforeupdate:function(t){return!1},view:t=>e("form#asociar-muestra",[e("table.table",[e("tr.thead-light",[e("th.tx-12.tx-semibold","ASOCIAR EX\xC1MENES"),e("th.tx-12.tx-semibold",[e("span.tx-12.pd-r-10","MUESTRA:  "+Aa.id),e("span.tx-12.pd-l-10.pd-r-10.mg-l-5","DESCRIPCION:  "+Aa.descripcion),e("span.tx-12.pd-l-10.pd-r-10.mg-l-5","VALIDA:  "+(Aa.valida==="1"?"S\xED":"NO"))])]),e("tr",[e("th.tx-12",{scope:"col"},"EX\xC1MENES"),e("td",[Na.examenes.map(function(a){return[e("div",[e("input[type='checkbox']",{checked:Aa.examenesAsociados.find(function(o){return o.codigoexamenmv===a.CD_TIP_PRESC})!==void 0,style:{float:"left","margin-top":"2px"},id:a.CD_TIP_PRESC,onclick:function(){if(this.checked){let o={idmuestra:parseInt(Aa.id),codigoexamenmv:a.CD_TIP_PRESC,nopedidomv:parseInt(De.numeroPedido),descripcion:a.EXAMEN,observaciones:a.OBS_EXAMEN,status:a.STATUS,tieneinforme:0};Na.asociarExamen(o),Na.listado=[],Na.loading=!0}else{let o=Aa.examenesAsociados.findIndex(function(r){return r.codigoexamenmv===a.CD_TIP_PRESC});o>=0&&(Na.eliminarExamenasociado(Aa.examenesAsociados[o].id),Na.listado=[],Na.loading=!0)}}}),e("label.tx-semibold.tx-12",{style:{margin:"0 10px"}},a.EXAMEN)])]})])])])])},rr={view:()=>[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",{style:{width:"50%",float:"right"}},e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{e.mount(document.querySelector("#gestion-muestras"),null),e.mount(document.querySelector("#cerrar-gestion-muestras"),null)}})))]};let Sr=De;const Cr={oninit:t=>{t.attrs.muestra!==void 0&&(Sr=t.attrs.muestra)},view:t=>[Sr.listado.map(function(a){return[e("tr#"+a.id,[e("th.tx-12.muestraid",{style:{width:"10%"}},a.id),e("td.tx-12.muestradescription",{style:{width:"30%"}},a.descripcion),e("td.tx-12.muestravalida",{style:{width:"5%"}},a.valida==="1"?"S\xED":"NO"),e("td.tx-12.examenes",{style:{width:"25%"}},[a.examenesAsociados.map(function(o){return[e("span.tx-12.pd-r-10",o.descripcion),e("br")]})]),e("td.tx-12",{style:{padding:"0",width:"30%"}},[e("div.mg-0.mg-t-5.text-left",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){e.mount(document.querySelector("#gestion-muestras"),{view:()=>e(Fd,{muestra:a})}),e.mount(document.querySelector("#cerrar-gestion-muestras"),rr)}},[e("i.fas.fa-edit.mg-r-5")],"Editar"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{disabled:a.valida!=="1",onclick:function(){e.mount(document.querySelector("#gestion-muestras"),{view:()=>e(Od,{muestra:a})}),e.mount(document.querySelector("#cerrar-gestion-muestras"),rr)}},[e("i.fas.fa-link.mg-r-5")],"Asociar Ex\xE1menes")])])])]})]};let kt=De;const Hd={oninit:t=>{t.attrs.numeroPedido!==void 0&&(kt.numeroPedido=t.attrs.numeroPedido,kt.cargarListado(kt.numeroPedido),kt.cargarExamenes(kt.numeroPedido)),t.attrs.numeroAtencion!==void 0&&(kt.numeroAtencion=t.attrs.numeroAtencion),t.attrs.numeroHistoriaClinica!==void 0&&(kt.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica),t.attrs.medico!==void 0&&(kt.medico=t.attrs.medico)},oncreate:t=>{kt.listado.length==0?e.mount(document.querySelector("div#loader"),wa):kt.listado.length>0&&(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-muestras"),{view:a=>[e(Cr,{muestra:kt})]}))},onupdate:t=>{document.querySelector("div#loader")&&(kt.listado.length==0&&kt.loading?e.mount(document.querySelector("div#loader"),wa):kt.listado.length>0&&!kt.loading?(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-muestras"),{view:a=>[e(Cr,{muestra:kt})]})):kt.listado.length==0&&!kt.loading&&e.mount(document.querySelector("div#loader"),wo))},view:t=>[e("table.table",{style:{margin:"0"}},[e("thead.thead-light",[e("tr",[e("th.tx-12",{scope:"col",style:{width:"10%"}},"ID"),e("th.tx-12",{scope:"col",style:{width:"30%"}},"Descripci\xF3n"),e("th.tx-12",{scope:"col",style:{width:"5%"}},"V\xE1lida"),e("th.tx-12",{scope:"col",style:{width:"25%"}},"Ex\xE1menes Asociados"),e("th.tx-12",{scope:"col",style:{width:"30%"}},"")])])]),e("table.table#listado-muestras",{style:{margin:"0"}}),e("div#loader",{style:{"margin-top":"10px","padding-left":"10px"}})]};let Pa=De;const $d={oninit:()=>{Pa.generarSecuencial()},view:t=>e("form#crear-muestra",[e("table.table",[e("tr",[e("th.tx-12","ID MUESTRA"),e("td.tx-12",[e("input.form-control[id='inputmuestraid'][type='text']",{disabled:!0,value:Pa.secuencialMuestra})])]),e("tr.muestradescripcion",[e("th.tx-12","Descripci\xF3n de la Muestra"),e("td.tx-12",[e("textarea.form-control[id='inputmuestradescripcion'][placeholder='Descripci\xF3n de la Muestra'][title='Descripci\xF3n de la Muestra']",{style:"min-height: 100px",rows:4})])]),e("tr",[e(mi),e("td.tx-12",[e("div#observacionesnovalida"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputmuestradescripcion.value.length===0)Pa.error="El campo Descripci\xF3n es Requerido",alert(Pa.error),t.dom.inputmuestradescripcion.focus();else if(!t.dom.checkvalida.checked&&t.dom.inputobservacionesnovalida.value.length===0)Pa.error="El campo Observaciones es Requerido, cuando la muestra no es v\xE1lida",alert(Pa.error),t.dom.inputobservacionesnovalida.focus();else{let a={nopedidomv:parseInt(De.numeroPedido),noatencionmv:parseInt(De.numeroAtencion),nohistoriaclinicamv:parseInt(De.numeroHistoriaClinica),idestadopedido:1,descripcion:t.dom.inputmuestradescripcion.value,valida:t.dom.checkvalida.checked?1:0,observacionesmuestranovalida:t.dom.checkvalida.checked?null:t.dom.inputobservacionesnovalida.value};Pa.guardar(a),e.mount(document.querySelector("#gestion-muestras"),null),e.mount(document.querySelector("#cerrar-gestion-muestras"),null),Pa.listado=[],Pa.loading=!0}},style:{margin:"6px 0"}},[e("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let Re={listado:[],muestras:[],cortes:[],muestrasAsociadas:[],error:"",secuencialInforme:"",tiposinforme:[],tiposdiagnostiCIE:[],diagnostiCIE:"",consecutivo:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",medico:"",datosPaciente:null,loading:!1,editing:!1,cortesActualizados:!1,cargarListado:function(t){Re.loading=!0,e.request({method:"GET",url:ut+"api/v1/informe?nopedidomv="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Re.listado=a.data,Re.loading=!1}).catch(function(a){Re.loading=!1,Re.error=a,alert(Re.error)})},cargarMuestras:t=>{e.request({method:"GET",url:ut+"api/v1/muestras?nopedidomv="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Re.muestras=a.data}).catch(function(a){Re.error=a,alert(Re.error)})},cargarDatosPaciente:t=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-patologia",body:{},body:{numeroPedido:t},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a.status?Re.datosPaciente=a.data:Evoluciones.error=a.message}).catch(function(a){Re.error=a,alert(Re.error)})},guardar:t=>{e.request({method:"POST",url:ut+"api/v1/informe",body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Re.informecreaddo=a.data,alert("Los cambios han sido guardados correctamente")}).catch(function(a){Re.error="Se produjo error guardando el Informe: "+a,alert(Re.error)})},gettiposinforme:function(){e.request({method:"GET",url:ut+"api/v1/informe/getalltipos",body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(t){Re.tiposinforme=t}).catch(function(t){Re.error=t,alert(Re.error)})},getdiagCIE:function(){e.request({method:"GET",url:ut+"api/v1/informe/getdiagnostiCIE",body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(t){Re.tiposdiagnostiCIE=t}).catch(function(t){Re.error=t,alert(Re.error)})},generarSecuencial:function(t,a){e.request({method:"GET",url:ut+"api/v1/informe/generarsecuencial/"+t+"/"+a,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(o){Re.secuencialInforme=o.secuencialinforme,Re.consecutivo=o.consecutivo}).catch(function(o){Re.error=o,alert(Re.error)})},actualizar:t=>{e.request({method:"PUT",url:ut+"api/v1/informe/"+t.id+"?nopedidomv="+Re.numeroPedido,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){alert("Los cambios han sido guardados correctamente")}).catch(function(a){Re.error="Se produjo error guardando el informe: "+a,alert(Re.error)})},finalizar:t=>{Re.loading=!0,e.request({method:"POST",url:ut+"api/v1/informe/finalizaInforme/"+t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Re.cargarListado(Re.numeroPedido),Re.loading=!1,alert("El informe ha sido finalizado correctamente")}).catch(function(a){Re.loading=!1,Re.error="Se produjo error guardando el informe: "+a,alert(Re.error)})}},mt={listado:[],secuencialCorte:[],informeId:"",editar:"",generarSecuencial:function(t){let a=1,o=mt.secuencialCorte.findIndex(r=>r.letra===t);return o>=0?(a=mt.secuencialCorte[o].consecutivo+1,mt.secuencialCorte[o].consecutivo=a):mt.secuencialCorte.push({letra:t,consecutivo:a}),a},cargarSecuenciales:function(){mt.listado.map(function(t){let a=mt.secuencialCorte.findIndex(r=>r.letra===t.letra),o=parseInt(t.consecutivo);a>=0?mt.secuencialCorte[a].consecutivo<o&&(mt.secuencialCorte[a].consecutivo=o):mt.secuencialCorte.push({letra:t.letra,consecutivo:o})})},cargarListado:function(t){e.request({method:"GET",url:ut+"api/v1/cortes?informeid="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a?mt.listado=a.data:mt.listado=[],mt.secuencialCorte=[]}).catch(function(a){mt.error=a,alert(mt.error)})},guardar:t=>{e.request({method:"POST",url:ut+"api/v1/cortes?informeid="+mt.informeId,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){mt.cargarListado(mt.informeId),mt.secuencialCorte=[]}).catch(function(a){mt.error="Se produjo error guardando el corte: "+a.response.message,alert(mt.error)})}},ao=mt,oo=null,Ir=1;const Yd={oninit:t=>{t.attrs.informeModelo!==void 0&&(oo=t.attrs.informeModelo,oo.secuencialInforme.length===0&&oo.listado.length>0&&(oo.secuencialInforme=oo.listado[0].codigoinforme))},oncreate:t=>{t.dom.inputletra.focus()},view:t=>[e("form#crear-corte"),e("td.tx-12",{style:{width:"15%",padding:"8px 3px"}},[e("input.form-control[id='inputletra'][type='text'][form='crear-corte']",{style:{"text-transform":"uppercase"},onchange:function(a){t.dom.inputconsecutivo.value=ao.generarSecuencial(a.target.value.toUpperCase()),t.dom.inputcortedescripcion.focus()},oninput:function(a){a.target.value.length>1&&(a.target.value=a.target.value.slice(0,1))}})]),e("td.tx-12",{style:{width:"15%",padding:"8px 3px"}},[e("input.form-control[id='inputconsecutivo'][type='text'][form='crear-corte']",{disabled:!0})]),e("td.tx-12",{style:{width:"50%"}},[e("textarea.form-control[id='inputcortedescripcion'][form='crear-corte'][placeholder='Descripci\xF3n del Corte'][title='Descripci\xF3n del Corte']",{style:"height: 38px",rows:4})]),e("td.tx-12",{style:{width:"20%",padding:"0"}},[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='crear-corte']",{onclick:function(){if(t.dom.btnnuevocorte.disabled=!1,t.dom.inputletra.value.length===0)ao.error="El campo Letra es Requerido",alert(ao.error),t.dom.inputletra.focus();else if(t.dom.inputcortedescripcion.value.length===0)ao.error="El campo Descripci\xF3n es Requerido",alert(ao.error),t.dom.inputcortedescripcion.focus();else{let a={id:Ir,informe_id:0,codigocorte:oo.secuencialInforme+"-"+t.dom.inputletra.value.toUpperCase()+t.dom.inputconsecutivo.value,letra:t.dom.inputletra.value.toUpperCase(),consecutivo:t.dom.inputconsecutivo.value,descripcion:t.dom.inputcortedescripcion.value};ao.listado.push(a),Ir+=1,e.mount(document.querySelector("#gestion-cortes"),null)}},style:{margin:"15px 5px 0 5px",width:"47%",padding:"5px"}},[e("i.fas.fa-save.mg-r-5")],"Guardar"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='crear-corte']",{onclick:function(){t.dom.btnnuevocorte.disabled=!1,e.mount(document.querySelector("#gestion-cortes"),null)},style:{margin:"15px 0 0 0",width:"47%",padding:"5px"}},[e("i.fas.fa-save.mg-r-5")],"Cancelar")])]};let To=mt,co=null;const jd={oninit:t=>{t.attrs.corte!==void 0&&(co=t.attrs.corte,document.querySelector("#btnnuevocorte").disabled=!1)},oncreate:t=>{t.dom.inputcortedescripcion.focus()},view:t=>[e("form#editar-corte"),e("td.tx-12",{style:{width:"15%",padding:"8px 3px"}},[e("input.form-control[id='inputletra'][type='text'][form='editar-corte']",{disabled:!0,value:co.letra})]),e("td.tx-12",{style:{width:"15%",padding:"8px 3px"}},[e("input.form-control[id='inputconsecutivo'][type='text'][form='editar-corte']",{disabled:!0,value:co.consecutivo})]),e("td.tx-12",{style:{width:"50%"}},[e("textarea.form-control[id='inputcortedescripcion'][form='editar-corte'][placeholder='Descripci\xF3n del Corte'][title='Descripci\xF3n del Corte']",{style:"height: 38px",rows:4,value:co.descripcion})]),e("td.tx-12",{style:{width:"20%",padding:"0"}},[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='editar-corte']",{onclick:function(){if(t.dom.inputcortedescripcion.value.length===0)To.error="El campo Descripci\xF3n es Requerido",alert(To.error),t.dom.inputcortedescripcion.focus();else{let a=To.listado.map(o=>o.id).indexOf(co.id);a!==-1&&(To.listado[a].descripcion=t.dom.inputcortedescripcion.value),e.mount(document.querySelector("#gestion-cortes"),null)}},style:{margin:"15px 5px 0 5px",width:"47%",padding:"5px"}},[e("i.fas.fa-save.mg-r-5")],"Guardar"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='editar-corte']",{onclick:function(){e.mount(document.querySelector("#gestion-cortes"),null)},style:{margin:"15px 0 0 0",width:"47%",padding:"5px"}},[e("i.fas.fa-save.mg-r-5")],"Cancelar")])]};let Ra=mt,La=null;const ir={oninit:t=>{t.attrs.informeModelo!==void 0&&(La=t.attrs.informeModelo,La.listado.length>0&&La.editing&&(Ra.listado=La.listado[0].cortes,Ra.informeId=La.listado[0].id,Ra.cargarSecuenciales()))},onupdate:t=>{La.cortes=Ra.listado},view:t=>[e("table.table.boton-nuevo-cortes",{style:{margin:"0"}},[e("tr",[e("th.tx-12",{style:{width:"80%"}},"INGRESAR CORTES:"),e("th.tx-12",{style:{width:"20%"}},[e("button#btnnuevocorte.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][form='crear-corte']",{style:{width:"95%"},onclick:function(){this.disabled=!0,e.mount(document.querySelector("#gestion-cortes"),{view:a=>e(Yd,{informeModelo:La})})}},[e("i.fas.fa-plus.mg-r-5")],"Nuevo Corte")])])]),e("table#gestion-cortes",{style:{width:"98%","margin-left":"1%"}}),e("table.table.encabezado-cortes",{style:{width:"98%","margin-left":"1%"}},[e("tr",[e("th.tx-12.thead-light",{scope:"col",style:{width:"15%"}},"Letra"),e("th.tx-12.thead-light",{scope:"col",style:{width:"15%"}},"Consecutivo"),e("th.tx-12.thead-light",{scope:"col",style:{width:"50%"}},"Descripci\xF3n"),e("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"")])]),e("table.table.listado-cortes",{style:{width:"98%","margin-left":"1%"}},[Ra.listado.map(function(a){return[e("tr#"+a.id,[e("th.tx-12",{style:{width:"15%"}},a.letra),e("th.tx-12",{style:{width:"15%"}},a.consecutivo),e("td.tx-12.cortedescription",{style:{width:"50%"}},[a.descripcion]),e("td.tx-12",{style:{width:"20%",padding:"0"}},[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][corteid="+a.id+"]",{onclick:function(o){e.mount(document.querySelector("#gestion-cortes"),{view:()=>e(jd,{corte:a})})},style:{margin:"5px 5px 5px 5px",width:"47%",padding:"5px"}},[e("i.fas.fa-edit.mg-r-5")],"Editar"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button'][corteid="+a.id+"]",{onclick:function(o){if(window.confirm("Est\xE1 seguro que desea borrar el elemento?")){let r=Ra.listado.filter(i=>i.id!==parseInt(o.target.getAttribute("corteid")));Ra.listado=r,e.mount(document.querySelector("#gestion-cortes"),null),document.querySelector("#btnnuevocorte").disabled=!1}},style:{margin:"5px 0 5px 0",width:"47%",padding:"5px"}},[e("i.fas.fa-trash.mg-r-5")],"Eliminar")])])]})])]};let Ue={listado:[],usuario:"",loading:!1,cargarListado:function(t){Ue.loading=!0,e.request({method:"GET",url:ut+"api/v1/plantillamacroscopica?usuario="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a.status?(Ue.listado=a.plantillas,Ue.usuario=t,Ue.loading=!1):(Ue.loading=!1,Ue.error=a.message)}).catch(function(a){Ue.loading=!1,Ue.error=a,alert(Ue.error)})},guardar:t=>{e.request({method:"POST",url:ut+"api/v1/plantillamacroscopica",body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Ue.cargarListado(Ue.usuario)}).catch(function(a){Ue.error="Se produjo error guardando la Plantilla: "+a.response.message,alert(Ue.error)})},actualizar:t=>{e.request({method:"PUT",url:ut+"api/v1/plantillamacroscopica/"+parseInt(t.id),body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Ue.cargarListado(Ue.usuario)}).catch(function(a){Ue.error="Se produjo error guardando la plantilla: "+a.response.message,alert(Ue.error)})},eliminar:t=>{e.request({method:"DELETE",url:ut+"api/v1/plantillamacroscopica/"+t.id,body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(){Ue.cargarListado(Ue.usuario)}).catch(function(a){Ue.error="Se produjo error eliminando la plantilla: "+a.response.message,alert(Ue.error)})}},be=Re,Nt=null,ka="",Xo=Ue,Ko="",Nr="";const Ud={oninit:t=>{t.attrs.informeModelo!==void 0&&(be=t.attrs.informeModelo,Nt=be.listado[0],be.loading=!0,be.secuencialInforme=Nt.codigoinforme,be.diagnostiCIE=Nt.iddiagncie10,Ue.cargarListado(),be.gettiposinforme(),be.getdiagCIE(),be.cargarMuestras(be.numeroPedido))},onupdate:t=>{if(be.informacionclinica!==void 0&&(t.dom.textareainformacionclinica.value=be.informacionclinica),be.macroscopico!==void 0&&(t.dom.textareamacroscopico.value=be.macroscopico,ka=be.macroscopico),be.diagnostico!==void 0&&(t.dom.textareadiagnostico.value=be.diagnostico),be.dgpresuntivo!==void 0&&(t.dom.textareadgpresuntivo.value=be.dgpresuntivo),be.opcionTipoInforme!="empty"&&(t.dom.inputinformeid.value=be.secuencialInforme),be.diagnostiCIE!="empty"&&(t.dom.tipodiagnostiCIE.value=be.diagnostiCIE),be.resultmicroscopico!==void 0&&(t.dom.textareamicroscopico.value=be.resultmicroscopico),ka!="")if(ka=="empty")t.dom.textareamacroscopico.value="",t.dom.textareainformacionclinica.value="",t.dom.textareadiagnostico.value="",t.dom.textareamicroscopico.value="",t.dom.textareadgpresuntivo.value="";else{let a=Xo.listado.find(o=>o.id==ka);typeof a!="undefined"&&(t.dom.textareamacroscopico.value=a.resultmacroscopico,t.dom.textareainformacionclinica.value=a.infoclinica,t.dom.textareadiagnostico.value=a.diagnostico,t.dom.textareamicroscopico.value=a.resultmicroscopico,t.dom.textareadgpresuntivo.value=a.dgpresuntivo)}},view:t=>[e("form#editar-informe",[e("table.table",[e("tr",[e("th.tx-12",{style:{width:"35px"}},"TIPO INFORME"),e("td.tx-12",[e("select[name=tipoinforme]",{style:{width:"85%",height:"25px"},id:"tipoinforme",onchange:function(a){Ko=a.target.value,Ko=="empty"?t.dom.inputinformeid.value="":be.generarSecuencial(moment().year(),a.target.value),be.opcionTipoInforme=Ko,t.dom.btnguardarinforme.disabled=!1},value:Nt.idtipoinforme},[e("option",{value:"empty"}," -Seleccione- "),be.tiposinforme.map(a=>e("option",{value:a.id},a.descripcion))])]),e("th.tx-12",{style:{width:"35px"}},"NO. INFORME "),e("td.tx-12",[e("input.form-control[id='inputinformeid'][type='text']",{disabled:!0,value:Nt.codigoinforme})]),e("th.tx-12","NO. PEDIDO:"),e("td.tx-12",[e("input.form-control[id='inputnumeropedidomv'][type='text']",{value:Nt.nopedidomv,disabled:!0})])]),e("tr",[e("th.tx-12","M\xC9DICO SOLICITANTE:"),e("td.tx-12",{style:{width:"255px"}},[e("input.form-control[id='inputmedicosolicitante'][type='text']",{value:Nt.medicosolicitante,disabled:!0})]),e("th.tx-12","FECHA DEL DOCUMENTO:"),e("td.tx-12",[e("input.form-control[id='inputfechadocumento'][type='text']",{value:new Date(Nt.fechapedido).toLocaleDateString("es-CL"),disabled:!0})]),e("th.tx-12","Diagn\xF3stico CIE10:"),e("td.tx-12",[e("select[name=tipodiagnostiCIE]",{style:{width:"220px",height:"25px"},id:"tipodiagnostiCIE",onchange:function(a){Nr=a.target.value,be.diagnostiCIE=a.target.value},value:Nt.iddiagncie10},[e("option",{value:"empty"}," -Seleccione- "),be.tiposdiagnostiCIE.map(a=>e("option",{value:a.id},a.id+" - "+a.descripcion))])])])]),e("table.table",[e("tr",[e("th.tx-12",{style:{width:"35%",color:"#0168fa"}},"PLANTILLA MACROSC\xD3PICA:"),e("td.tx-12",[e("select[name=plantillas]",{style:{width:"85%",height:"25px"},id:"box",onchange:function(a){if(ka=a.target.value,ka=="empty")t.dom.textareamacroscopico.value="",t.dom.textareainformacionclinica.value="",t.dom.textareadiagnostico.value="",t.dom.textareamicroscopico.value="",t.dom.textareadgpresuntivo.value="";else{let o=Xo.listado.find(r=>r.id==ka);typeof o!="undefined"&&(t.dom.textareamacroscopico.value=o.resultmacroscopico,t.dom.textareainformacionclinica.value=o.infoclinica,t.dom.textareadiagnostico.value=o.diagnostico,t.dom.textareamicroscopico.value=o.resultmicroscopico,t.dom.textareadgpresuntivo.value=o.dgpresuntivo)}t.dom.btnguardarinforme.disabled=!1},value:ka},[e("option",{value:"empty"}," -Seleccione- "),Xo.listado.map(a=>e("option",{value:a.id},a.nombreplantilla))])])])]),e("table.table",[e("tr",[e("th.tx-12","INFORMACI\xD3N CL\xCDNICA:"),e("th.tx-12","MUESTRAS ENVIADAS:")]),e("tr",[e("td.tx-12",{style:{width:"50%"}},[e("textarea.form-control[id='textareainformacionclinica']",{style:"min-height: 100px",rows:4,value:Nt.informacionclinica,onchange:function(a){be.informacionclinica=a.target.value,t.dom.btnguardarinforme.disabled=!1}})]),e("td.tx-12",{},[e("div[id='muestrasasociadas']",{style:{border:"1px solid #c0ccda",height:"100px",padding:"5px",overflow:"auto"}},[be.muestras.map(function(a){let o=Nt.muestrasAsociadas.map(i=>i.id).indexOf(a.id)!=-1;be.muestrasAsociadas.map(i=>i.id).indexOf(a.id)===-1&&be.muestrasAsociadas.push({id:a.id,checked:o});const r=be.muestrasAsociadas.map(i=>i.id).indexOf(a.id);return[e("div",[e("input[type='checkbox']",{style:{float:"left","margin-top":"2px"},class:"muestraenviada",id:a.id,checked:r!=-1?be.muestrasAsociadas[r].checked:!1,onclick:function(){const i=be.muestrasAsociadas.map(s=>s.id).indexOf(parseInt(this.id));i!=-1&&(be.muestrasAsociadas[i].checked=this.checked)}}),e("label.tx-semibold.tx-12",{style:{margin:"0 10px",width:"90%"}},a.id+" - "+a.descripcion)])]})])])])]),e("table.table",[e("tr",[e("th.tx-12",[e("label.tx-12",{style:{width:"30%"}},"DIAGN\xD3STICO PRESUNTIVO SIN C\xD3DIGO:")])]),e("tr",[e("td.tx-12",[e("textarea.form-control[id='textareadgpresuntivo']",{style:"min-height: 100px",rows:4,value:Nt.dgpresuntivo,onchange:function(a){be.dgpresuntivo=a.target.value,t.dom.btnguardarinforme.disabled=!1}})])])]),e("table.table",[e("tr",[e("th.tx-12",[e("label.tx-12",{style:{width:"30%"}},"MACROSC\xD3PICO:")])]),e("tr",[e("td.tx-12",[e("textarea.form-control[id='textareamacroscopico']",{style:"min-height: 100px",rows:4,value:Nt.macroscopico,onchange:function(a){be.macroscopico=a.target.value,t.dom.btnguardarinforme.disabled=!1}})])])]),e(ir,{informeModelo:be}),e("table.table",[e("tr",[e("th.tx-12",[e("label.tx-12",{style:{width:"30%"}},"DIAGN\xD3STICO:")])]),e("tr",[e("td.tx-12",[e("textarea.form-control[id='textareadiagnostico']",{style:"min-height: 100px",rows:4,value:Nt.diagnostico,onchange:function(a){be.diagnostico=a.target.value,t.dom.btnguardarinforme.disabled=!1}})])])]),e("table.table",[e("tr",[e("th.tx-12",[e("label.tx-12",{style:{width:"30%"}},"MICROSC\xD3PICO:")])]),e("tr",[e("td.tx-12",[e("textarea.form-control[id='textareamicroscopico']",{style:"min-height: 100px",rows:4,value:Nt.resultmicroscopico,onchange:function(a){be.resultmicroscopico=a.target.value,t.dom.btnguardarinforme.disabled=!1}})])])]),e("table.table",[e("tr",[e("th.tx-12",[]),e("th.tx-12",{style:"float: right"},[e("button#btnguardarinforme.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{disabled:!0,onclick:function(){let a=[],o=[];if(be.muestrasAsociadas.filter(function(r){r.checked&&a.push(r.id)}),be.cortes.filter(function(r){let i={informe_id:parseInt(Nt.id),codigocorte:r.codigocorte,letra:r.letra,consecutivo:parseInt(r.consecutivo),descripcion:r.descripcion};o.push(i)}),t.dom.textareainformacionclinica.value.length===0)be.error="El campo Informaci\xF3n Cl\xEDnica es Requerido",alert(be.error),t.dom.textareainformacionclinica.focus();else if(a.length===0)be.error="Debe asociar al menos una muestra.",alert(be.error);else if(t.dom.textareamacroscopico.value.length===0)be.error="El campo Macrosc\xF3pico es Requerido",alert(be.error),t.dom.textareamacroscopico.focus();else if(t.dom.textareadiagnostico.value.length===0)be.error="El campo Diagn\xF3stico es Requerido",alert(be.error),t.dom.textareadiagnostico.focus();else{this.disabled=!0;let r={id:Nt.id,year:moment().year(),informacionclinica:t.dom.textareainformacionclinica.value,diagnostico:t.dom.textareadiagnostico.value,macroscopico:t.dom.textareamacroscopico.value,dgpresuntivo:t.dom.textareadgpresuntivo.value,resultmicroscopico:t.dom.textareamicroscopico.value,muestrasenviadas:a,idtipoinforme:be.opcionTipoInforme,iddiagncie10:Nr,DIAGNOSTCIE10:t.dom.tipodiagnostiCIE.selectedOptions[0].text,cortes:o};be.actualizar(r)}}},[e("i.fas.mg-r-5")],"Guardar")]),e("th.tx-12",{style:{width:"15%"}},[e("button#btnsalir.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{style:{width:"95%"},onclick:()=>{window.location.reload()}},"Salir")])])])])]};let Wo=Re;const pi={oninit:t=>{if(t.attrs.informeModelo!==void 0&&t.attrs.informeId!==void 0){let a=t.attrs.informeModelo.listado.filter(o=>o.id===parseInt(t.attrs.informeId));t.attrs.informeModelo.listado=a,Wo=t.attrs.informeModelo,Wo.editing=!0}},view:()=>[e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"editar informe"}]),e("h1.df-title.mg-t-20.mg-b-10","Datos del Informe"),e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{window.location.reload()}}))),e("form#crear-informe"),e("form#editar-informe",[e(Ud,{informeModelo:Wo})])])])]};let uo=Re;const Rr={oninit:t=>{t.attrs.informe!==void 0&&(uo=t.attrs.informe)},view:t=>[uo.listado.map(function(a){return[e("tr#"+a.id,[e("th.tx-12.wd-10p",{scope:"row"},a.codigoinforme),e("th.tx-12.wd-50p",{scope:"row"},[a.muestrasAsociadas.map(function(o){return e("p",{style:{"margin-bottom":"0"}},o.id+"-"+o.descripcion)})]),e("th.tx-12.wd-5p",{scope:"row",title:a.estadopedido.descripcion},a.estadopedido.siglas),e("td.tx-12.wd-35p",{scope:"row"},[e("div.mg-0.mg-t-5.text-left.float-left",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{disabled:a.estadopedido.siglas==="A",onclick:()=>{uo.loading=!0,e.mount(document.querySelector("#gestionpatologia"),{view:()=>e(pi,{informeId:a.id,informeModelo:uo})})}},[e("i.fas.fa-edit.mg-r-5")],"Editar")]),e("div.mg-0.mg-t-5.text-left.float-left",[e("button#btnfinalizarinforme.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{disabled:a.estadopedido.siglas==="A",onclick:function(){uo.finalizar(a.id)}},[e("i.fas.mg-r-5")],"Finalizar")]),e("div.mg-0.mg-t-5.text-left.float-left",[e(e.route.Link,{href:"http://172.16.1.122:8080/jasperserver/flow.html?_flowId=viewReportFlow&_flowId=viewReportFlow&ParentFolderUri=%2Freports&reportUnit=%2Freports%2FInformeAnatomico&standAlone=true&decorate=no&j_username=jasperadmin&j_password=jasperadmin&InformeId="+a.id,class:"btn btn-xs btn-primary mg-l-2 tx-semibold",target:"_blank"},[e("i.fas.fa-print.mg-r-2"),"Imprimir"])])])])]})]};let Ze={listado:[],usuario:"",loading:!1,cargarListado:function(t){Ze.loading=!0,e.request({method:"GET",url:ut+"api/v1/plantilladiagnostico?usuario="+t,body:{},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){a.status?(Ze.listado=a.plantillas,Ze.usuario=t,Ze.loading=!1):(Ze.loading=!1,Ze.error=a.message)}).catch(function(a){Ze.loading=!1,Ze.error="Se produjo error cargando las plantillas: "+a.stack,alert(Ze.error)})},guardar:t=>{e.request({method:"POST",url:ut+"api/v1/plantilladiagnostico",body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Ze.cargarListado(Ze.usuario)}).catch(function(a){Ze.error="Se produjo error guardando la plantilla: "+a.stack,alert(Ze.error)})},actualizar:t=>{e.request({method:"PUT",url:ut+"api/v1/plantilladiagnostico/"+parseInt(t.id),body:t,headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(a){Ze.cargarListado(Ze.usuario)}).catch(function(a){Ze.error="Se produjo error guardando la plantilla: "+a.stack,alert(Ze.error)})},eliminar:t=>{e.request({method:"DELETE",url:ut+"api/v1/plantilladiagnostico/"+parseInt(t.id),headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(){Ze.cargarListado(Ze.usuario)}).catch(function(a){Ze.error="Se produjo error eliminando la plantilla: "+a.stack,alert(Ze.error)})}},Ao="",ko="",Lr="",Ee=Re,Fr=Ue,Bd=Ze;const Vd={oninit:t=>{e.redraw(ir),Ee.cortes=[],e.route.param("numeroPedido")&&(Ee.numeroPedido=e.route.param("numeroPedido"),Ee.cargarMuestras(Ee.numeroPedido),Ee.cargarDatosPaciente(Ee.numeroPedido)),e.route.param("numeroAtencion")&&(Ee.numeroAtencion=e.route.param("numeroAtencion")),e.route.param("numeroHistoriaClinica")&&(Ee.numeroHistoriaClinica=e.route.param("numeroHistoriaClinica")),e.route.param("medico")&&(Ee.medico=e.route.param("medico")),Ue.cargarListado(),Bd.cargarListado(),Ee.gettiposinforme(),Ee.getdiagCIE()},onupdate:t=>{ko!="empty"&&(t.dom.inputinformeid.value=Ee.secuencialInforme)},view:t=>e("form#crear-informe",[e("table.table",[e("tr",[e("th.tx-12",{style:{width:"35px"}},"TIPO INFORME"),e("td.tx-12",[e("select[name=tipoinforme]",{style:{width:"85%",height:"25px"},id:"tipoinforme",onchange:function(a){ko=a.target.value,ko=="empty"?t.dom.inputinformeid.value="":Ee.generarSecuencial(moment().year(),a.target.value)}},[e("option",{value:"empty"}," -Seleccione- "),Ee.tiposinforme.map(a=>e("option",{value:a.id},a.descripcion))])]),e("th.tx-12",{style:{width:"35px"}},"NO. INFORME "),e("td.tx-12",[e("input.form-control[id='inputinformeid'][type='text']",{disabled:!0})]),e("th.tx-12",{style:{width:"35px"}},"NO. PEDIDO:"),e("td.tx-12",[e("input.form-control[id='inputnumeropedidomv'][type='text']",{value:Ee.numeroPedido,disabled:!0})])]),e("tr",[e("th.tx-12","M\xC9DICO SOLICITANTE:"),e("td.tx-12",{style:{width:"255px"}},[e("input.form-control[id='inputmedicosolicitante'][type='text']",{value:Ee.medico,disabled:!0})]),e("th.tx-12","FECHA DEL DOCUMENTO:"),e("td.tx-12",[e("input.form-control[id='inputfechadocumento'][type='text']",{value:moment().format("D-MM-YYYY"),disabled:!0})]),e("th.tx-12","Diagn\xF3stico CIE10:"),e("td.tx-12",[e("select[name=tipodiagnostiCIE]",{style:{width:"220px",height:"25px"},id:"tipodiagnostiCIE",onchange:function(a){Lr=a.target.value,Ee.diagnostiCIE=a.target.value}},[e("option",{value:"empty"}," -Seleccione- "),Ee.tiposdiagnostiCIE.map(a=>e("option",{value:a.id},a.id+" - "+a.descripcion))])])])]),e("table.table",[e("tr",[e("th.tx-12",{style:{width:"35%",color:"#0168fa"}},"PLANTILLA MACROSC\xD3PICA:"),e("td.tx-12",[e("select[name=plantillas]",{style:{width:"85%",height:"25px"},id:"box",onchange:function(a){if(Ao=a.target.value,Ao=="empty")t.dom.textareamacroscopico.value="",t.dom.textareainformacionclinica.value="",t.dom.textareadiagnostico.value="",t.dom.textareamicroscopico.value="",t.dom.textareadgpresuntivo.value="";else{let o=Fr.listado.find(r=>r.id==Ao);t.dom.textareamacroscopico.value=o.resultmacroscopico,t.dom.textareainformacionclinica.value=o.infoclinica,t.dom.textareadiagnostico.value=o.diagnostico,t.dom.textareamicroscopico.value=o.resultmicroscopico,t.dom.textareadgpresuntivo.value=o.dgpresuntivo}},value:Ao},[e("option",{value:"empty"}," -Seleccione- "),Fr.listado.map(a=>e("option",{value:a.id},a.nombreplantilla))])])])]),e("table.table",[e("tr",[e("th.tx-12","INFORMACI\xD3N CL\xCDNICA:"),e("th.tx-12","MUESTRAS ENVIADAS:")]),e("tr",[e("td.tx-12",{style:{width:"50%"}},[e("textarea.form-control[id='textareainformacionclinica']",{style:"min-height: 100px",rows:4})]),e("td.tx-12",{},[e("div[id='muestrasasociadas']",{style:{border:"1px solid #c0ccda",height:"100px",padding:"5px",overflow:"auto"}},[Ee.muestras.map(function(a){return Ee.muestrasAsociadas.map(o=>o.id).indexOf(a.id)===-1&&Ee.muestrasAsociadas.push({id:a.id,checked:!1}),[e("div",[e("input[type='checkbox']",{style:{float:"left","margin-top":"2px"},class:"muestraenviada",id:a.id,onclick:function(){const o=Ee.muestrasAsociadas.map(r=>r.id).indexOf(parseInt(this.id));o!=-1&&(Ee.muestrasAsociadas[o].checked=this.checked)}}),e("label.tx-semibold.tx-12",{style:{margin:"0 10px",width:"90%"}},a.id+" - "+a.descripcion)])]})])])])]),e("table.table",[e("tr",[e("th.tx-12",[e("label.tx-12",{style:{width:"30%"}},"DIAGN\xD3STICO PRESUNTIVO SIN C\xD3DIGO:")])]),e("tr",[e("td.tx-12",[e("textarea.form-control[id='textareadgpresuntivo']",{style:"min-height: 100px",rows:4})])])]),e("table.table",[e("tr",[e("th.tx-12",[e("label.tx-12",{style:{width:"30%"}},"MACROSC\xD3PICO:")])]),e("tr",[e("td.tx-12",[e("textarea.form-control[id='textareamacroscopico']",{style:"min-height: 100px",rows:4})])])]),e(ir,{informeModelo:Ee}),e("table.table",[e("tr",[e("th.tx-12",[e("label.tx-12",{style:{width:"30%"}},"DIAGN\xD3STICO:")])]),e("tr",[e("td.tx-12",[e("textarea.form-control[id='textareadiagnostico']",{style:"min-height: 100px",rows:4})])])]),e("table.table",[e("tr",[e("th.tx-12",[e("label.tx-12",{style:{width:"30%"}},"MICROSC\xD3PICO:")])]),e("tr",[e("td.tx-12",[e("textarea.form-control[id='textareamicroscopico']",{style:"min-height: 100px",rows:4})])])]),e("table.table",[e("tr",[e("th.tx-12",{style:{float:"right",padding:"7px 0"}},[e("button#btnguardarinforme.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){let a=[],o=[];if(Ee.muestrasAsociadas.filter(function(r){r.checked&&a.push(r.id)}),Ee.cortes.filter(function(r){o.push(r)}),t.dom.textareainformacionclinica.value.length===0)Ee.error="El campo Informaci\xF3n Cl\xEDnica es Requerido",alert(Ee.error),t.dom.textareainformacionclinica.focus();else if(a.length===0)Ee.error="Debe asociar al menos una muestra.",alert(Ee.error);else if(t.dom.textareamacroscopico.value.length===0)Ee.error="El campo Macrosc\xF3pico es Requerido",alert(Ee.error),t.dom.textareamacroscopico.focus();else if(t.dom.textareadiagnostico.value.length===0)Ee.error="El campo Diagn\xF3stico es Requerido",alert(Ee.error),t.dom.textareadiagnostico.focus();else{this.disabled=!0;let r=Ee.datosPaciente.FECHA_PEDIDO.split("-"),i=new Date(parseInt(r[2]),parseInt(r[1]-1),parseInt(r[0]));r=t.dom.inputfechadocumento.value.split("-");let s=new Date(parseInt(r[2]),parseInt(r[1]-1),parseInt(r[0])),c={idmuestra:1,nopedidomv:parseInt(Ee.numeroPedido),nohistoriaclinicamv:parseInt(Ee.numeroHistoriaClinica),noatencionmv:parseInt(Ee.numeroAtencion),medicosolicitante:t.dom.inputmedicosolicitante.value,nombrepaciente:Ee.datosPaciente.NM_PACIENTE,cedulaidentidad:Ee.datosPaciente.CD_IDENTIFICADOR_PESSOA,servicio:Ee.datosPaciente.SERVICIO,plan:Ee.datosPaciente.NM_CONVENIO,instruccion:Ee.datosPaciente.SECTOR,ubicacion:Ee.datosPaciente.UBICACION,edad:Ee.datosPaciente.EDAD,fechapedido:i.toLocaleDateString("en-CA"),secuencial:Ee.consecutivo,year:moment().year(),idtipoinforme:ko,idestadopedido:1,informacionclinica:t.dom.textareainformacionclinica.value,dgpresuntivo:t.dom.textareadgpresuntivo.value,diagnostico:t.dom.textareadiagnostico.value,macroscopico:t.dom.textareamacroscopico.value,resultmicroscopico:t.dom.textareamicroscopico.value,fechadocumento:s.toLocaleDateString("en-CA"),codigoinforme:t.dom.inputinformeid.value,muestrasenviadas:a,iddiagncie10:Lr,cortes:o};Ee.guardar(c)}}},[e("i.fas.mg-r-5")],"Guardar")]),e("th.tx-12",{style:{width:"15%"}},[e("button#btnsalir.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{style:{width:"95%"},onclick:()=>{window.location.reload()}},"Salir")])])])])};let So=Re;const fi={oninit:t=>{So.editing=!1,t.attrs.numeroPedido!==void 0&&(So.numeroPedido=t.attrs.numeroPedido),t.attrs.numeroAtencion!==void 0&&(So.numeroAtencion=t.attrs.numeroAtencion),t.attrs.numeroHistoriaClinica!==void 0&&(So.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica),t.attrs.medico!==void 0&&(muestraModelo.medico=t.attrs.medico)},view:()=>[e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"nuevo informe"}]),e("h1.df-title.mg-t-20.mg-b-10","Datos del Informe"),e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{window.location.reload()}}))),e("form#crear-informe",[e(Vd)])])])]};let wt=Re;const Zo={oninit:t=>{t.attrs.numeroPedido!==void 0&&(wt.numeroPedido=t.attrs.numeroPedido,wt.cargarListado(wt.numeroPedido)),t.attrs.numeroAtencion!==void 0&&(wt.numeroAtencion=t.attrs.numeroAtencion),t.attrs.numeroHistoriaClinica!==void 0&&(wt.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica),t.attrs.medico!==void 0&&(wt.medico=t.attrs.medico)},oncreate:t=>{wt.listado.length==0?e.mount(document.querySelector("div#loader-informes"),wa):wt.listado.length>0&&(e.mount(document.querySelector("div#loader-informes"),null),e.mount(document.querySelector("table.table#listado-informes"),{view:a=>[e(Rr,{informe:wt})]}))},onupdate:t=>{document.querySelector("div#loader-informes")&&(wt.listado.length==0&&wt.loading?e.mount(document.querySelector("div#loader-informes"),wa):wt.listado.length>0&&!wt.loading?(e.mount(document.querySelector("div#loader-informes"),null),e.mount(document.querySelector("table.table#listado-informes"),{view:a=>[e(Rr,{informe:wt})]})):wt.listado.length==0&&!wt.loading&&e.mount(document.querySelector("div#loader-informes"),wo))},view:t=>[e("table.table",{style:{margin:"0"}},[e("tr",[e("td",[e("div.float-right",[e("button#btnnuevoinforme.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:()=>{e.mount(document.querySelector("#gestionpatologia"),{view:()=>e(fi,{attrs:{numeroPedido:wt.numeroPedido,numeroAtencion:wt.numeroAtencion,numeroHistoriaClinica:wt.numeroHistoriaClinica,medico:wt.medico}})})}},[e("i.fas.mg-r-5")],"GENERAR NUEVO INFORME")])])])]),e("table.table",{style:{margin:"0"}},[e("thead.thead-light",[e("tr",[e("th.tx-12",{scope:"col",style:{width:"10%"}},"ID Informe"),e("th.tx-12",{scope:"col",style:{width:"50%"}},"Muestras Asociadas"),e("th.tx-12",{scope:"col",style:{width:"5%"}},"Estado Informe"),e("th.tx-12",{scope:"col",style:{width:"35%"}},"")])])]),e("table.table#listado-informes"),e("div#loader-informes",{style:{"padding-left":"10px"}})]},Xe={secs:[],nombres:"",show:!1,view:()=>{let t="",a="",o="";return nt.num==0&&setTimeout(function(){nt.num=nt.data.length,nt.parseFetch(),e.redraw.sync()},2e3),Xe.secs.length==0?[e("div.pd-10.wd-100p",e("div.d-inline.tx-secondary.tx-12",{oncreate:r=>{r.dom.innerHTML="Procesando "+nt.data.length+" formulario(s) encontrado(s)..."}}),e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]:[Xe.secs.map(function(r,i,s){if(r.name=="prescripciones_texto"&&(a=r.answer),r.name=="evolucion_medica_texto"&&(t=r.answer),r.name=="cd_documento_clinico"&&(o="http://172.16.253.18/mvpep/api/clinical-documents/"+r.answer+".pdf?company=1&department=75"),r.name=="Logotipo_archivo")return[e("div.d-inline.tx-secondary.tx-12",{oncreate:c=>{c.dom.innerHTML=nt.data.length+" formulario(s) encontrado(s)."}}),e("table.table.table-bordered.wd-100p",{style:{zoom:nt.zoom}},[e("thead",[e("tr",e("th[colspan='12'][scope='col']",[e("i.tx-light.fas.fa-file-alt.mg-r-2."),e("div.p-0"," SNS - MSP / HCU-form.005 / 2008 ")])),e("tr",[e("th[colspan='10'][scope='col']",e("div.m-0.p-0",e("img",{width:"100rem",src:"data:image/png;base64,"+r.answer}))),e("th.tx-right[colspan='2'][scope='col']",e("a.tx-right.tx-semibold",{href:o,target:"_blank"},e("i.fas.fa-print.mg-r-2")," Imprirmir  "))])]),e("tbody",[e("tr",[e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ESTABLECIMIENTO")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NOMBRE")),e("th[colspan='3'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","APELLIDO")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","SEXO (M-F)")),e("th[colspan='1][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","NHCL.")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.tx-bold.text-center.","ADM."))]),e("tr",[e("th.text-center[colspan='3'][scope='row']",e("div.m-0.p-0.text-center","HOSPITAL METROPOLITANO")),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Xe.nombres)),e("td.text-center[colspan='3']",e("div.m-0.p-0.text-center",Xe.apellidos_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.sexo)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.nhcl)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.numero_admision))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","EDAD")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","IDENTIFICACION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ADMISION")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","FECHA ALTA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","UBICACION")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","MEDICO TRATANTE"))]),e("tr",[e("td.text-center[colspan='1'][scope='row']",e("div.m-0.p-0.text-center",Xe.edad||Xe.edad_paciente)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.identificacion)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.fecha_admision)),e("td.text-center[colspan='1']",e("div.m-0.p-0.text-center",Xe.fecha_admision)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Xe.ubicacion)),e("td.text-center[colspan='4']",e("div.m-0.p-0.text-center",Xe.medico_tratante))]),e("tr",[e("th[colspan='6'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","1.- EVOLUCI\xD3N")),e("th[colspan='5'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.","2.- PRESCRIPCIONES")),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#eef9c8"}},e("div.m-0.p-0.tx-bold.text-center.",["FIRMAR AL PIE DE",e("br"),"CADA PRESCRIPCI\xD3N"]))]),e("tr",[e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FECHA",e("br"),"d\xEDa/mes/a\xF1o"])),e("th[colspan='1'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","HORA")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.","NOTAS DE EVOLUCI\xD3N")),e("th[colspan='4'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["FARMACOTERAPIA E INDICACIONES",e("br"),"(PARA ENFERMER\xCDA Y OTRO PERSONAL)"])),e("th[colspan='2'][scope='row']",{style:{padding:"0","background-color":"#edfbf5"}},e("div.m-0.p-0.tx-bold.text-center.",["ADMINISTR.",e("br"),"F\xC1RMACOS INSUMOS"]))]),e("tr",[e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.tx-bold.text-justify",t!==null&&t.length!==0?e.trust(t.replace(/(\r\n|\r|\n)/g,"<br/>")):"")),e("td[colspan='6'][scope='row']",{style:{padding:"0",width:"50%"}},e("div.m-0.p-2.text-justify",a!==null&&a.length!==0?e.trust(a.replace(/(\r\n|\r|\n)/g,"<br/>")):""))])])])]})]}},nt={zoom:0,adm:1,nhc:1,num:0,data:[],error:"",parseDoc:t=>(Object.keys(t.data).map(function(a,o,r){Xe.secs.push(t.data[a])}),Xe.secs.map(function(a,o,r){a.name=="nombres"&&(Xe.nombres=a.answer),a.name=="apellidos_paciente"&&(Xe.apellidos_paciente=a.answer),a.name=="sexo de paciente"&&(Xe.sexo=a.answer),a.name=="nhcl"&&(Xe.nhcl=a.answer),a.name=="numero_admision"&&(Xe.numero_admision=a.answer),a.name=="edad"&&(Xe.edad=a.answer),a.name=="edad_paciente"&&(Xe.edad_paciente=a.answer),a.name=="identificacion_paciente"&&(Xe.identificacion=a.answer),a.name=="fecha_admision"&&(Xe.fecha_admision=a.answer),a.name=="ubicacion_atencion"&&(Xe.ubicacion=a.answer),a.name=="fecha_alta"&&(Xe.fecha_alta=a.answer==null?"":a.answer),a.name=="medico_tratante"&&(Xe.medico_tratante=a.answer)})),parseFetch:()=>(Xe.secs=[],nt.data.map(function(t,a,o){nt.parseDoc(nt.data[a])})),fetch:()=>{nt.data=[],nt.error="",e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/formulario?nhcl="+nt.nhc+"&adm="+nt.adm,headers:{Authorization:localStorage.aesComplementarioessToken}}).then(function(t){t.length!==0?(nt.data=t,nt.num=0):nt.error="El documento solicitado no esta disponible."}).catch(function(t){setTimeout(function(){nt.fetch()},5e3)})},view:()=>nt.error?[e(".alert.alert-danger[role='alert']",nt.error)]:nt.data.length!==0?[e(Xe)]:[e("div.d-inline.tx-secondary.tx-12",{oncreate:t=>{t.dom.innerHTML="Buscando informaci\xF3n..."}}),e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},aa={data:[],detalle:[],error:"",showFor:"",fetch:()=>{aa.data=[],aa.error="",e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/ev-paciente",body:{numeroHistoriaClinica:xe.data.CD_PACIENTE+"01"},headers:{Authorization:localStorage.accessToken}}).then(function(t){t.status?(aa.data=t.data,nt.adm=aa.data[0].ADM,nt.nhc=aa.data[0].NHCL,nt.fetch()):aa.error=t.message}).catch(function(t){setTimeout(function(){aa.fetch()},5e3)})},view:()=>aa.error?[e(".alert.alert-danger[role='alert']",aa.error)]:aa.data.length!==0?[e(nt)]:[e("div.pd-10.wd-100p",e("div.placeholder-paragraph",[e("div.line"),e("div.line")]))]},qd={view:()=>{if(xe.examenes.length!==0)return xe.examenes.map(function(t,a,o){return[e(".tx-14.tx-semibold.d-inline",t.EXAMEN),e("br"),t.OBS_EXAMEN!==null?e(".d-inline","Observaciones:"):"",t.OBS_EXAMEN!==null?e("br"):"",t.OBS_EXAMEN!==null?e(".d-inline",t.OBS_EXAMEN):""]})}},xe={data:[],examenes:[],error:"",numeroPedido:"",numeroAtencion:"",numeroHistoriaClinica:"",medico:"",oninit:t=>{t.attrs.numeroPedido!==void 0&&(document.title="Detalle de Pedido N\xB0: "+t.attrs.numeroPedido+" | "+N.title,(xe.data!==void 0&&xe.data.length==0||xe.numeroPedido!==t.attrs.numeroPedido)&&(xe.numeroPedido=t.attrs.numeroPedido,xe.numeroAtencion=t.attrs.numeroAtencion,xe.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,xe.medico=t.attrs.medico,xe.fetch()))},fetch:()=>{xe.data=[],xe.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-pedido-patologia",body:{numeroPedido:xe.numeroPedido},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(xe.loader=!1,xe.data=t.data,xe.examenes=t.examenes,aa.fetch()):xe.error=t.message}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(pt,{oncreate:pt.setPage(26)}),e("div.content.content-components",e("div#gestionpatologia.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"pedidos ingresados"}]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Pedido N\xB0: "+xe.numeroPedido),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{xe.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{xe.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{xe.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{xe.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{I.idFiltro!==void 0&&I.idFiltro>1?e.route.set("/patologia/pedidos/",{idFiltro:I.idFiltro,fechaDesde:I.fechaDesde,fechaHasta:I.fechaHasta}):e.route.set("/patologia/pedidos/",{idFiltro:1})}}))),e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PEDIDO:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Pedido Patolog\xEDa:"),e("td",{style:{"background-color":"#eaeff5"}},xe.data.CD_PRE_MED),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},xe.data.FECHA_PEDIDO+" "+xe.data.HORA_PEDIDO),e("th",{style:{"background-color":"#a8bed6"}},"Origen:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},xe.data.SECTOR)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"M\xE9dico Solicitante:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},xe.medico),e("th",{style:{"background-color":"#a8bed6"}},"Especialidad:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},xe.data.ESPECIALIDAD)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},xe.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"EDAD:"),e("td",{style:{"background-color":"#eaeff5"}},xe.data.EDAD),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},xe.data.CD_PACIENTE)]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 Atenci\xF3n:"),e("td",{style:{"background-color":"#eaeff5"}},xe.data.AT_MV),e("th",{style:{"background-color":"#a8bed6"}},"Peso:"),e("td",{style:{"background-color":"#eaeff5"}},xe.data.PESO),e("th",{style:{"background-color":"#a8bed6"}},"Altura:"),e("td",{style:{"background-color":"#eaeff5"}},xe.data.ALTURA),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},xe.data.SECTOR+" "+xe.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","EX\xC1MENES Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Ex\xE1menes:"),e("td[colspan='8']",{style:{"background-color":"#eaeff5"}},e(qd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","EVOLUCIONES Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[id='home-tab'][data-toggle='tab'][href='#home'][role='tab'][aria-controls='home'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," HOJA 005")),e("li.nav-item",e("a.nav-link[id='recepcionmuestra-tab'][data-toggle='tab'][href='#recepcionmuestra'][role='tab'][aria-controls='recepcionmuestra'][aria-selected='true']",{style:{color:"#476ba3"}},e("i.fas.fa-microscope.pd-1.mg-r-2")," MUESTRAS")),e("li.nav-item",e("a.nav-link[id='informes-tab'][data-toggle='tab'][href='#informes'][role='tab'][aria-controls='seguimiento'][aria-selected='true']",{style:{color:"#476ba3"},onclick:()=>{Zo.oninit({attrs:{numeroPedido:xe.numeroPedido}}),e.redraw(Zo)}},e("i.fas.fa-book.pd-1.mg-r-2")," INFORMES"))]))]),e("tr.d-print-none",[e("td[colspan='9']",{style:{padding:"0"}},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='home'][role='tabpanel'][aria-labelledby='home-tab']",[e(aa)]),e(".tab-pane.fade[id='recepcionmuestra'][role='tabpanel'][aria-labelledby='recepcionmuestra-tab']",[e("div.mg-0.mg-t-10.mg-b-10.text-left",[e("button#btnnuevamuestra.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:()=>{e.mount(document.querySelector("#gestion-muestras"),$d),e.mount(document.querySelector("#cerrar-gestion-muestras"),rr)}},[e("i.fas.mg-r-5")],"Nueva Muestra"),e("div#cerrar-gestion-muestras",{style:{width:"50%",float:"right"}})]),e("div#gestion-muestras"),e(Hd,{numeroPedido:xe.numeroPedido,numeroAtencion:xe.numeroAtencion,numeroHistoriaClinica:xe.numeroHistoriaClinica,medico:xe.medico})]),e(".tab-pane.fade[id='informes'][role='tabpanel'][aria-labelledby='informes-tab']",[e(Zo,{numeroPedido:xe.numeroPedido,numeroAtencion:xe.numeroAtencion,numeroHistoriaClinica:xe.numeroHistoriaClinica,medico:xe.medico})])]))]),e("tr.d-print-none",[])])])])])])])])]))]};function Jd(){return{interval:null,seconds:100,isPaused:!1}}const Ka={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Ka.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Ka.start(t):Ka.stop(t),t.isPaused=!t.isPaused}};function zd(){const t=Jd();return Ka.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Ka.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Ka.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Ka.stop(t)}}}const Gd={oncreate:()=>{if(pe.loadEtiquetas(),pe.searchField.length!==0){var t=$("#table-etiquetas").DataTable();t.search(pe.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Admisiones:")]),e("div.col-sm-12.filemgr-content-header",{class:pe.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){pe.searchField=t.target.value},value:pe.searchField}))]),e("table.table.table-sm.tx-11[id='table-etiquetas'][width='100%']")])])])},pe={notificaciones:[],pedidos:[],showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",loaderImprimir:!1,oninit:t=>{St.page="",pe.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),pe.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),pe.fechaHasta=moment().format("DD-MM-YYYY"),pe.loader=!0,pe.pedidos=[],pe.fetchEtiquetas())},loadEtiquetas:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-etiquetas").DataTable({data:pe.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:[[0,"Desc"]],destroy:!0,columns:[{title:"N\xB0:"},{title:"Paciente:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r,i){return i.row+i.settings._iDisplayStart+1},visible:!0,aTargets:[0],orderable:!0},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return""},visible:!0,aTargets:[2],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td",{class:o.TP_ATENDIMENTO=="I"?"bg-primary":"bg-danger"},[o.TP_ATENDIMENTO=="I"?e("span.badge.badge-pill.badge-primary.wd-100p.mg-b-1","Internaci\xF3n"):e("span.badge.badge-pill.badge-danger.wd-100p.mg-b-1","Emergencia")]),e("td.wd-40p",{style:{}},o.NM_PACIENTE),e("td.tx-center.tx-semibold",{onclick:()=>{pe.loaderImprimir?alert("Tienes un proceso de Impresi\xF3n pendiente."):pe.generarImpresion(o.CD_ATENDIMENTO)},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Imprimir ")]})},drawCallback:function(a){pe.loader=!1}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetchEtiquetas:()=>{let t="";pe.idFiltro==1?t="?type=ingresadas&idFiltro="+pe.idFiltro:t="?type=ingresadas&idFiltro="+pe.idFiltro+"&fechaDesde="+pe.fechaDesde+"&fechaHasta="+pe.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/ptes-etiquetas"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){pe.loader=!1,pe.pedidos=a.data}).catch(function(a){setTimeout(function(){pe.fetchEtiquetas()},2e3)})},reloadData:()=>{var t=$("#table-etiquetas").DataTable();t.clear(),t.rows.add(pe.pedidos).draw()},generarImpresion:t=>{pe.loaderImprimir=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/as-print-etiquetas",body:{numAtencion:t},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){a.status?pe.imprimirEtiquetas(a.data,12):(pe.loaderImprimir=!1,alert("Proceso no se completo con \xE9xito, puedes reintetar una vez m\xE1s. Si el inconveniente persiste, comun\xEDquese con nuestra Mesa de Ayuda Ext: 2020."))}).catch(function(a){pe.loaderImprimir=!1,alert(a)})},imprimirEtiquetas:(t,a)=>{e.request({method:"POST",url:"https://eti.hospitalmetropolitano.org/imprimir",body:{file:t,printer:"ETIQUETAS_MPLUS_EME",pages:a,ancho:670,alto:120},headers:{"Content-Type":"application/json; charset=utf-8"},extract:function(o){return{status:o.status,body:o.responseText}}}).then(function(o){o.status==201?(pe.loaderImprimir=!1,alert("Proceso realizado con \xE9xito.")):(pe.loaderImprimir=!1,alert(o.body.mensaje))}).catch(function(o){pe.loaderImprimir=!1,alert(o)})},view:t=>pe.loader?[e(St,{oncreate:St.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']","Impresi\xF3n de Etiquetas")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:pe.error.length!==0?[e(St,{oncreate:St.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']"," Impresi\xF3n de Etiquetas ")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!pe.loader&&pe.pedidos.length!==0?[e(St,{oncreate:St.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']"," Impresi\xF3n de Etiquetas ")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e(Gd)])),e("div.section-nav",[e("label.nav-label"," Impresi\xF3n de Etiquetas "),e("div.mg-t-10.bg-white",e("div.pd-20",e(zd)))])]:!pe.loader&&pe.pedidos.length==0?[e(St,{oncreate:St.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']"," Impresi\xF3n de Etiquetas ")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(St,{oncreate:St.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/admisiones"},[" Admsiones "])),e("li.breadcrumb-item.active[aria-current='page']"," Impresi\xF3n de Etiquetas ")]),e("h1.df-title.mg-t-20.mg-b-10","Impresi\xF3n de Etiquetas:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]};function Xd(){return{interval:null,seconds:100,isPaused:!1}}const Wa={showFilter:!0,showSearch:!0,show:!1,increment(t){t.seconds--,t.seconds==0&&window.location.reload(),e.redraw()},start(t){t.interval=setInterval(Wa.increment,1e3,t)},stop(t){t.interval=clearInterval(t.interval)},reset(t){t.seconds=100},toggle(t){t.isPaused?Wa.start(t):Wa.stop(t),t.isPaused=!t.isPaused}};function Kd(){const t=Xd();return Wa.start(t),{view(){return[e("div.mg-b-0",[e("div.d-flex.align-items-center.justify-content-between.mg-b-5",[e("h6.tx-uppercase.tx-10.tx-spacing-1.tx-color-02.tx-semibold.mg-b-0","Actualizaci\xF3n en:")]),e("div.d-flex.justify-content-between.mg-b-5",[e("h5.tx-normal.tx-rubik.mg-b-0",t.seconds+"s."),e("h5.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-15",t.isPaused?[e("i.fas.fa-play.pd-2",{title:"Start",onclick(){Wa.toggle(t)},style:{cursor:"pointer"}})]:[e("i.fas.fa-pause.pd-2",{title:"Pause",onclick(){Wa.toggle(t)},style:{cursor:"pointer"}})]))]),e("div.progress.ht-4.mg-b-0.op-5",e(".progress-bar.bg-primary.[role='progressbar'][aria-valuenow='"+t.seconds+"'][aria-valuemin='0'][aria-valuemax='60']",{oncreate:a=>{a.dom.style.width="100%"},onupdate:a=>{a.dom.style.width=t.seconds+"%"}}))])]},onremove(){Wa.stop(t)}}}const Wd={oncreate:()=>{if(C.loadRecetas(),C.searchField.length!==0){var t=$("#table-recetas").DataTable();t.search(C.searchField).draw()}},view:()=>e("div.row.animated.fadeInUp",{},[e("div.col-12",[e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",[e("div.d-flex.align-items-center.justify-content-between.mg-b-80.mg-t-10",[e("h5.mg-b-0","Farmacia:",e("span.badge.badge-primary.tx-semibold.pd-l-10.pd-r-10.mg-l-5.tx-15",{oncreate:t=>{C.idFiltro==1&&(t.dom.innerHTML="Recetas de Hoy"),C.idFiltro==2&&(t.dom.innerHTML="Recetas entre Fechas"),C.idFiltro==3&&(t.dom.innerHTML="Recetas de Emergencia"),C.idFiltro==4&&(t.dom.innerHTML="Recetas de Hospitalizaci\xF3n"),C.idFiltro==5&&(t.dom.innerHTML="Recetas de PB"),C.idFiltro==6&&(t.dom.innerHTML="Recetas de H1"),C.idFiltro==7&&(t.dom.innerHTML="Recetas de H2"),C.idFiltro==8&&(t.dom.innerHTML="Recetas de C2")},onupdate:t=>{C.idFiltro==1&&(t.dom.innerHTML="Recetas de Hoy"),C.idFiltro==2&&(t.dom.innerHTML="Recetas entre Fechas"),C.idFiltro==3&&(t.dom.innerHTML="Recetas de Emergencia"),C.idFiltro==4&&(t.dom.innerHTML="Recetas de Hospitalizaci\xF3n"),C.idFiltro==5&&(t.dom.innerHTML="Recetas de PB"),C.idFiltro==6&&(t.dom.innerHTML="Recetas de H1"),C.idFiltro==7&&(t.dom.innerHTML="Recetas de H2"),C.idFiltro==8&&(t.dom.innerHTML="Recetas de C2")}})),e("div.d-flex.tx-14",[e(".",{class:C.idFiltro==1?"d-none":"d-flex"},[e("div.link-03",{title:"Desde"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Desde:")),e("div.link-03",{style:{cursor:"pointer"},title:"Desde"},e("input.tx-light.pd-4[type='date'][id='desde']",{oncreate:t=>{t.dom.value=C.idFiltro!==1?moment(moment(C.fechaDesde,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{C.fechaDesde=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),C.loader=!0,C.pedidos=[],C.fetch(),e.route.set("/farmacia/recetas/?idFiltro="+C.idFiltro+"&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta)},style:{border:"transparent"}})),e("div.link-03",{title:"Hasta"},e(".tx-10.pd-r-0",{style:{"padding-top":"10px"}},"Hasta:")),e("div.link-03",{style:{cursor:"pointer"},title:"Hasta"},e("input.tx-light.pd-4[type='date'][id='hasta']",{oncreate:t=>{t.dom.value=C.idFiltro!==1?moment(moment(C.fechaHasta,"DD-MM-YYYY")).format("YYYY-MM-DD"):""},onchange:t=>{C.fechaHasta=moment(moment(t.target.value,"YYYY-MM-DD")).format("DD-MM-YYYY"),C.loader=!0,C.pedidos=[],C.fetch(),e.route.set("/farmacia/recetas/?idFiltro="+C.idFiltro+"&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta)},style:{border:"transparent"}}))]),e("div.dropdown.dropleft",[e("div.link-03.lh-0.mg-l-5[id='dropdownMenuButton'][data-toggle='dropdown'][aria-haspopup='true'][aria-expanded='false']",{style:{cursor:"pointer"},title:"Filtrar"},e("i.fas.fa-filter.tx-18.pd-5.tx-primary")),e(".dropdown-menu.tx-13[aria-labelledby='dropdownMenuButton']",[e("h6.dropdown-header.tx-uppercase.tx-12.tx-bold.tx-inverse","FILTROS:"),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=1"},["Recetas de Hoy"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=2&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["Recetas entre Fechas"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=3&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["Recetas de Emergencia"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=4&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["Recetas de Hospitalizaci\xF3n"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=5&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["Recetas de PB"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=6&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["Recetas de H1"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=7&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["Recetas de H2"]),e(e.route.Link,{class:"dropdown-item",href:"/farmacia/recetas/?idFiltro=8&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta},["Recetas de C2"])])])])]),e("div.col-sm-12.filemgr-content-header",{class:C.idFiltro==1?"mg-t-35":"mg-t-40"},[e("i[data-feather='search']"),e("div.search-form",e("input.form-control[type='search'][placeholder='Buscar'][id='searchField']",{oninput:function(t){C.searchField=t.target.value},value:C.searchField}))]),e("table.table.table-sm.tx-11[id='table-recetas'][width='100%']")])])])},C={notificaciones:[],pedidos:[],pendientes:0,despachos:0,showBitacora:"",showPedido:"",fechaDesde:"",fechaHasta:"",searchField:"",idFiltro:0,loader:!1,error:"",oninit:t=>{Lt.page="",C.pedidos.length==0&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),C.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),C.fechaHasta=moment().format("DD-MM-YYYY"),C.loader=!0,C.pedidos=[],C.fetch())},oncreate:t=>{yt.suscribirCanal("MetroPlus-Farmacia")},loadRecetas:()=>{$.fn.dataTable.ext.errMode="none";var t=$("#table-recetas").DataTable({data:C.pedidos,dom:"ltp",responsive:!0,language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Todav\xEDa no tienes resultados disponibles.",sEmptyTable:"Ning\xFAn dato disponible en esta tabla",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:[{title:"Fecha Receta:"},{title:"Paciente:"},{title:"Status Despacho:"},{title:"Opciones:"}],aoColumnDefs:[{mRender:function(a,o,r){return r.FECHA_RECETA},visible:!0,aTargets:[0],orderable:!1},{mRender:function(a,o,r){return r.CD_PACIENTE},visible:!0,aTargets:[1],orderable:!1},{mRender:function(a,o,r){return r.NM_PACIENTE},visible:!0,aTargets:[2],orderable:!1},{mRender:function(a,o,r){return"OPCIONES"},visible:!0,aTargets:[3],orderable:!1}],fnRowCallback:function(a,o,r,i){e.mount(a,{view:()=>[e("td.tx-14",{style:{}},o.FECHA_RECETA),e("td.wd-60p",{style:{}},[e(".d-inline.tx-semibold.tx-14","NHC: "),e(".d-inline.tx-14",o.CD_PACIENTE),e("br"),e(".d-inline.tx-semibold.tx-14","PTE: "),e(".d-inline.tx-14",o.NM_PACIENTE),e("br"),e(".d-inline.tx-semibold.tx-14","N\xB0 ATENCI\xD3N: "),e(".d-inline.tx-14",o.CD_ATENDIMENTO),e(".d-inline.tx-semibold.tx-14"," UBICACI\xD3N: "),e(".d-inline.tx-14",o.UBICACION+" - "+o.DS_UNID_INT)]),e("td.tx-center.wd-10p.tx-white.tx-semibold",{style:{"background-color":o.STATUS_DESPACHO==0?"#fd7e14":"#0d9448"}},o.STATUS_DESPACHO==0?"Pendiente":"Despachado"),e("td.tx-center.wd-10p.tx-semibold",{onclick:()=>{e.route.set("/farmacia/receta/",{numeroHistoriaClinica:o.CD_PACIENTE,numeroAtencion:o.CD_ATENDIMENTO,numeroReceta:o.id,track:"view"})},style:{"background-color":"rgb(168, 190, 214)",cursor:"pointer"}}," Ver ",e("br")," Receta ")]})},drawCallback:function(a){C.loader=!1,C.despachos=0,C.pendientes=0,a.aoData.map(function(o,r){o._aData.STATUS_DESPACHO==1?C.despachos++:C.pendientes++})}});return $(".dataTables_length select").select2({minimumResultsForSearch:1/0}),$("#searchField").keyup(function(a){t.search($("#searchField").val()).draw()}),t},fetch:()=>{let t="";C.idFiltro==1?t="?idFiltro="+C.idFiltro:t="?idFiltro="+C.idFiltro+"&fechaDesde="+C.fechaDesde+"&fechaHasta="+C.fechaHasta,e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/recetas"+t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(a){console.log(a),C.loader=!1,C.pedidos=a.data}).catch(function(a){setTimeout(function(){C.fetch()},2e3)})},reproesarMensajeXML:(t,a)=>{C.loader=!0,e.request({method:"GET",url:"https://lisa.hospitalmetropolitano.org/v1/pedidos/send-pedido?sc="+t+"&idTimeRecord="+a,extract:function(o){return{status:o.status,body:o.responseText}},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(o){o.status==200?(alert("Preceso realizado con \xE9xito."),setTimeout(function(){window.location.reload()},300)):alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")}).catch(function(o){alert("Error en env\xEDo de este mensaje. Reintente nuevamente.")})},reloadData:()=>{var t=$("#table-recetas").DataTable();t.clear(),t.rows.add(C.pedidos).draw()},view:t=>C.loader?[e(Lt,{oncreate:Lt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farmacia"},[" Farmacia "])),e("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),e("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])])])])]))]:C.error.length!==0?[e(Lt,{oncreate:Lt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farnacia"},[" Farmacia "])),e("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),e("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),e("div.row.animated.fadeInUp",[e("p","No existe informaci\xF3n.")])]))]:!C.loader&&C.pedidos.length!==0?[e(Lt,{oncreate:Lt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farmacia"},[" Farmacia "])),e("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),e("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),e(Wd)])),e("div.section-nav",[e("label.nav-label","Recetas de Alta"),e("div.mg-t-10.bg-white",{},e("div.mg-t-10.bg-white",e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Recetas de Alta:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",C.pedidos.length),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Receta(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Pendientes:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",C.pendientes),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Receta(s)")])])]),e("div.card-header.pd-t-20.pd-b-0.bd-b-0",[e("h6.lh-5.mg-b-5","Despachadas:")]),e("div.card-body.pd-0",[e("div.pd-t-10.pd-b-0.pd-x-20.d-flex.align-items-baseline",[e("h1.tx-normal.tx-rubik.mg-b-0.mg-r-5",C.despachos),e("div.tx-18",[e("divv.lh-0.tx-gray-300","Receta(s)")])])])),e("div.pd-20",e(Kd)))])]:!C.loader&&C.pedidos.length==0?[e(Lt,{oncreate:Lt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farmacia"},[" Farmacia "])),e("li.breadcrumb-item.active[aria-current='page']","Recetas de Alta")]),e("h1.df-title.mg-t-20.mg-b-10","Recetas de Alta:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e(".alert.alert-danger[role='alert']","No existe informaci\xF3n disponible.")])])]))]:[e(Lt,{oncreate:Lt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/laboratorio"},[" Laboratorio "])),e("li.breadcrumb-item.active[aria-current='page']","Pedidos Ingresados")]),e("h1.df-title.mg-t-20.mg-b-10","Pedidos Ingresados:"),e("div.row.animated.fadeInUp",[e("div.col-12",[e("p"," Error interno.")])])]))]},ia={observaciones:"",data:[],obs:"",show:!1,loadObservaciones:()=>{moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),$.fn.dataTable.ext.errMode="none";var t=$("#table-observaciones").DataTable({data:ia.data,dom:"tp",language:{searchPlaceholder:"Buscar...",sSearch:"",lengthMenu:"Mostrar _MENU_ registros por p\xE1gina",sProcessing:"Procesando...",sZeroRecords:"Sin Notificaciones",sEmptyTable:"Sin Notificaciones",sInfo:"Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",sInfoEmpty:"Mostrando registros del 0 al 0 de un total de 0 registros",sInfoFiltered:"(filtrado de un total de _MAX_ registros)",sInfoPostFix:"",sUrl:"",sInfoThousands:",",sLoadingRecords:"Cargando...",oPaginate:{sFirst:"Primero",sLast:"\xDAltimo",sNext:"Siguiente",sPrevious:"Anterior"},oAria:{sSortAscending:": Activar para ordenar la columna de manera ascendente",sSortDescending:": Activar para ordenar la columna de manera descendente"}},cache:!1,order:!1,destroy:!0,columns:!1,aoColumnDefs:[{mRender:function(a,o,r,i){return""},visible:!0,width:"100%",aTargets:[0],orderable:!1}],fnRowCallback:function(a,o,r,i){},drawCallback:function(a){a.aoData.map(function(o,r){e.mount(o.anCells[0],{view:function(){return e("div.demo-static-toast",e(".toast[role='alert'][aria-live='assertive'][aria-atomic='true']",{style:{"max-width":"none"}},[e("div.toast-header.bg-primary",[e("small.tx-white.tx-5.mg-b-0.mg-r-auto","Observaci\xF3n:"),e("small.tx-white",moment.unix(o._aData.timestamp).format("DD-MM-YYYY HH:mm"))]),e("div.toast-body.small",o._aData.message)]))}})})}});return t},reloadObservaciones:()=>{var t=$("#table-observaciones").DataTable();t.clear(),t.rows.add(ia.data).draw()},fetch:()=>{e.request({method:"GET",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+Me.numeroReceta}).then(function(t){ia.data=t.data,ia.loadObservaciones()}).catch(function(t){})},sendObs:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/obs-farmacia/"+Me.numeroReceta,body:{message:ia.observaciones},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status&&(ia.observaciones="",ia.fetch(),alert("Observaci\xF3n registrada con \xE9xito."))}).catch(function(t){})}},Zd={view:()=>{if(Me.medicamentos.length!==0)return[e("thead",e("tr",[e("th","MEDICACI\xD3N"),e("th","CANT:"),e("th","DESP:")])),e("tbody",[Me.medicamentos.map(function(t,a,o){return t.DESP.includes("SI")?[e("tr",[e("td.tx-semibold.tx-normal",[t.MEDICACION,e("br"),t.OBS!==null?e(".d-inline","Observaciones:"):"",t.OBS!==null?e("br"):"",t.OBS!==null?e(".d-inline",t.OBS):""]),e("td.tx-semibold.tx-normal",t.CANT),e("td.tx-semibold.tx-normal.bg-danger.tx-white",t.DESP)])]:[e("tr",[e("td.tx-semibold.tx-normal",[t.MEDICACION,e("br"),t.OBS!==null?e(".d-inline","Observaciones:"):"",t.OBS!==null?e("br"):"",t.OBS!==null?e(".d-inline",t.OBS):""]),e("td.tx-color-03.tx-normal",t.CANT),e("td.tx-color-03.tx-normal",t.DESP)])]})])]}},Me={data:[],medicamentos:[],despacho:!1,error:"",numeroReceta:"",numeroAtencion:"",numeroHistoriaClinica:"",oninit:t=>{t.attrs.numeroReceta!==void 0&&(document.title="Detalle de Receta N\xB0: "+t.attrs.numeroReceta+" | "+N.title,(Me.data!==void 0&&Me.data.length==0||Me.numeroReceta!==t.attrs.numeroReceta)&&(Me.numeroReceta=t.attrs.numeroReceta,Me.numeroAtencion=t.attrs.numeroAtencion,Me.numeroHistoriaClinica=t.attrs.numeroHistoriaClinica,Me.fetch()))},fetch:()=>{Me.data=[],Me.loader=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/status-receta",body:{numeroReceta:Me.numeroReceta},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){t.status?(t.data=t.data[0],Me.loader=!1,Me.data=t.data,Me.despacho=Me.data.STATUS_DESPACHO==1,Me.medicamentos=t.data.DATA,ia.fetch()):Me.error=t.message}).catch(function(t){})},checkDespacho:()=>{e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/check-receta",body:{numeroReceta:Me.numeroReceta,status:Me.despacho},headers:{"Content-Type":"application/json; charset=utf-8"}}).then(function(t){Me.data.FECHA_DESPACHO=t.FECHA_DESPACHO}).catch(function(t){})},view:t=>[e(_,{oncreate:_.setPage("farmacia")}),e(Lt,{oncreate:Lt.setPage(5)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e("ol.breadcrumb.df-breadcrumbs.mg-b-10",[e("li.breadcrumb-item",e(e.route.Link,{href:"/"},[" MetroPlus "])),e("li.breadcrumb-item",e(e.route.Link,{href:"/farmacia"},["Farmacia"])),e("li.breadcrumb-item.active[aria-current='page']","DETALLE DE RECETA")]),e("h1.df-title.mg-t-20.mg-b-10","Detalle de Receta N\xB0: "+Me.numeroReceta),e("div.row.animated.fadeInUp",[e("div.col-12",[e("div.table-loader.wd-100p",{oncreate:a=>{Me.loader?a.dom.hidden=!1:a.dom.hidden=!0},onupdate:a=>{Me.loader?a.dom.hidden=!1:a.dom.hidden=!0}},[e("div.placeholder-paragraph",[e("div.line"),e("div.line")])]),e("div.table-content.col-12.pd-r-0.pd-l-0.pd-b-20.",{oncreate:a=>{Me.loader?a.dom.hidden=!0:a.dom.hidden=!1},onupdate:a=>{Me.loader?a.dom.hidden=!0:a.dom.hidden=!1}},[e("div.bg-white.bd.pd-20.pd-lg-30.d-flex.flex-column.justify-content-end",[Me.despacho?[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-success mg-b-2 mg-r-2"},[],"Despachado")]:[e("span.pd-6.wd-100p.wd-md-20p",{class:"badge badge-light mg-b-2 mg-r-2"},[],"Pendiente")],e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{C.idFiltro!==void 0&&C.idFiltro>1?(C.pedidos=[],e.route.set("/farmacia/recetas/",{idFiltro:C.idFiltro,fechaDesde:C.fechaDesde,fechaHasta:C.fechaHasta})):(C.pedidos=[],e.route.set("/farmacia/recetas/",{idFiltro:1}))}}))),e("div.table-responsive",[e("table.table.table-bordered.table-sm.tx-12",[e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS RECETA:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Receta:"),e("td",{style:{"background-color":"#eaeff5"}},Me.data.CD_DOCUMENTO_CLINICO),e("th",{style:{"background-color":"#a8bed6"}},"Fecha:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Me.data.DT_ATENDIMENTO),e("th",{style:{"background-color":"#a8bed6"}},"N\xB0 de Atenci\xF3n:"),e("td[colspan='3']",{style:{"background-color":"#eaeff5"}},Me.data.CD_ATENDIMENTO)])]),e("thead",e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","DATOS DEL PACIENTE:")])),e("tbody",[e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Apellidos y Nombres:"),e("td[colspan='4']",{style:{"background-color":"#eaeff5"}},Me.data.NM_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"NHC:"),e("td",{style:{"background-color":"#eaeff5"}},Me.data.CD_PACIENTE),e("th",{style:{"background-color":"#a8bed6"}},"Ubicaci\xF3n:"),e("td[colspan='2']",{style:{"background-color":"#eaeff5"}},Me.data.UBICACION)]),e("tr.bg-litecoin.op-9.tx-white",[e("th[scope='col'][colspan='9']","MEDICAMENTOS Y OBSERVACIONES:")]),e("tr",[e("th",{style:{"background-color":"#a8bed6"}},"Medicamentos:"),e("td.pd-0[colspan='8']",{style:{"background-color":"#eaeff5"}},e(Zd))]),e("tr.d-print-none.bg-litecoin.op-9.tx-white.",[e("th[scope='col'][colspan='9']","DESPACHO Y PRESCRIPCIONES:")]),e("tr.d-print-none",[e("td[colspan='9']",{style:{"background-color":"#eaeff5"}},e("ul.nav.nav-tabs[id='myTab'][role='tablist']",[e("li.nav-item",e("a.nav-link[target='_target'][href='"+Me.data.URL+"']",{style:{color:"#476ba3"}},e("i.fas.fa-file-alt.pd-1.mg-r-2")," Ver Receta ")),e("li.nav-item",e("a.nav-link[id='home-comment'][data-toggle='tab'][href='#comment'][role='tab'][aria-controls='comment']",{style:{color:"#476ba3"}},e("i.fas.fa-inbox.pd-1.mg-r-2")," Despacho "))]))]),e("tr.d-print-none",[e("td[colspan='9']",{},e(".tab-content.bd.bd-gray-300.bd-t-0[id='myTab']",[e(".tab-pane.fade[id='comment'][role='tabpanel'][aria-labelledby='home-comment']",[e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Despacho Farmacia"),e("tr",[e("td.tx-18.tx-medium.text-left","\xBFConfirmar despacho?:"),e("td.tx-16.tx-normal",e("div.custom-control.custom-checkbox.tx-16",[e("input.custom-control-input.tx-16[type='checkbox'][id='check_despacho']",{checked:Me.despacho,onclick:function(a){a.preventDefault(),this.checked?(this.checked=!0,Me.despacho=!0,Me.checkDespacho()):(this.checked=!1,Me.despacho=!1,Me.checkDespacho())}}),e("label.custom-control-label.tx-16[for='check_despacho']",Me.despacho?["SI a las: "+Me.data.FECHA_DESPACHO]:["SI"])]))])]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Observaciones"),e("textarea.form-control.mg-t-5[rows='5'][placeholder='Observaciones']",{oninput:function(a){ia.observaciones=a.target.value},value:ia.observaciones}),e("div.mg-0.mg-t-5.text-right",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){ia.observaciones.length!==0?ia.sendObs():alert("Observaciones es obligatorio.")}},[e("i.fas.fa-save.mg-r-5")],"Guardar")]),e("hr.wd-100p.mg-t-5.mg-b-5")]),e("p.mg-5",[e("span.badge.badge-light.wd-100p.tx-14","Historial de Observaciones"),e("table.table.table-sm[id='table-observaciones'][width='100%']")])])]))]),e("tr.d-print-none",[])])])])])])])])]))]};let ua={listado:[],loading:!1,cargarListado:()=>{ua.listado=[],ua.loading=!0,e.request({method:"POST",url:"https://api.hospitalmetropolitano.org/t/v1/medicos-patologia",body:{searchField:" "},headers:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:localStorage.accessToken}}).then(function(t){t.status?(ua.listado=t.data,ua.loading=!1):(ua.loading=!1,ua.error=t.message)}).catch(function(t){ua.loading=!1,ua.error=t,alert(ua.error)})}},Or=ua;const Hr={oninit:t=>{t.attrs.firma!==void 0&&(Or=t.attrs.firma)},view:t=>[Or.listado.map(function(a){return[e("tr#"+a.CD_PRESTADOR,[e("th.tx-12.cedulamedico",{style:{width:"20%"}},a.CD_PRESTADOR),e("td.tx-12.nombremedico",{style:{width:"60%"}},a.NM_PRESTADOR)])]})]};let ca=ua;const Qd={oninit:t=>{ca.cargarListado()},oncreate:t=>{ca.listado.length==0?e.mount(document.querySelector("div#loader"),wa):ca.listado.length>0&&(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-firmas"),{view:a=>[e(Hr,{firma:ca})]}))},onupdate:t=>{ca.listado.length==0&&ca.loading?e.mount(document.querySelector("div#loader"),wa):ca.listado.length>0&&!ca.loading?(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-firmas"),{view:a=>[e(Hr,{firma:ca})]})):ca.listado.length==0&&!ca.loading&&e.mount(document.querySelector("div#loader"),wo)},view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(pt,{oncreate:pt.setPage(29)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"listado firmas"}]),e("h1.df-title.mg-t-20.mg-b-10","Firma del Pat\xF3logo para Informes"),e("table.table",{style:{width:"100%"}},[e("tr",[e("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"No. M\xE9dico"),e("th.tx-12.thead-light",{scope:"col",style:{width:"60%"}},"Nombre M\xE9dico")])]),e("table.table#listado-firmas"),e("div#loader")]))]},Lo={view:()=>[e("h5.tx-right.tx-normal.tx-rubik.tx-color-03.mg-b-0",{style:{width:"50%",float:"right"}},e("small.pd-2.tx-20",e("i.fas.fa-times-circle.pd-2",{style:{cursor:"pointer"},title:"Cerrar",onclick:()=>{e.mount(document.querySelector("#gestion-formulario"),null),e.mount(document.querySelector("#cerrar-formulario"),null)}})))]};let Fa=Ze;const el={oninit:()=>{N.isAuth()},view:t=>e("form#crear-plantilladiagnostico",[e("table.table",[e("tr.nombreplantilla",[e("th.tx-12","Nombre de la Plantilla"),e("td.tx-12",[e("input.form-control[id='inputnombreplantilla'][type='text'][placeholder='Nombre de la Plantilla'][title='Nombre de la Plantilla']")])]),e("tr.plantilla",[e("th.tx-12","Plantilla"),e("td.tx-12",[e("textarea.form-control[id='inputplantilla'][placeholder='Plantilla'][title='Plantilla']",{style:"min-height: 100px",rows:4})])]),e("tr",[e("td.tx-12"),e("td.tx-12",[e("div#plantilla"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputnombreplantilla.value.length===0)Fa.error="El campo Nombre de la Plantilla es requerido",alert(Fa.error),t.dom.inputnombreplantilla.focus();else if(t.dom.inputplantilla.value.length===0)Fa.error="El campo Plantilla es requerido",alert(Fa.error),t.dom.inputplantilla.focus();else{let a={nombreplantilla:t.dom.inputnombreplantilla.value,nombreusuario:Z.user.user,plantilla:t.dom.inputplantilla.value};Fa.guardar(a),e.mount(document.querySelector("#gestion-formulario"),null),e.mount(document.querySelector("#cerrar-formulario"),null),Fa.listado=[],Fa.loading=!0}},style:{margin:"6px 0"}},[e("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let Oa=Ze,Co=null;const tl={oninit:t=>{t.attrs.diagnostico!==void 0&&(Co=t.attrs.diagnostico),N.isAuth()},view:t=>e("form#editar-plantilladiagnostico",[e("table.table",[e("tr.nombreplantilla",[e("th.tx-12","Nombre de la Plantilla"),e("td.tx-12",[e("input.form-control[id='inputnombreplantilla'][type='text'][placeholder='Nombre de la Plantilla'][title='Nombre de la Plantilla']",{value:Co.nombreplantilla})])]),e("tr.plantilla",[e("th.tx-12","Plantilla"),e("td.tx-12",[e("textarea.form-control[id='inputplantilla'][placeholder='Plantilla'][title='Plantilla']",{style:"min-height: 100px",rows:4,value:Co.plantilla})])]),e("tr",[e("td.tx-12"),e("td.tx-12",[e("div#plantilla"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputnombreplantilla.value.length===0)Oa.error="El campo Nombre de la Plantilla es requerido",alert(Oa.error),t.dom.inputnombreplantilla.focus();else if(t.dom.inputplantilla.value.length===0)Oa.error="El campo Plantilla es requerido",alert(Oa.error),t.dom.inputplantilla.focus();else{let a={id:Co.id,nombreplantilla:t.dom.inputnombreplantilla.value,nombreusuario:Z.user.user,plantilla:t.dom.inputplantilla.value};Oa.actualizar(a),e.mount(document.querySelector("#gestion-formulario"),null),e.mount(document.querySelector("#cerrar-formulario"),null),Oa.listado=[],Oa.loading=!0}},style:{margin:"6px 0"}},[e("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let mo=Ze;const $r={oninit:t=>{t.attrs.diagnostico!==void 0&&(mo=t.attrs.diagnostico)},view:t=>[mo.listado.map(function(a){return[e("tr#"+a.id,[e("td.tx-12.nombreplantilla",{style:{width:"20%"}},a.nombreplantilla),e("td.tx-12.plantilla",{style:{width:"50%"}},a.plantilla),e("td.tx-12",{style:{width:"20%"}},[e("div.mg-0.mg-t-5.text-left",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){e.mount(document.querySelector("#gestion-formulario"),{view:()=>e(tl,{diagnostico:a})}),e.mount(document.querySelector("#cerrar-formulario"),Lo)}},[e("i.fas.fa-pen.mg-r-5")],"Editar"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){window.confirm("Est\xE1 seguro que desea borrar el elemento?")&&(mo.eliminar(a),mo.listado=[],mo.loading=!0)}},[e("i.fas.fa-link.mg-r-5")],"Eliminar")])])])]})]};let ha=Ze;const al={oninit:t=>{N.isAuth(),Ze.cargarListado(Z.user.user)},oncreate:t=>{ha.listado.length==0?e.mount(document.querySelector("div#loader"),wa):ha.listado.length>0&&(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-diagnostico"),{view:a=>[e($r,{diagnostico:ha})]}))},onupdate:t=>{ha.listado.length==0&&ha.loading?e.mount(document.querySelector("div#loader"),wa):ha.listado.length>0&&!ha.loading?(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-diagnostico"),{view:a=>[e($r,{diagnostico:ha})]})):ha.listado.length==0&&!ha.loading&&e.mount(document.querySelector("div#loader"),wo)},view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(pt,{oncreate:pt.setPage(28)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"listado plantillas diagn\xF3stico"}]),e("h1.df-title.mg-t-20.mg-b-10","Listado de Plantillas para diagn\xF3stico"),e("div.mg-0.mg-t-10.mg-b-10.text-left",[e("button#btnnuevaplantilla.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:()=>{e.mount(document.querySelector("#gestion-formulario"),el),e.mount(document.querySelector("#cerrar-formulario"),Lo)}},[e("i.fas.mg-r-5")],"Nueva Plantilla diagn\xF3stico"),e("div#cerrar-formulario",{style:{width:"50%",float:"right"}})]),e("div#gestion-formulario"),e("table.table",{style:{width:"100%"}},[e("tr",[e("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"Nombre Plantilla"),e("th.tx-12.thead-light",{scope:"col",style:{width:"50%"}},"Plantilla"),e("th.tx-12.thead-light",{scope:"col",style:{width:"20%"}},"")])]),e("table.table#listado-diagnostico"),e("div#loader")]))]};let po=Ue;const ol={oninit:()=>{},view:t=>e("form#crear-plantillamacroscopico",[e("table.table",[e("tr.plantilla",[e("th.tx-12",[e("label.tx-semibold.tx-12","Nombre de la Plantilla"),e("input.form-control[id='inputnombreplantilla'][type='text'][placeholder='Nombre de la Plantilla'][title='Nombre de la Plantilla']")]),e("th.tx-12",[e("label.tx-semibold.tx-12","Descripci\xF3n de la Plantilla"),e("input.form-control[id='inputdescripcionplantilla'][type='text'][placeholder='Descripci\xF3n de la Plantilla'][title='Descripci\xF3n de la Plantilla']")])]),e("tr.plantilla",[e("th.tx-12",[e("label.tx-semibold.tx-12","Informaci\xF3n Cl\xEDnica"),e("textarea.form-control[id='textareainformacionclinica'][placeholder='Informaci\xF3n Cl\xEDnica'][title='Informaci\xF3n Cl\xEDnica']",{style:"min-height: 100px",rows:4})]),e("th.tx-12",[e("label.tx-semibold.tx-12","Dg presuntivo sin c\xF3digo"),e("textarea.form-control[id='textareadgpresuntivo'][placeholder='Dg presuntivo sin c\xF3digo'][title='Dg presuntivo sin c\xF3digo']",{style:"min-height: 100px",rows:4})])]),e("tr.plantilla",[e("th.tx-12",[e("label.tx-semibold.tx-12","Resultado Macrosc\xF3pico"),e("textarea.form-control[id='textarearesultmacroscopico'][placeholder='Resultado Macr\xF3scopico'][title='Resultado Macr\xF3scopico']",{style:"min-height: 100px",rows:4})]),e("th.tx-12",[e("label.tx-semibold.tx-12","Resultado Microsc\xF3pico"),e("textarea.form-control[id='textarearesultmicroscopico'][placeholder='Resultado Microsc\xF3pico'][title='Resultado Microsc\xF3pico']",{style:"min-height: 100px",rows:4})])]),e("tr.plantilla",[e("th.tx-12",[e("label.tx-semibold.tx-12","Diagn\xF3stico"),e("textarea.form-control[id='textareadiagnostico'][placeholder='Diagn\xF3stico'][title='Diagn\xF3stico']",{style:"min-height: 100px",rows:4})]),e("th.tx-12",[])]),e("tr",[e("td.tx-12"),e("td.tx-12",[e("div#plantilla"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputnombreplantilla.value.length===0)po.error="El campo Nombre de la Plantilla es requerido",alert(po.error),t.dom.inputnombreplantilla.focus();else{let a={nombreplantilla:t.dom.inputnombreplantilla.value,descripcion:t.dom.inputdescripcionplantilla.value,infoclinica:t.dom.textareainformacionclinica.value,dgpresuntivo:t.dom.textareadgpresuntivo.value,resultmacroscopico:t.dom.textarearesultmacroscopico.value,resultmicroscopico:t.dom.textarearesultmicroscopico.value,diagnostico:t.dom.textareadiagnostico.value};po.guardar(a),e.mount(document.querySelector("#gestion-formulario"),null),e.mount(document.querySelector("#cerrar-formulario"),null),po.listado=[],po.loading=!0}},style:{margin:"6px 0"}},[e("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let fo=Ue,Ma=null;const rl={oninit:t=>{t.attrs.macroscopico!==void 0&&(Ma=t.attrs.macroscopico)},view:t=>e("form#editar-plantillamacroscopico",[e("table.table",[e("tr.plantilla",[e("th.tx-12",[e("label.tx-semibold.tx-12","Nombre de la Plantilla"),e("input.form-control[id='inputnombreplantilla'][type='text'][placeholder='Nombre de la Plantilla'][title='Nombre de la Plantilla']",{value:Ma.nombreplantilla})]),e("th.tx-12",[e("label.tx-semibold.tx-12","Descripci\xF3n de la Plantilla"),e("input.form-control[id='inputdescripcionplantilla'][type='text'][placeholder='Descripci\xF3n de la Plantilla'][title='Descripci\xF3n de la Plantilla']",{value:Ma.descripcion})])]),e("tr.plantilla",[e("th.tx-12",[e("label.tx-semibold.tx-12","Informaci\xF3n Cl\xEDnica"),e("textarea.form-control[id='textareainformacionclinica'][placeholder='Informaci\xF3n Cl\xEDnica'][title='Informaci\xF3n Cl\xEDnica']",{style:"min-height: 100px",rows:4,value:Ma.infoclinica})]),e("th.tx-12",[e("label.tx-semibold.tx-12","Dg presuntivo sin c\xF3digo"),e("textarea.form-control[id='textareadgpresuntivo'][placeholder='Dg presuntivo sin c\xF3digo'][title='Dg presuntivo sin c\xF3digo']",{style:"min-height: 100px",rows:4,value:Ma.dgpresuntivo})])]),e("tr.plantilla",[e("th.tx-12",[e("label.tx-semibold.tx-12","Resultado Macrosc\xF3pico"),e("textarea.form-control[id='textarearesultmacroscopico'][placeholder='Resultado Macr\xF3scopico'][title='Resultado Macr\xF3scopico']",{style:"min-height: 100px",rows:4,value:Ma.resultmacroscopico})]),e("th.tx-12",[e("label.tx-semibold.tx-12","Resultado Microsc\xF3pico"),e("textarea.form-control[id='textarearesultmicroscopico'][placeholder='Resultado Microsc\xF3pico'][title='Resultado Microsc\xF3pico']",{style:"min-height: 100px",rows:4,value:Ma.resultmicroscopico})])]),e("tr.plantilla",[e("th.tx-12",[e("label.tx-semibold.tx-12","Diagn\xF3stico"),e("textarea.form-control[id='textareadiagnostico'][placeholder='Diagn\xF3stico'][title='Diagn\xF3stico']",{style:"min-height: 100px",rows:4,value:Ma.diagnostico})]),e("th.tx-12",[])]),e("tr",[e("td.tx-12"),e("td.tx-12",[e("div#plantilla"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){if(t.dom.inputnombreplantilla.value.length===0)fo.error="El campo Nombre de la Plantilla es requerido",alert(fo.error),t.dom.inputnombreplantilla.focus();else{let a={id:Ma.id,nombreplantilla:t.dom.inputnombreplantilla.value,descripcion:t.dom.inputdescripcionplantilla.value,infoclinica:t.dom.textareainformacionclinica.value,dgpresuntivo:t.dom.textareadgpresuntivo.value,resultmacroscopico:t.dom.textarearesultmacroscopico.value,resultmicroscopico:t.dom.textarearesultmicroscopico.value,diagnostico:t.dom.textareadiagnostico.value};fo.actualizar(a),e.mount(document.querySelector("#gestion-formulario"),null),e.mount(document.querySelector("#cerrar-formulario"),null),fo.listado=[],fo.loading=!0}},style:{margin:"6px 0"}},[e("i.fas.fa-save.mg-r-5")],"Guardar")])])])])};let bo=Ue;const Yr={oninit:t=>{t.attrs.macroscopico!==void 0&&(bo=t.attrs.macroscopico)},view:t=>[bo.listado.map(function(a){return[e("tr#"+a.id,[e("td.tx-12.nombreplantilla",{style:{width:"70%"}},a.nombreplantilla),e("td.tx-12",{style:{width:"30%"}},[e("div.mg-0.mg-t-5.text-left",[e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){e.mount(document.querySelector("#gestion-formulario"),{view:()=>e(rl,{macroscopico:a})}),e.mount(document.querySelector("#cerrar-formulario"),Lo)}},[e("i.fas.fa-pen.mg-r-5")],"Editar"),e("button.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:function(){window.confirm("Est\xE1 seguro que desea borrar el elemento?")&&(bo.eliminar(a),bo.listado=[],bo.loading=!0)}},[e("i.fas.fa-link.mg-r-5")],"Eliminar")])])])]})]};let ga=Ue;const il={oninit:t=>{N.isAuth(),Ue.cargarListado(Z.user.user)},oncreate:t=>{ga.listado.length==0?e.mount(document.querySelector("div#loader"),wa):ga.listado.length>0&&(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-macroscopico"),{view:a=>[e(Yr,{macroscopico:ga})]}))},onupdate:t=>{ga.listado.length==0&&ga.loading?e.mount(document.querySelector("div#loader"),wa):ga.listado.length>0&&!ga.loading?(e.mount(document.querySelector("div#loader"),null),e.mount(document.querySelector("table.table#listado-macroscopico"),{view:a=>[e(Yr,{macroscopico:ga})]})):ga.listado.length==0&&!ga.loading&&e.mount(document.querySelector("div#loader"),wo)},view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(pt,{oncreate:pt.setPage(27)}),e("div.content.content-components",e("div.container.mg-l-0.mg-r-0",{style:{"max-width":"100%"}},[e(pa,[{path:"/",label:"metroplus"},{path:"/patologia",label:"patologia"},{path:"",label:"listado plantillas macrosc\xF3pico"}]),e("h1.df-title.mg-t-20.mg-b-10","Listado de Plantillas para Macrosc\xF3pico"),e("div.mg-0.mg-t-10.mg-b-10.text-left",[e("button#btnnuevaplantilla.btn.btn-xs.btn-primary.mg-l-2.tx-semibold[type='button']",{onclick:()=>{e.mount(document.querySelector("#gestion-formulario"),ol),e.mount(document.querySelector("#cerrar-formulario"),Lo)}},[e("i.fas.mg-r-5")],"Nueva Plantilla Macrosc\xF3pico"),e("div#cerrar-formulario",{style:{width:"50%",float:"right"}})]),e("div#gestion-formulario"),e("table.table",{style:{width:"100%"}},[e("tr",[e("th.tx-12.thead-light",{scope:"col",style:{width:"70%"}},"Nombre Plantilla"),e("th.tx-12.thead-light",{scope:"col",style:{width:"30%"}},"")])]),e("table.table#listado-macroscopico"),e("div#loader")]))]},nl={"/":N,"/subscribir/notificaciones":go,"/redir/mv/:idAtencion":sn,"/inicio":is,"/laboratorio":jn,"/laboratorio/lisa/pedidos/ingresados":{oninit:t=>{if(N.isAuth("laboratorio",16),document.title="Recepci\xF3n de Pedidos | "+N.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/laboratorio/lisa/pedidos/ingresados/",{idFiltro:1});V.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==V.idFiltro&&V.idFiltro!==1&&V.fechaDesde!==void 0?(V.idFiltro=t.attrs.idFiltro,V.fechaDesde=t.attrs.fechaDesde,V.fechaHasta=t.attrs.fechaHasta,V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),V.idFiltro=t.attrs.idFiltro,V.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),V.fechaHasta=moment().format("DD-MM-YYYY"),V.pedidos.length==0?(V.loader=!0,V.pedidos=[],V.fetchPedidosIngresados()):V.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("laboratorio")}),e(V)]},"/laboratorio/lisa/pedido/":{onmatch:t=>t.numeroPedido!==void 0&&t.idTimeRecord!==void 0?ne:e.route.SKIP},"/laboratorio/notificaciones":ho,"/laboratorio/notificaciones/filtros":vt,"/laboratorio/notificaciones/enviadas":ie,"/laboratorio/notificaciones/pendientes":Pt,"/laboratorio/notificaciones/error":st,"/laboratorio/flebotomista":{oninit:t=>{if(N.isAuth("laboratorio",16),document.title="Recepci\xF3n de Pedidos | "+N.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/laboratorio/flebotomista/",{idFiltro:1});K.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==K.idFiltro&&K.idFiltro!==1&&K.fechaDesde!==void 0?(K.idFiltro=t.attrs.idFiltro,K.fechaDesde=t.attrs.fechaDesde,K.fechaHasta=t.attrs.fechaHasta,K.loader=!0,K.pedidos=[],K.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),K.idFiltro=t.attrs.idFiltro,K.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),K.fechaHasta=moment().format("DD-MM-YYYY"),K.pedidos.length==0?(K.loader=!0,K.pedidos=[],K.fetchPedidos()):K.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("laboratorio")}),e(K)]},"/laboratorio/flebotomista/pedido/":{onmatch:t=>t.numeroPedido!==void 0&&t.idTimeRecord!==void 0?ce:e.route.SKIP},"/laboratorio/formularios":Wn,"/emergencia":ls,"/emergencia/auxiliar/pedidos/laboratorio":us,"/emergencia/auxiliar/pedido/:idPedido":Et,"/emergencia/enfermeria/pedidos/laboratorio":hs,"/emergencia/enfermeria/pedido/:idPedido":Dt,"/farmacia":Ds,"/farmacia/recetas":{oninit:t=>{if(N.isAuth("farmacia",5),document.title="Recetas de Alta | "+N.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/farmacia/recetas/",{idFiltro:1});C.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==C.idFiltro&&C.idFiltro!==1&&C.fechaDesde!==void 0?(C.idFiltro=t.attrs.idFiltro,C.fechaDesde=t.attrs.fechaDesde,C.fechaHasta=t.attrs.fechaHasta,C.loader=!0,C.pedidos=[],C.fetch()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),C.idFiltro=t.attrs.idFiltro,C.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),C.fechaHasta=moment().format("DD-MM-YYYY"),C.pedidos.length==0?(C.loader=!0,C.pedidos=[],C.fetch()):C.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("laboratorio")}),e(C)]},"/farmacia/receta/":{onmatch:t=>t.numeroReceta!==void 0?Me:e.route.SKIP},"/admisiones":ks,"/admisiones/pre":Vt,"/admisiones/etiquetas":{oninit:t=>{if(N.isAuth("admisiones",7),document.title="Impresi\xF3n de Etiquetas | "+N.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/admisiones/etiquetas/",{idFiltro:1});pe.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==pe.idFiltro&&pe.idFiltro!==1&&pe.fechaDesde!==void 0?(pe.idFiltro=t.attrs.idFiltro,pe.fechaDesde=t.attrs.fechaDesde,pe.fechaHasta=t.attrs.fechaHasta,pe.loader=!0,pe.pedidos=[],pe.fetchEtiquetas()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),pe.idFiltro=t.attrs.idFiltro,pe.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),pe.fechaHasta=moment().format("DD-MM-YYYY"),pe.pedidos.length==0?(pe.loader=!0,pe.pedidos=[],pe.fetchEtiquetas()):pe.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("admisiones")}),e(pe)]},"/mantenimiento":Os,"/mantenimiento/higienizacion":Ea,"/hospitalizacion":Us,"/hospitalizacion/pasaportes":vo,"/hospitalizacion/control-camas":Pe,"/terapia-respiratoria/pedidos":{oninit:t=>{if(N.isAuth("terapia-respiratoria",18),document.title="Recepci\xF3n de Pedidos | "+N.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/terapia-respiratoria/pedidos/",{idFiltro:1});J.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==J.idFiltro&&J.idFiltro!==1&&J.fechaDesde!==void 0?(J.idFiltro=t.attrs.idFiltro,J.fechaDesde=t.attrs.fechaDesde,J.fechaHasta=t.attrs.fechaHasta,J.loader=!0,J.pedidos=[],J.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),J.idFiltro=t.attrs.idFiltro,J.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),J.fechaHasta=moment().format("DD-MM-YYYY"),J.pedidos.length==0?(J.loader=!0,J.pedidos=[],J.fetchPedidos()):J.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("terapia-respiratoria")}),e(J)]},"/bco-sangre/pedidos":Mt,"/neurofisiologia":gd,"/neurofisiologia/pedidos":{oninit:t=>{if(N.isAuth("neurofisiologia",20),document.title="Recepci\xF3n de Pedidos | "+N.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/neurofisiologia/pedidos/",{idFiltro:1});z.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==z.idFiltro&&z.idFiltro!==1&&z.fechaDesde!==void 0?(z.idFiltro=t.attrs.idFiltro,z.fechaDesde=t.attrs.fechaDesde,z.fechaHasta=t.attrs.fechaHasta,z.loader=!0,z.pedidos=[],z.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),z.idFiltro=t.attrs.idFiltro,z.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),z.fechaHasta=moment().format("DD-MM-YYYY"),z.pedidos.length==0?(z.loader=!0,z.pedidos=[],z.fetchPedidos()):z.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("neurofisiologia")}),e(z)]},"/neurofisiologia/pedido/":{onmatch:t=>t.numeroPedido!==void 0?Se:e.route.SKIP},"/terapia-respiratoria":yd,"/terapia-respiratoria/pedido/":{onmatch:t=>t.numeroPedido!==void 0?Ce:e.route.SKIP},"/imagen":bd,"/imagen/pedidos":{oninit:t=>{if(N.isAuth("laboratorio",16),document.title="Recepci\xF3n de Pedidos | "+N.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/imagen/pedidos/",{idFiltro:1});G.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==G.idFiltro&&G.idFiltro!==1&&G.fechaDesde!==void 0?(G.idFiltro=t.attrs.idFiltro,G.fechaDesde=t.attrs.fechaDesde,G.fechaHasta=t.attrs.fechaHasta,G.loader=!0,G.pedidos=[],G.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),G.idFiltro=t.attrs.idFiltro,G.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),G.fechaHasta=moment().format("DD-MM-YYYY"),G.pedidos.length==0?(G.loader=!0,G.pedidos=[],G.fetchPedidos()):G.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("imagen")}),e(G)]},"/imagen/pedido/":{onmatch:t=>t.numeroPedido!==void 0?ke:e.route.SKIP},"/endoscopia":Md,"/endoscopia/pedidos":{oninit:t=>{if(N.isAuth("endoscopia",25),document.title="Recepci\xF3n de Pedidos | "+N.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/endoscopia/pedidos/",{idFiltro:1});X.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==X.idFiltro&&X.idFiltro!==1&&X.fechaDesde!==void 0?(X.idFiltro=t.attrs.idFiltro,X.fechaDesde=t.attrs.fechaDesde,X.fechaHasta=t.attrs.fechaHasta,X.loader=!0,X.pedidos=[],X.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),X.idFiltro=t.attrs.idFiltro,X.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),X.fechaHasta=moment().format("DD-MM-YYYY"),X.pedidos.length==0?(X.loader=!0,X.pedidos=[],X.fetchPedidos()):X.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("endoscopia")}),e(X)]},"/endoscopia/pedido/":{onmatch:t=>t.numeroPedido!==void 0?Ne:e.route.SKIP},"/patologia":Id,"/patologia/pedidos":{oninit:t=>{if(N.isAuth("patologia",26),document.title="Recepci\xF3n de Pedidos | "+N.title,t.attrs.idFiltro==null&&t.attrs.fechaDesde==null)return e.route.set("/patologia/pedidos/",{idFiltro:1});I.idFiltro=t.attrs.idFiltro},onupdate:t=>{t.attrs.idFiltro!==I.idFiltro&&I.idFiltro!==1&&I.fechaDesde!==void 0?(I.idFiltro=t.attrs.idFiltro,I.fechaDesde=t.attrs.fechaDesde,I.fechaHasta=t.attrs.fechaHasta,I.loader=!0,I.pedidos=[],I.fetchPedidos()):t.attrs.idFiltro==1&&(moment.lang("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Enero._Feb._Mar_Abr._May_Jun_Jul._Ago_Sept._Oct._Nov._Dec.".split("_"),weekdays:"Domingo_Lunes_Martes_Mi\xE9rcoles_Jueves_Viernes_S\xE1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mier._Jue._Vier._Sab.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_Sa".split("_")}),I.idFiltro=t.attrs.idFiltro,I.fechaDesde=moment().subtract(1,"days").format("DD-MM-YYYY"),I.fechaHasta=moment().format("DD-MM-YYYY"),I.pedidos.length==0?(I.loader=!0,I.pedidos=[],I.fetchPedidos()):I.loader=!1)},view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(I)]},"/patologia/pedidos/nuevoinforme":{view:t=>t.attrs.numeroPedido!==void 0&&t.attrs.numeroAtencion!==void 0&&t.attrs.numeroHistoriaClinica!==void 0?e(fi,{numeroPedido:t.attrs.numeroPedido,numeroAtencion:t.attrs.numeroAtencion,numeroHistoriaClinica:t.attrs.numeroHistoriaClinica}):e.route.SKIP},"/patologia/pedidos/editarinforme":{view:t=>e(pi,{informeId:t.attrs.informeId,informeModelo:t.attrs.informeId})},"/patologia/gestionPlantillaMacroscopico":{view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(il)]},"/patologia/gestionPlantillaDiagnostico":{view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(al)]},"/patologia/gestionFirmas":{view:t=>[e(_,{oncreate:_.setPage("patologia")}),e(Qd)]},"/patologia/pedido/":{onmatch:t=>t.numeroPedido!==void 0?xe:e.route.SKIP},"/auth":un,"/mi-perfil":ts,"/salir":dn,"/notificaciones":yo,"/:404...":as},sl="/";e.route.prefix="";e.route(document.body.querySelector("#app"),sl,nl);
